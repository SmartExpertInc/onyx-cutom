#!/usr/bin/env python3
"""
–¢–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∫–æ—Å–∞ —Ñ–æ—Ç–æ
"""

import os
import sys
from pathlib import Path

def test_photo_match():
    """–¢–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∫–æ—Å–∞ —Ñ–æ—Ç–æ"""
    
    print("üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–∫–æ—Å–∞ —Ñ–æ—Ç–æ...")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
    frontend_path = Path("custom_extensions/frontend/src/components/templates/BulletPointsRightTemplate.tsx")
    if frontend_path.exists():
        with open(frontend_path, 'r', encoding='utf-8') as f:
            frontend_content = f.read()
        
        print("\nüì± –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–æ—Å
        photo_checks = [
            ("clipPath: 'polygon(0 0, 100% 0, 85% 100%, 0 100%)'", "–õ–µ–≤—ã–π –±–ª–æ–∫: –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–æ—Å –æ—Ç –≤–µ—Ä—Ö–Ω–µ–≥–æ –ø—Ä–∞–≤–æ–≥–æ —É–≥–ª–∞ –≤–Ω–∏–∑-–≤–ª–µ–≤–æ"),
            ("clipPath: 'polygon(15% 0, 100% 0, 100% 100%, 0 100%)'", "–ü—Ä–∞–≤—ã–π –±–ª–æ–∫: –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–æ—Å –æ—Ç –≤–µ—Ä—Ö–Ω–µ–≥–æ –ª–µ–≤–æ–≥–æ —É–≥–ª–∞ –≤–Ω–∏–∑-–≤–ø—Ä–∞–≤–æ"),
            ("linear-gradient(135deg, #1e3a8a 0%, #1e40af 50%, #3b82f6 100%)", "–¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç"),
            ("color: '#ffffff'", "–ë–µ–ª—ã–π —Ç–µ–∫—Å—Ç"),
            ("fontFamily: 'serif'", "Serif —à—Ä–∏—Ñ—Ç")
        ]
        
        for check, description in photo_checks:
            if check in frontend_content:
                print(f"  ‚úÖ {description}")
            else:
                print(f"  ‚ùå {description}")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º PDF —à–∞–±–ª–æ–Ω
    pdf_path = Path("custom_extensions/backend/templates/single_slide_pdf_template.html")
    if pdf_path.exists():
        with open(pdf_path, 'r', encoding='utf-8') as f:
            pdf_content = f.read()
        
        print("\nüìÑ PDF —à–∞–±–ª–æ–Ω:")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–æ—Å
        photo_css_checks = [
            ("clip-path: polygon(0 0, 100% 0, 85% 100%, 0 100%)", "–õ–µ–≤—ã–π –±–ª–æ–∫: –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–æ—Å –æ—Ç –≤–µ—Ä—Ö–Ω–µ–≥–æ –ø—Ä–∞–≤–æ–≥–æ —É–≥–ª–∞ –≤–Ω–∏–∑-–≤–ª–µ–≤–æ"),
            ("clip-path: polygon(15% 0, 100% 0, 100% 100%, 0 100%)", "–ü—Ä–∞–≤—ã–π –±–ª–æ–∫: –¥–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–æ—Å –æ—Ç –≤–µ—Ä—Ö–Ω–µ–≥–æ –ª–µ–≤–æ–≥–æ —É–≥–ª–∞ –≤–Ω–∏–∑-–≤–ø—Ä–∞–≤–æ"),
            ("linear-gradient(135deg, #1e3a8a 0%, #1e40af 50%, #3b82f6 100%)", "–¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç"),
            ("color: #ffffff", "–ë–µ–ª—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞"),
            ("font-family: 'serif', serif", "Serif —à—Ä–∏—Ñ—Ç")
        ]
        
        for check, description in photo_css_checks:
            if check in pdf_content:
                print(f"  ‚úÖ {description}")
            else:
                print(f"  ‚ùå {description}")
    
    print("\nüéØ –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–æ—Å —Ç–æ—á–Ω–æ –∫–∞–∫ –Ω–∞ —Ñ–æ—Ç–æ:")
    print("  üìç –õ–µ–≤—ã–π –±–ª–æ–∫ (45%):")
    print("    - –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω")
    print("    - –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–æ—Å: polygon(0 0, 100% 0, 85% 100%, 0 100%)")
    print("    - –ü—Ä–∞–≤—ã–π –±–æ—Ä–¥–µ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –æ—Ç –≤–µ—Ä—Ö–Ω–µ–≥–æ –ø—Ä–∞–≤–æ–≥–æ —É–≥–ª–∞")
    print("    - –ò–¥–µ—Ç –≤–Ω–∏–∑-–≤–ª–µ–≤–æ, –¥–µ–ª–∞—è –±–ª–æ–∫ —É–∂–µ –∫ –Ω–∏–∑—É")
    print("    - –ë–µ–ª—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ 'Problem' (serif, 3.5rem)")
    print("    - –ë–µ–ª—ã–µ —Ç—Ä–µ—É–≥–æ–ª—å–Ω—ã–µ –º–∞—Ä–∫–µ—Ä—ã (‚ñ∂)")
    print("    - –ë–µ–ª—ã–π —Ç–µ–∫—Å—Ç –º–∞—Ä–∫–µ—Ä–æ–≤")
    print("  üìç –ü—Ä–∞–≤—ã–π –±–ª–æ–∫ (55%):")
    print("    - –ë–µ–ª—ã–π —Ñ–æ–Ω")
    print("    - –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–æ—Å: polygon(15% 0, 100% 0, 100% 100%, 0 100%)")
    print("    - –õ–µ–≤—ã–π –±–æ—Ä–¥–µ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –æ—Ç –≤–µ—Ä—Ö–Ω–µ–≥–æ –ª–µ–≤–æ–≥–æ —É–≥–ª–∞")
    print("    - –ò–¥–µ—Ç –≤–Ω–∏–∑-–≤–ø—Ä–∞–≤–æ, –¥–æ–ø–æ–ª–Ω—è—è –ª–µ–≤—ã–π –±–ª–æ–∫")
    print("    - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª—é–¥–µ–π –∑–∞ —Å—Ç–æ–ª–æ–º")
    
    print("\n‚úÖ –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–æ—Å —Ç–µ–ø–µ—Ä—å —Ç–æ—á–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–æ—Ç–æ!")
    return True

if __name__ == "__main__":
    print("üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ñ–æ—Ç–æ...")
    success = test_photo_match()
    
    if success:
        print("\nüéâ –£—Å–ø–µ—à–Ω–æ! –î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫–æ—Å —Ç–µ–ø–µ—Ä—å —Ç–æ—á–Ω–æ –∫–∞–∫ –Ω–∞ —Ñ–æ—Ç–æ!")
    else:
        print("\n‚ùå –¢—Ä–µ–±—É—é—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è")
        sys.exit(1)