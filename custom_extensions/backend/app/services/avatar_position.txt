custom_backend-1  | INFO:main:[RESEARCH] USE_OPENAI_WEB_SEARCH=False
custom_backend-1  | INFO:app.services.pdf_generator:PDF Template Directory expected at: /app/templates
custom_backend-1  | INFO:main:Video generation service imported successfully
custom_backend-1  | INFO:app.services.video_composer_service:Professional Video Composer initialized
custom_backend-1  | INFO:app.services.presentation_service:Professional Presentation Service initialized
custom_backend-1  | INFO:main:Presentation service imported successfully
custom_backend-1  | INFO:     Started server process [1]
custom_backend-1  | INFO:     Waiting for application startup.
custom_backend-1  | INFO:main:Custom Backend starting...
custom_backend-1  | INFO:main:'projects' table ensured and updated.
custom_backend-1  | INFO:main:'microproduct_pipelines' table ensured.
custom_backend-1  | INFO:main:'projects' table ensured and updated with 'source_chat_session_id'.
custom_backend-1  | INFO:main:'projects' table updated with source context tracking columns.
custom_backend-1  | INFO:main:'projects' table updated with lesson plan columns.
custom_backend-1  | INFO:main:'projects' table updated with product_json_onyx_id column for products-as-context feature.
custom_backend-1  | INFO:main:'design_templates' table ensured.
custom_backend-1  | INFO:app.core.database:Database tables created successfully
custom_backend-1  | INFO:main:Workspace database tables initialized successfully
custom_backend-1  | INFO:main:'trashed_projects' table ensured (soft-delete).
custom_backend-1  | INFO:main:'user_credits' table ensured.
custom_backend-1  | INFO:main:'user_entitlement_overrides' table ensured.
custom_backend-1  | INFO:main:'user_connectors' table ensured.
custom_backend-1  | INFO:main:'user_entitlement_base' table ensured.
custom_backend-1  | INFO:main:'user_email_cache' table ensured.
custom_backend-1  | INFO:main:'user_storage_usage' table ensured.
custom_backend-1  | INFO:main:Updated credit_transactions table to support admin_removal type
custom_backend-1  | INFO:main:'credit_transactions' table ensured.
custom_backend-1  | INFO:main:'user_billing_addons' table ensured.
custom_backend-1  | INFO:main:'credit_grant_events' table ensured.
custom_backend-1  | INFO:main:'processed_stripe_events' table ensured.
custom_backend-1  | INFO:main:'user_billing_addons' table ensured.
custom_backend-1  | INFO:main:'credit_grant_events' table ensured.
custom_backend-1  | INFO:main:'processed_stripe_events' table ensured.
custom_backend-1  | INFO:main:User migration is available manually via /api/custom/admin/credits/migrate-users
custom_backend-1  | INFO:main:Added quality_tier column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default 'medium' tier
custom_backend-1  | INFO:main:Created index for quality_tier column
custom_backend-1  | INFO:main:Added custom_rate column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default custom_rate
custom_backend-1  | INFO:main:Created index for custom_rate column
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to projects table
custom_backend-1  | INFO:main:Created indexes for project-level custom_rate and quality_tier columns
custom_backend-1  | INFO:main:Ensured is_advanced, advanced_rates, and completion_times on project_folders
custom_backend-1  | INFO:main:Ensured is_advanced, advanced_rates, and completion_times on projects
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to trashed_projects table
custom_backend-1  | INFO:main:Applying critical fix: Ensuring order and completion_time columns are TEXT type
custom_backend-1  | INFO:main:Successfully set projects.order and projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set trashed_projects.order and trashed_projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set default values for empty order and completion_time fields
custom_backend-1  | INFO:main:Projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:Trashed_projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:'request_analytics' table ensured.
custom_backend-1  | INFO:main:AI parser tracking columns added to request_analytics table.
custom_backend-1  | INFO:main:Added is_standalone column to projects table.
custom_backend-1  | INFO:main:Added is_standalone column to trashed_projects table.
custom_backend-1  | INFO:main:Legacy support: is_standalone field defaults to NULL for existing products.
custom_backend-1  | INFO:main:Added course_id column to projects table.
custom_backend-1  | INFO:main:Added course_id column to trashed_projects table.
custom_backend-1  | INFO:main:Legacy support: course_id field defaults to NULL for existing products.
custom_backend-1  | INFO:main:'smartdrive_accounts' table ensured.
custom_backend-1  | INFO:main:'smartdrive_imports' table ensured.
custom_backend-1  | INFO:main:'user_connectors' table ensured.
custom_backend-1  | INFO:main:'offers' table ensured.
custom_backend-1  | INFO:main:Smart Drive database migrations completed successfully.
custom_backend-1  | INFO:main:'feature_definitions' table ensured.
custom_backend-1  | INFO:main:Migrated user_features.user_id column to TEXT type.
custom_backend-1  | INFO:main:'user_features' table ensured.
custom_backend-1  | INFO:main:Seeded 40 feature definitions.
custom_backend-1  | INFO:main:Deactivated 7 unused feature definitions.
custom_backend-1  | INFO:main:Created feature entries for 3 existing users with LMS defaults enabled.
custom_backend-1  | INFO:main:Added audit sharing columns to projects table.
custom_backend-1  | INFO:main:Added audit sharing columns to trashed_projects table.
custom_backend-1  | INFO:main:Updated 0 existing audits to use 'AI Audit' microproduct_type
custom_backend-1  | INFO:main:Updated trashed audits to use 'AI Audit' microproduct_type
custom_backend-1  | INFO:main:Database schema migration completed successfully.
custom_backend-1  | INFO:main:'lms_exports' table ensured.
custom_backend-1  | INFO:     Application startup complete.
custom_backend-1  | INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 190 - Raw details_data type: <class 'dict'>
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 190 - Already dict, after round_hours: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "<span class=\"text-style\" style=\"color: rgb(242, 5, 5); font-family: Arial, sans-serif;\"><strong>\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e <s>\u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430</s></strong></span>",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1761071161172-c4zgp4oor",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-21T18:26:01.172Z",
custom_backend-1  |         "updatedAt": "2025-10-22T13:37:30.862Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "tips": [
custom_backend-1  |           {
custom_backend-1  |             "text": "Know what you're looking for in potential hires beforehand.",
custom_backend-1  |             "isHighlighted": false
custom_backend-1  |           },
custom_backend-1  |           {
custom_backend-1  |             "text": "Ask behavioral questions to learn how they've used soft skills in previous jobs",
custom_backend-1  |             "isHighlighted": false
custom_backend-1  |           }
custom_backend-1  |         ],
custom_backend-1  |         "title": "How do you assess soft skills in candidates?",
custom_backend-1  |         "content": "Add your content here...",
custom_backend-1  |         "titleColor": "#333333",
custom_backend-1  |         "accentColor": "#ff6b35",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#666666",
custom_backend-1  |         "backgroundColor": "#ffffff",
custom_backend-1  |         "profileImageAlt": "Profile image",
custom_backend-1  |         "profileImagePath": ""
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1761215822154-kropnpm5c",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-23T10:37:02.154Z",
custom_backend-1  |         "updatedAt": "2025-10-23T10:37:06.774Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "How do you assess soft skills in candidates?",
custom_backend-1  |       "templateId": "soft-skills-assessment-slide",
custom_backend-1  |       "slideNumber": 7
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "transitions": [
custom_backend-1  |     {
custom_backend-1  |       "type": "fade",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "close",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "none",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "none",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "none",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "none",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "lessonNumber": null,
custom_backend-1  |   "currentSlideId": "slide-1761071161172-c4zgp4oor",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 190 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:main:üîç [DATA INTEGRITY] Project 190 - Preserved raw dict for VideoLessonPresentationDisplay to prevent slides‚ÜícontentBlocks corruption
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Sending slide-based response to frontend for Project 190:
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response component_name: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response details type: <class 'dict'>
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has slides: True
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has contentBlocks: False
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ FIXED: Slides array preserved with 2 slides
custom_backend-1  | INFO:     172.18.0.11:38582 - "GET /api/custom/projects/view/190 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 63 avatars
custom_backend-1  | INFO:     172.18.0.11:38590 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 63 avatars
custom_backend-1  | INFO:     172.18.0.11:38604 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 190
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-24T00:30:03.726987
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'theme': 'dark-purple', 'slides': [{'props': {'title': '<span class="text-style" style="color: rgb(242, 5, 5); font-family: Arial, sans-serif;"><strong>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ <s>–æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞</s></strong></span>', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1761071161172-c4zgp4oor', 'metadata': {'version': '1.0', 'createdAt': '2025-10-21T18:26:01.172Z', 'updatedAt': '2025-10-22T13:37:30.862Z'}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}, {'props': {'tips': [{'text': "Know what you're looking for in potential hires beforehand.", 'isHighlighted': False}, {'text': "Ask behavioral questions to learn how they've used soft skills in previous jobs", 'isHighlighted': False}], 'title': 'How do you assess soft skills in candidates?', 'content': 'Add your content here...', 'titleColor': '#333333', 'accentColor': '#ff6b35', 'companyName': 'Company name', 'contentColor': '#666666', 'backgroundColor': '#ffffff', 'profileImageAlt': 'Profile image', 'profileImagePath': ''}, 'slideId': 'slide-1761215822154-kropnpm5c', 'metadata': {'version': '1.0', 'createdAt': '2025-10-23T10:37:02.154Z', 'updatedAt': '2025-10-23T10:37:06.774Z'}, 'slideTitle': 'How do you assess soft skills in candidates?', 'templateId': 'soft-skills-assessment-slide', 'slideNumber': 7}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'transitions': [{'type': 'fade', 'duration': 1, 'variant': 'circle', 'applyToAll': False}, {'type': 'close', 'variant': 'circle', 'duration': 1, 'applyToAll': False}, {'type': 'none', 'variant': 'circle', 'duration': 1, 'applyToAll': False}, {'type': 'none', 'variant': 'circle', 'duration': 1, 'applyToAll': False}, {'type': 'none', 'variant': 'circle', 'duration': 1, 'applyToAll': False}, {'type': 'none', 'variant': 'circle', 'duration': 1, 'applyToAll': False}], 'hasVoiceover': True, 'lessonNumber': None, 'currentSlideId': 'slide-1761071161172-c4zgp4oor', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Project 190 - Checking for courseOutlineTableHeaders in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload keys: ['theme', 'slides', 'lessonTitle', 'transitions', 'hasVoiceover', 'lessonNumber', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Has courseOutlineTableHeaders: False
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ‚ùå courseOutlineTableHeaders NOT FOUND in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload contains: ['theme', 'slides', 'lessonTitle', 'transitions', 'hasVoiceover', 'lessonNumber', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 190 - Storing content to DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "<span class=\"text-style\" style=\"color: rgb(242, 5, 5); font-family: Arial, sans-serif;\"><strong>\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e <s>\u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430</s></strong></span>",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1761071161172-c4zgp4oor",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-21T18:26:01.172Z",
custom_backend-1  |         "updatedAt": "2025-10-22T13:37:30.862Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "tips": [
custom_backend-1  |           {
custom_backend-1  |             "text": "Know what you're looking for in potential hires beforehand.",
custom_backend-1  |             "isHighlighted": false
custom_backend-1  |           },
custom_backend-1  |           {
custom_backend-1  |             "text": "Ask behavioral questions to learn how they've used soft skills in previous jobs",
custom_backend-1  |             "isHighlighted": false
custom_backend-1  |           }
custom_backend-1  |         ],
custom_backend-1  |         "title": "How do you assess soft skills in candidates?",
custom_backend-1  |         "content": "Add your content here...",
custom_backend-1  |         "titleColor": "#333333",
custom_backend-1  |         "accentColor": "#ff6b35",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#666666",
custom_backend-1  |         "backgroundColor": "#ffffff",
custom_backend-1  |         "profileImageAlt": "Profile image",
custom_backend-1  |         "profileImagePath": ""
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1761215822154-kropnpm5c",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-23T10:37:02.154Z",
custom_backend-1  |         "updatedAt": "2025-10-23T10:37:06.774Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "How do you assess soft skills in candidates?",
custom_backend-1  |       "templateId": "soft-skills-assessment-slide",
custom_backend-1  |       "slideNumber": 7
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "transitions": [
custom_backend-1  |     {
custom_backend-1  |       "type": "fade",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "close",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "none",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "none",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "none",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "none",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "lessonNumber": null,
custom_backend-1  |   "currentSlideId": "slide-1761071161172-c4zgp4oor",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 190
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'theme': 'dark-purple', 'slides': [{'props': {'title': '<span class="text-style" style="color: rgb(242, 5, 5); font-family: Arial, sans-serif;"><strong>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ <s>–æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞</s></strong></span>', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1761071161172-c4zgp4oor', 'metadata': {'version': '1.0', 'createdAt': '2025-10-21T18:26:01.172Z', 'updatedAt': '2025-10-22T13:37:30.862Z'}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}, {'props': {'tips': [{'text': "Know what you're looking for in potential hires beforehand.", 'isHighlighted': False}, {'text': "Ask behavioral questions to learn how they've used soft skills in previous jobs", 'isHighlighted': False}], 'title': 'How do you assess soft skills in candidates?', 'content': 'Add your content here...', 'titleColor': '#333333', 'accentColor': '#ff6b35', 'companyName': 'Company name', 'contentColor': '#666666', 'backgroundColor': '#ffffff', 'profileImageAlt': 'Profile image', 'profileImagePath': ''}, 'slideId': 'slide-1761215822154-kropnpm5c', 'metadata': {'version': '1.0', 'createdAt': '2025-10-23T10:37:02.154Z', 'updatedAt': '2025-10-23T10:37:06.774Z'}, 'slideTitle': 'How do you assess soft skills in candidates?', 'templateId': 'soft-skills-assessment-slide', 'slideNumber': 7}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'transitions': [{'type': 'fade', 'duration': 1, 'variant': 'circle', 'applyToAll': False}, {'type': 'close', 'variant': 'circle', 'duration': 1, 'applyToAll': False}, {'type': 'none', 'variant': 'circle', 'duration': 1, 'applyToAll': False}, {'type': 'none', 'variant': 'circle', 'duration': 1, 'applyToAll': False}, {'type': 'none', 'variant': 'circle', 'duration': 1, 'applyToAll': False}, {'type': 'none', 'variant': 'circle', 'duration': 1, 'applyToAll': False}], 'hasVoiceover': True, 'lessonNumber': None, 'currentSlideId': 'slide-1761071161172-c4zgp4oor', 'detectedLanguage': 'en'}, 190]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-24T00:30:03.833401
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 190, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Junior AI/ML Engineer Training', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Junior AI/ML Engineer Training', 'microproduct_content': {'theme': 'dark-purple', 'slides': [{'props': {'title': '<span class="text-style" style="color: rgb(242, 5, 5); font-family: Arial, sans-serif;"><strong>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ <s>–æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞</s></strong></span>', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1761071161172-c4zgp4oor', 'metadata': {'version': '1.0', 'createdAt': '2025-10-21T18:26:01.172Z', 'updatedAt': '2025-10-22T13:37:30.862Z'}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}, {'props': {'tips': [{'text': "Know what you're looking for in potential hires beforehand.", 'isHighlighted': False}, {'text': "Ask behavioral questions to learn how they've used soft skills in previous jobs", 'isHighlighted': False}], 'title': 'How do you assess soft skills in candidates?', 'content': 'Add your content here...', 'titleColor': '#333333', 'accentColor': '#ff6b35', 'companyName': 'Company name', 'contentColor': '#666666', 'backgroundColor': '#ffffff', 'profileImageAlt': 'Profile image', 'profileImagePath': ''}, 'slideId': 'slide-1761215822154-kropnpm5c', 'metadata': {'version': '1.0', 'createdAt': '2025-10-23T10:37:02.154Z', 'updatedAt': '2025-10-23T10:37:06.774Z'}, 'slideTitle': 'How do you assess soft skills in candidates?', 'templateId': 'soft-skills-assessment-slide', 'slideNumber': 7}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'transitions': [{'type': 'fade', 'variant': 'circle', 'duration': 1, 'applyToAll': False}, {'type': 'close', 'variant': 'circle', 'duration': 1, 'applyToAll': False}, {'type': 'none', 'variant': 'circle', 'duration': 1, 'applyToAll': False}, {'type': 'none', 'variant': 'circle', 'duration': 1, 'applyToAll': False}, {'type': 'none', 'variant': 'circle', 'duration': 1, 'applyToAll': False}, {'type': 'none', 'variant': 'circle', 'duration': 1, 'applyToAll': False}], 'hasVoiceover': True, 'lessonNumber': None, 'currentSlideId': 'slide-1761071161172-c4zgp4oor', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 16, 9, 16, 43, 202457, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-24T00:30:03.854502
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Project 190 - Verifying saved content
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Saved content keys: ['theme', 'slides', 'lessonTitle', 'transitions', 'hasVoiceover', 'lessonNumber', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Has courseOutlineTableHeaders: False
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] ‚ö†Ô∏è courseOutlineTableHeaders NOT FOUND in saved database content!
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] This means the data was NOT persisted to database
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] Saved content contains: ['theme', 'slides', 'lessonTitle', 'transitions', 'hasVoiceover', 'lessonNumber', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 190 - Retrieved content from DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "<span class=\"text-style\" style=\"color: rgb(242, 5, 5); font-family: Arial, sans-serif;\"><strong>\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e <s>\u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430</s></strong></span>",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1761071161172-c4zgp4oor",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-21T18:26:01.172Z",
custom_backend-1  |         "updatedAt": "2025-10-22T13:37:30.862Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "tips": [
custom_backend-1  |           {
custom_backend-1  |             "text": "Know what you're looking for in potential hires beforehand.",
custom_backend-1  |             "isHighlighted": false
custom_backend-1  |           },
custom_backend-1  |           {
custom_backend-1  |             "text": "Ask behavioral questions to learn how they've used soft skills in previous jobs",
custom_backend-1  |             "isHighlighted": false
custom_backend-1  |           }
custom_backend-1  |         ],
custom_backend-1  |         "title": "How do you assess soft skills in candidates?",
custom_backend-1  |         "content": "Add your content here...",
custom_backend-1  |         "titleColor": "#333333",
custom_backend-1  |         "accentColor": "#ff6b35",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#666666",
custom_backend-1  |         "backgroundColor": "#ffffff",
custom_backend-1  |         "profileImageAlt": "Profile image",
custom_backend-1  |         "profileImagePath": ""
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1761215822154-kropnpm5c",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-23T10:37:02.154Z",
custom_backend-1  |         "updatedAt": "2025-10-23T10:37:06.774Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "How do you assess soft skills in candidates?",
custom_backend-1  |       "templateId": "soft-skills-assessment-slide",
custom_backend-1  |       "slideNumber": 7
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "transitions": [
custom_backend-1  |     {
custom_backend-1  |       "type": "fade",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "close",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "none",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "none",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "none",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "type": "none",
custom_backend-1  |       "variant": "circle",
custom_backend-1  |       "duration": 1,
custom_backend-1  |       "applyToAll": false
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "lessonNumber": null,
custom_backend-1  |   "currentSlideId": "slide-1761071161172-c4zgp4oor",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 190 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 190
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=190 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Junior AI/ML Engineer Training' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Junior AI/ML Engineer Training' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='dark-purple') design_template_id=2 created_at=datetime.datetime(2025, 10, 16, 9, 16, 43, 202457, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-24T00:30:03.861227
custom_backend-1  | INFO:     172.18.0.11:40520 - "PUT /api/custom/projects/update/190 HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] ========== PRESENTATION REQUEST RECEIVED ==========
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] Received presentation request parameters:
custom_backend-1  | INFO:main:  - slide_url: None
custom_backend-1  | INFO:main:  - voiceover_texts_count: 1
custom_backend-1  | INFO:main:  - slides_data_count: 2
custom_backend-1  | INFO:main:  - transitions_count: 6
custom_backend-1  | INFO:main:  - theme: dark-purple
custom_backend-1  | INFO:main:  - avatar_code: None
custom_backend-1  | INFO:main:  - use_avatar_mask: True
custom_backend-1  | INFO:main:  - slide_only: True
custom_backend-1  | INFO:main:  - duration: 30
custom_backend-1  | INFO:main:  - layout: picture_in_picture
custom_backend-1  | INFO:main:  - quality: high
custom_backend-1  | INFO:main:  - resolution: [1920, 1080]
custom_backend-1  | INFO:main:  - project_name: Create your first AI video
custom_backend-1  | INFO:main:üé§ [MAIN_ENDPOINT] Voice parameters received:
custom_backend-1  | INFO:main:  - voice_id: None
custom_backend-1  | INFO:main:  - voice_provider: None
custom_backend-1  | INFO:main:üé§ [MAIN_ENDPOINT] ========== VOICE PARAMETERS LOGGED ==========
custom_backend-1  | INFO:main:üéûÔ∏è [MAIN_ENDPOINT] Transitions received:
custom_backend-1  | INFO:main:  - Transition 0: type=fade, duration=1s
custom_backend-1  | INFO:main:  - Transition 1: type=close, duration=1s
custom_backend-1  | INFO:main:  - Transition 2: type=none, duration=1s
custom_backend-1  | INFO:main:  - Transition 3: type=none, duration=1s
custom_backend-1  | INFO:main:  - Transition 4: type=none, duration=1s
custom_backend-1  | INFO:main:  - Transition 5: type=none, duration=1s
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:[ENTITLEMENTS] Found 0 active addon(s) for user b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:[ENTITLEMENTS] Base limits: connectors=0, storage=1GB
custom_backend-1  | INFO:main:[ENTITLEMENTS] Final limits (with addons): connectors=0, storage=1GB
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] Creating PresentationRequest object...
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] PresentationRequest created with use_avatar_mask: True
custom_backend-1  | INFO:main:üé§ [MAIN_ENDPOINT] PresentationRequest created with voice_id: None, voice_provider: None
custom_backend-1  | INFO:main:üéûÔ∏è [MAIN_ENDPOINT] PresentationRequest created with 6 transitions
custom_backend-1  | INFO:main:üêõ [MAIN_ENDPOINT] PresentationRequest created with slide_only: True
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_SERVICE] ========== PRESENTATION CREATION STARTED ==========
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_SERVICE] Job ID: f9535f4e-d1ad-4802-aeac-38fc6121965e
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_SERVICE] Voice parameters received:
custom_backend-1  | INFO:app.services.presentation_service:  - voice_id: None
custom_backend-1  | INFO:app.services.presentation_service:  - voice_provider: None
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_SERVICE] ========== VOICE PARAMETERS LOGGED ==========
custom_backend-1  | INFO:app.services.presentation_service:Created presentation job: f9535f4e-d1ad-4802-aeac-38fc6121965e
custom_backend-1  | INFO:main:Returning immediate response for job f9535f4e-d1ad-4802-aeac-38fc6121965e
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Starting presentation processing for job: f9535f4e-d1ad-4802-aeac-38fc6121965e
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Request details:
custom_backend-1  | INFO:app.services.presentation_service:  - Slide URL:
custom_backend-1  | INFO:app.services.presentation_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.presentation_service:  - Duration: 30s
custom_backend-1  | INFO:app.services.presentation_service:  - Quality: high
custom_backend-1  | INFO:app.services.presentation_service:  - Layout: picture_in_picture
custom_backend-1  | INFO:app.services.presentation_service:  - Resolution: (1920, 1080)
custom_backend-1  | INFO:app.services.presentation_service:  - Avatar Code: None
custom_backend-1  | INFO:app.services.presentation_service:  - Voiceover Texts Count: 1
custom_backend-1  | INFO:app.services.presentation_service:  - Slides Data Provided: True
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_PROCESSING] Voice parameters:
custom_backend-1  | INFO:app.services.presentation_service:  - Voice ID: None
custom_backend-1  | INFO:app.services.presentation_service:  - Voice Provider: None
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_PROCESSING] ========== VOICE PARAMETERS LOGGED ==========
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Slides data analysis:
custom_backend-1  | INFO:app.services.presentation_service:  Slide 1:
custom_backend-1  | INFO:app.services.presentation_service:    - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.presentation_service:    - Slide ID: slide-1761071161172-c4zgp4oor
custom_backend-1  | INFO:app.services.presentation_service:    - Props Keys: ['title', 'content', 'subtitle', 'avatarAlt', 'avatarPath', 'titleColor', 'companyName', 'contentColor', 'subtitleColor', 'backgroundColor']
custom_backend-1  | INFO:app.services.presentation_service:    - Title: <span class="text-style" style="color: rgb(242, 5, 5); font-family: Arial, sans-serif;"><strong>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ <s>–æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞</s></strong></span>
custom_backend-1  | INFO:app.services.presentation_service:    - Subtitle:
custom_backend-1  | INFO:app.services.presentation_service:    - Content: –°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è...
custom_backend-1  | INFO:app.services.presentation_service:  Slide 2:
custom_backend-1  | INFO:app.services.presentation_service:    - Template ID: soft-skills-assessment-slide
custom_backend-1  | INFO:app.services.presentation_service:    - Slide ID: slide-1761215822154-kropnpm5c
custom_backend-1  | INFO:app.services.presentation_service:    - Props Keys: ['tips', 'title', 'content', 'titleColor', 'accentColor', 'companyName', 'contentColor', 'backgroundColor', 'profileImageAlt', 'profileImagePath']
custom_backend-1  | INFO:app.services.presentation_service:    - Title: How do you assess soft skills in candidates?
custom_backend-1  | INFO:app.services.presentation_service:    - Subtitle: N/A
custom_backend-1  | INFO:app.services.presentation_service:    - Content: Add your content here......
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Voiceover texts:
custom_backend-1  | INFO:app.services.presentation_service:  Text 1: Welcome to this professional presentation. We'll be exploring key concepts and insights that will he...
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job f9535f4e-d1ad-4802-aeac-38fc6121965e: queued‚Üíprocessing, 0.0%‚Üí5.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-10-24T00:30:05.578909
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Status changed: queued ‚Üí processing
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 0.0% ‚Üí 5.0%
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Attempting to start heartbeat for job f9535f4e-d1ad-4802-aeac-38fc6121965e
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Current event loop: <Task pending name='Task-54' coro=<ProfessionalPresentationService._process_presentation() running at /app/app/services/presentation_service.py:321> cb=[_run_until_complete_cb() at /usr/local/lib/python3.9/asyncio/base_events.py:184]>
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Job exists in tracking: True
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Started heartbeat for job f9535f4e-d1ad-4802-aeac-38fc6121965e (interval: 30s)
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Step 1: Generating clean slide video for job f9535f4e-d1ad-4802-aeac-38fc6121965e
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job f9535f4e-d1ad-4802-aeac-38fc6121965e: processing‚Üíprocessing, 5.0%‚Üí10.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-10-24T00:30:05.579610
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 5.0% ‚Üí 10.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Using provided slide data with 2 slides
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Detailed slide data analysis:
custom_backend-1  | INFO:app.services.presentation_service:  üìÑ Slide 1 Details:
custom_backend-1  | INFO:app.services.presentation_service:    - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.presentation_service:    - Slide ID: slide-1761071161172-c4zgp4oor
custom_backend-1  | INFO:app.services.presentation_service:    - Props Type: <class 'dict'>
custom_backend-1  | INFO:app.services.presentation_service:    - Props Keys: ['title', 'content', 'subtitle', 'avatarAlt', 'avatarPath', 'titleColor', 'companyName', 'contentColor', 'subtitleColor', 'backgroundColor']
custom_backend-1  | INFO:app.services.presentation_service:    - Title: '<span class="text-style" style="color: rgb(242, 5, 5); font-family: Arial, sans-serif;"><strong>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ <s>–æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞</s></strong></span>'
custom_backend-1  | INFO:app.services.presentation_service:    - Subtitle: ''
custom_backend-1  | INFO:app.services.presentation_service:    - Content: '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è...'
custom_backend-1  | INFO:app.services.presentation_service:    - Voiceover Text: 'N/A...'
custom_backend-1  | INFO:app.services.presentation_service:    - avatarAlt: Avatar
custom_backend-1  | INFO:app.services.presentation_service:    - avatarPath:
custom_backend-1  | INFO:app.services.presentation_service:    - titleColor: #e91e63
custom_backend-1  | INFO:app.services.presentation_service:    - companyName: Company name
custom_backend-1  | INFO:app.services.presentation_service:    - contentColor: #e91e63
custom_backend-1  | INFO:app.services.presentation_service:    - subtitleColor: #000000
custom_backend-1  | INFO:app.services.presentation_service:    - backgroundColor: #ffffff
custom_backend-1  | INFO:app.services.presentation_service:  üìÑ Slide 2 Details:
custom_backend-1  | INFO:app.services.presentation_service:    - Template ID: soft-skills-assessment-slide
custom_backend-1  | INFO:app.services.presentation_service:    - Slide ID: slide-1761215822154-kropnpm5c
custom_backend-1  | INFO:app.services.presentation_service:    - Props Type: <class 'dict'>
custom_backend-1  | INFO:app.services.presentation_service:    - Props Keys: ['tips', 'title', 'content', 'titleColor', 'accentColor', 'companyName', 'contentColor', 'backgroundColor', 'profileImageAlt', 'profileImagePath']
custom_backend-1  | INFO:app.services.presentation_service:    - Title: 'How do you assess soft skills in candidates?'
custom_backend-1  | INFO:app.services.presentation_service:    - Subtitle: 'N/A'
custom_backend-1  | INFO:app.services.presentation_service:    - Content: 'Add your content here......'
custom_backend-1  | INFO:app.services.presentation_service:    - Voiceover Text: 'N/A...'
custom_backend-1  | INFO:app.services.presentation_service:    - tips: [{'text': "Know what you're looking for in potential hires beforehand.", 'isHighlighted': False}, {'text': "Ask behavioral questions to learn how they've used soft skills in previous jobs", 'isHighlighted': False}]
custom_backend-1  | INFO:app.services.presentation_service:    - titleColor: #333333
custom_backend-1  | INFO:app.services.presentation_service:    - accentColor: #ff6b35
custom_backend-1  | INFO:app.services.presentation_service:    - companyName: Company name
custom_backend-1  | INFO:app.services.presentation_service:    - contentColor: #666666
custom_backend-1  | INFO:app.services.presentation_service:    - backgroundColor: #ffffff
custom_backend-1  | INFO:app.services.presentation_service:    - profileImageAlt: Profile image
custom_backend-1  | INFO:app.services.presentation_service:    - profileImagePath:
custom_backend-1  | INFO:     172.18.0.11:40526 - "POST /api/custom/presentations HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.clean_video_generation_service:Clean Video Generation Service initialized
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] MULTI-SLIDE MODE: Processing 2 slides
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [MULTI_SLIDE_PROCESSING] Processing multi-slide presentation with 2 slides
custom_backend-1  | INFO:app.services.presentation_service:üêõ [DEBUG_MODE] SLIDE-ONLY MODE ENABLED: Skipping avatar generation (Debug Render)
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [MULTI_SLIDE_PROCESSING] Processing slide 1/2
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job f9535f4e-d1ad-4802-aeac-38fc6121965e: processing‚Üíprocessing, 10.0%‚Üí10%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-10-24T00:30:05.587636
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 10.0% ‚Üí 10%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [MULTI_SLIDE_PROCESSING] Starting processing for slide 1 - Progress: 10%
custom_backend-1  | WARNING:app.services.presentation_service:üé¨ [MULTI_SLIDE_PROCESSING] ‚ö†Ô∏è No voiceover text found for slide 1, using placeholder
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [MULTI_SLIDE_PROCESSING] Slide 1 voiceover: Welcome to slide 1. This presentation covers important topics....
custom_backend-1  | INFO:app.services.presentation_service:üêõ [DEBUG_MODE] SLIDE-ONLY MODE: Generating slide video with requested duration (NO AVATAR)
custom_backend-1  | INFO:app.services.clean_video_generation_service:Generating video for avatar slide: avatar-service-slide
custom_backend-1  | INFO:app.services.video_assembly_service:Found FFmpeg at: ffmpeg
custom_backend-1  | INFO:app.services.video_assembly_service:Video Assembly Service initialized. FFmpeg: ffmpeg
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Creating video from 1 slides
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Parameters:
custom_backend-1  | INFO:app.services.video_assembly_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.video_assembly_service:  - Output path: output/clean_videos/avatar_slide_avatar-service-slide_20251024_003006.mp4
custom_backend-1  | INFO:app.services.video_assembly_service:  - Slide duration: 30
custom_backend-1  | INFO:app.services.video_assembly_service:  - Quality: high
custom_backend-1  | INFO:app.services.html_to_image_service:Using Playwright for HTML to PNG conversion (most reliable)
custom_backend-1  | INFO:app.services.html_to_image_service:HTML to Image Service initialized using: playwright
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Processing slide 1/1
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Slide 1 details:
custom_backend-1  | INFO:app.services.video_assembly_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.video_assembly_service:  - Props keys: ['props', 'slideId', 'metadata', 'slideTitle', 'templateId', 'slideNumber']
custom_backend-1  | INFO:app.services.video_assembly_service:  - props: {'title': '<span class="text-style" style="color: rgb(242, 5, 5); font-family: Arial, sans-serif;"><strong>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ <s>–æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞</s></strong></span>', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideId: 'slide-1761071161172-c4zgp4oor...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - metadata: {'version': '1.0', 'createdAt': '2025-10-21T18:26:01.172Z', 'updatedAt': '2025-10-22T13:37:30.862Z'}
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideTitle: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - templateId: 'avatar-service-slide...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideNumber: 2
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Converting slide 1 to PNG: /tmp/tmpfakqy62i_slide_0.png
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Slide 1 metadata: {'version': '1.0', 'createdAt': '2025-10-21T18:26:01.172Z', 'updatedAt': '2025-10-22T13:37:30.862Z'}
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Converting slide to PNG
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Parameters:
custom_backend-1  | INFO:app.services.html_to_image_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_to_image_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.html_to_image_service:  - Output path: /tmp/tmpfakqy62i_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:  - Props keys: ['title', 'content', 'subtitle', 'avatarAlt', 'avatarPath', 'titleColor', 'companyName', 'contentColor', 'subtitleColor', 'backgroundColor']
custom_backend-1  | INFO:app.services.html_to_image_service:  - Metadata: {'version': '1.0', 'createdAt': '2025-10-21T18:26:01.172Z', 'updatedAt': '2025-10-22T13:37:30.862Z'}
custom_backend-1  | INFO:app.services.html_to_image_service:  - title: '<span class="text-style" style="color: rgb(242, 5, 5); font-family: Arial, sans-serif;"><strong>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ <s>–æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞</s></strong></span>...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - content: '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - subtitle: '...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - avatarAlt: 'Avatar...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - avatarPath: '...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - titleColor: '#e91e63...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - companyName: 'Company name...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - contentColor: '#e91e63...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - subtitleColor: '#000000...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - backgroundColor: '#ffffff...'
custom_backend-1  | INFO:app.services.html_template_service:HTML Template Service initialized with template directory: /app/app/services/../../templates
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Generating HTML content...
custom_backend-1  | INFO:app.services.html_template_service:Validated props for avatar-service-slide: ['title', 'subtitle', 'content']
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Generating HTML for template: avatar-service-slide, theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Props received:
custom_backend-1  | INFO:app.services.html_template_service:  - Props type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Props keys: ['title', 'subtitle', 'content']
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Metadata received: {'version': '1.0', 'createdAt': '2025-10-21T18:26:01.172Z', 'updatedAt': '2025-10-22T13:37:30.862Z'}
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Slide ID received: None
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === TEXT ELEMENT POSITIONING ANALYSIS ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Input Data Check:
custom_backend-1  | INFO:app.services.html_template_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:  - Slide ID: None
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata content: {'version': '1.0', 'createdAt': '2025-10-21T18:26:01.172Z', 'updatedAt': '2025-10-22T13:37:30.862Z'}
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Element Positions found:
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions content: {}
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions keys: None
custom_backend-1  | WARNING:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚ö†Ô∏è NO ELEMENT POSITIONS FOUND IN METADATA
custom_backend-1  | INFO:app.services.html_template_service:  - title: '<span class="text-style" style="color: rgb(242, 5, 5); font-family: Arial, sans-serif;"><strong>–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ <s>–æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞</s></strong></span>...'
custom_backend-1  | INFO:app.services.html_template_service:  - subtitle: '...'
custom_backend-1  | INFO:app.services.html_template_service:  - content: '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è...'
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Context data prepared:
custom_backend-1  | INFO:app.services.html_template_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata: {'version': '1.0', 'createdAt': '2025-10-21T18:26:01.172Z', 'updatedAt': '2025-10-22T13:37:30.862Z'}
custom_backend-1  | INFO:app.services.html_template_service:  - Slide ID: None
custom_backend-1  | INFO:app.services.html_template_service:  - Context keys: ['templateId', 'theme', 'metadata', 'slideId', 'title', 'subtitle', 'content']
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Context Data Check:
custom_backend-1  | INFO:app.services.html_template_service:  - Context metadata: {'version': '1.0', 'createdAt': '2025-10-21T18:26:01.172Z', 'updatedAt': '2025-10-22T13:37:30.862Z'}
custom_backend-1  | INFO:app.services.html_template_service:  - Context slideId: unknown-slide
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ö†Ô∏è No actual canvas dimensions in metadata, using design defaults
custom_backend-1  | INFO:app.services.html_template_service:   Fallback width: 1174px
custom_backend-1  | INFO:app.services.html_template_service:   Fallback height: 600px
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:üéØ [AVATAR-SERVICE] COORDINATE SCALING ANALYSIS
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:Template: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:Slide ID: None
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üìê Canvas Dimensions Analysis:
custom_backend-1  | INFO:app.services.html_template_service:  ACTUAL Editor Canvas (from metadata):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  1174.00px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 600.00px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.956667 (1174:600)
custom_backend-1  | INFO:app.services.html_template_service:    - Total Pixels: 704,400 (0.70 megapixels)
custom_backend-1  | INFO:app.services.html_template_service:    - Source: fallback defaults
custom_backend-1  | INFO:app.services.html_template_service:    - ‚ö†Ô∏è Using fallback - may cause positioning errors!
custom_backend-1  | INFO:app.services.html_template_service:  Design Editor Canvas (reference):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  1174px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 600px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.956667 (1.957:1)
custom_backend-1  | INFO:app.services.html_template_service:  Video Canvas (Backend):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  1920px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 1080px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.777778 (1.778:1 - 16:9 standard)
custom_backend-1  | INFO:app.services.html_template_service:    - Total Pixels: 2,073,600 (2.07 megapixels)
custom_backend-1  | INFO:app.services.html_template_service:  Dimension Comparison:
custom_backend-1  | INFO:app.services.html_template_service:    - Width Ratio: 1.635434x larger
custom_backend-1  | INFO:app.services.html_template_service:    - Height Ratio: 1.800000x larger
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio Mismatch: 0.178889
custom_backend-1  | INFO:app.services.html_template_service:    - ‚ö†Ô∏è Non-uniform scaling required (different X/Y factors)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üìè Scale Factors (using ACTUAL dimensions):
custom_backend-1  | INFO:app.services.html_template_service:  - SCALE_X: 1.635434 (1920/1174)
custom_backend-1  | INFO:app.services.html_template_service:  - SCALE_Y: 1.800000 (1080/600)
custom_backend-1  | INFO:app.services.html_template_service:  - Scale Factor Ratio: 1.100625 (Y is 10.06% larger)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ö†Ô∏è No element positions found in metadata
custom_backend-1  | INFO:app.services.html_template_service:   Elements will use default layout positions
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEMPLATE_RENDER] === RENDERING TEMPLATE ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEMPLATE_RENDER] Theme being applied: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEMPLATE_RENDER] Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content generated successfully
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content length: 86741 characters
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] === THEME CLASS VERIFICATION ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] ‚úÖ Theme class 'theme-dark-purple' found in HTML
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] ‚úÖ CSS variables (--bg-color) defined in HTML
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] Body tag: <body class="theme-dark-purple">
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] ‚úÖ Body tag has theme class!
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === INJECTION FAILURE CHECK ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Raw HTML Output Analysis:
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚úÖ POSITIONING CSS FOUND in HTML
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Transform CSS found: 4 occurrences
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG]   1. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG]   2. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG]   3. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG]   4. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚úÖ positioned-element class found in HTML
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML snippet: <!DOCTYPE html>
custom_backend-1  | <html lang="en">
custom_backend-1  | <head>
custom_backend-1  |     <meta charset="UTF-8">
custom_backend-1  |     <meta name="viewport" content="width=device-width, initial-scale=1.0">
custom_backend-1  |     <title>Avatar Slide Template</title>
custom_backend-1  |
custom_backend-1  |     <link rel="preconnect" href="https://fonts.googleapis.com">
custom_backend-1  |     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
custom_backend-1  |     <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600;700&family=Martel+Sans:wght@400;600;700&family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
custom_backend-1  |
custom_backend-1  |     <style>
custom_backend-1  |         /* Reset and base styles */
custom_backend-1  |         html, body {
custom_backend-1  |             margin: 0;
custom_backend-1  |             padding: 0;
custom_backend-1  |             background: var(--bg-color, #110c35); /* Use theme background, not transparent */
custom_backend-1  |             width: 1920px;
custom_backend-1  |             height: 1080px;
custom_backend-1  |             overflow: hidden;
custom_backend-1  |             font-size: 16px; /* Reduced base font size for better scaling */
custom_backend-1  |         }
custom_backend-1  |
custom_backend-1  |         * {
custom_backend-1  |             mar...
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === FINAL OUTPUT CHECK ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Final HTML length: 86741 characters
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] HTML contains positioning: True
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] HTML contains slideId: No slideId provided
custom_backend-1  | INFO:app.services.html_template_service:Generated clean HTML for video: avatar-service-slide
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] HTML content generated
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] HTML content length: 86741 characters
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Converting HTML to PNG...
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] = ========= HTML-TO-IMAGE CONVERSION STARTED ==========
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] T imestamp: 2025-10-24 00:30:06
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] T emplate ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] C onversion method: playwright
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] T arget dimensions: 1920x1080
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] O utput path: /tmp/tmpfakqy62i_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] H TML content length: 86741 characters
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] H TML preview (first 150 chars): <!DOCTYPE html>
custom_backend-1  | <html lang="en">
custom_backend-1  | <head>
custom_backend-1  |     <meta charset="UTF-8">
custom_backend-1  |     <meta name="viewport" content="width=device-width, initial-scale=1.0">
custom_backend-1  |     <tit...
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] = == CONVERSION METHOD EXECUTION ===
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] A ttempting Playwright conversion...
custom_backend-1  | INFO:app.services.html_to_image_service:Using Playwright for HTML to PNG conversion
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Heartbeat task started for job f9535f4e-d1ad-4802-aeac-38fc6121965e
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Job f9535f4e-d1ad-4802-aeac-38fc6121965e: status=processing, progress=10% (beat #1)
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Keeping connection alive - 2025-10-24T00:30:06.486761
custom_backend-1  | INFO:     172.18.0.11:40536 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Using base URL for HTML rendering: http://localhost:8000
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Setting page content (HTML length: 86741 chars)...
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Page content set successfully (DOM ready)
custom_backend-1  | INFO:     172.18.0.11:33018 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Initial render delay completed
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Waiting for images to load...
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Images loaded successfully
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Waiting for fonts to load...
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Fonts loaded successfully
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Final render delay completed
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Taking screenshot at 1920x1080...
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Screenshot captured successfully
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Closing browser context...
custom_backend-1  | INFO:     172.18.0.11:33030 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Browser closed successfully
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] ‚úÖ Conversion successful: 78025 bytes
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] ‚úÖ Valid PNG signature confirmed
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] ‚úÖ  Playwright conversion successful in 5385.94ms
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] = == FINAL VERIFICATION ===
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] ‚úÖ  Output file created successfully
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] F ile details:
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide]    - path: /tmp/tmpfakqy62i_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide]    - size: 78025 bytes
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide]    - modified: 2025-10-24 00:30:11
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide]    - size category: MEDIUM
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide]    - file header: 89504e470d0a1a0a0000000d49484452
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide]    - valid PNG: True
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] = == CONVERSION COMPLETED ===
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] T otal processing time: 5386.23ms
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] M ethod used: playwright
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] S uccess status: True
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265806-avatar-service-slide] F ile size check: True
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] PNG conversion successful: /tmp/tmpfakqy62i_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] PNG file size: 78025 bytes
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Generated PNG for slide 1: avatar-service-slide
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] PNG file size: 78025 bytes
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Saved debug slide image: output/presentations/slide_image_debug_1.png
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Successfully generated 1 PNG files
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] PNG files: ['/tmp/tmpfakqy62i_slide_0.png']
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Creating video from PNGs...
custom_backend-1  | INFO:app.services.video_assembly_service:Creating video from 1 PNG images
custom_backend-1  | INFO:app.services.video_assembly_service:Running FFmpeg command: ffmpeg -y -f concat -safe 0 -i /tmp/tmpq1lh9sft.txt -vf fps=25,scale=1920:1080:force_original_aspect_ratio=decrease,pad=1920:1080:(ow-iw)/2:(oh-ih)/2:color=#110c35 -c:v libx264 -preset slow -crf 18 -pix_fmt yuv420p output/clean_videos/avatar_slide_avatar-service-slide_20251024_003006.mp4
custom_backend-1  | INFO:     172.18.0.11:33040 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:33048 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:33064 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:36412 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:36416 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:36422 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:36434 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:36438 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:49810 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:49822 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:49830 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:49832 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:49842 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:45068 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:45074 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:45086 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:45088 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:45102 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_assembly_service:Video created successfully: output/clean_videos/avatar_slide_avatar-service-slide_20251024_003006.mp4 (345266 bytes)
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Video creation successful: output/clean_videos/avatar_slide_avatar-service-slide_20251024_003006.mp4
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Video file size: 345266 bytes
custom_backend-1  | INFO:app.services.clean_video_generation_service:Avatar slide video generated: output/clean_videos/avatar_slide_avatar-service-slide_20251024_003006.mp4 (345266 bytes)
custom_backend-1  | INFO:app.services.presentation_service:üêõ [DEBUG_MODE] Slide 1 video generated (no avatar): output/clean_videos/avatar_slide_avatar-service-slide_20251024_003006.mp4
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [MULTI_SLIDE_PROCESSING] Processing slide 2/2
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job f9535f4e-d1ad-4802-aeac-38fc6121965e: processing‚Üíprocessing, 10%‚Üí45%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-10-24T00:30:47.802429
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 10% ‚Üí 45%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [MULTI_SLIDE_PROCESSING] Starting processing for slide 2 - Progress: 45%
custom_backend-1  | WARNING:app.services.presentation_service:üé¨ [MULTI_SLIDE_PROCESSING] ‚ö†Ô∏è No voiceover text found for slide 2, using placeholder
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [MULTI_SLIDE_PROCESSING] Slide 2 voiceover: Welcome to slide 2. This presentation covers important topics....
custom_backend-1  | INFO:app.services.presentation_service:üêõ [DEBUG_MODE] SLIDE-ONLY MODE: Generating slide video with requested duration (NO AVATAR)
custom_backend-1  | INFO:app.services.clean_video_generation_service:Generating video for avatar slide: soft-skills-assessment-slide
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Creating video from 1 slides
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Parameters:
custom_backend-1  | INFO:app.services.video_assembly_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.video_assembly_service:  - Output path: output/clean_videos/avatar_slide_soft-skills-assessment-slide_20251024_003047.mp4
custom_backend-1  | INFO:app.services.video_assembly_service:  - Slide duration: 30
custom_backend-1  | INFO:app.services.video_assembly_service:  - Quality: high
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Processing slide 1/1
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Slide 1 details:
custom_backend-1  | INFO:app.services.video_assembly_service:  - Template ID: soft-skills-assessment-slide
custom_backend-1  | INFO:app.services.video_assembly_service:  - Props keys: ['props', 'slideId', 'metadata', 'slideTitle', 'templateId', 'slideNumber', 'avatarPosition']
custom_backend-1  | INFO:app.services.video_assembly_service:  - props: {'tips': [{'text': "Know what you're looking for in potential hires beforehand.", 'isHighlighted': False}, {'text': "Ask behavioral questions to learn how they've used soft skills in previous jobs", 'isHighlighted': False}], 'title': 'How do you assess soft skills in candidates?', 'content': 'Add your content here...', 'titleColor': '#333333', 'accentColor': '#ff6b35', 'companyName': 'Company name', 'contentColor': '#666666', 'backgroundColor': '#ffffff', 'profileImageAlt': 'Profile image', 'profileImagePath': ''}
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideId: 'slide-1761215822154-kropnpm5c...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - metadata: {'version': '1.0', 'createdAt': '2025-10-23T10:37:02.154Z', 'updatedAt': '2025-10-23T10:37:06.774Z'}
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideTitle: 'How do you assess soft skills in candidates?...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - templateId: 'soft-skills-assessment-slide...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideNumber: 7
custom_backend-1  | INFO:app.services.video_assembly_service:  - avatarPosition: {'x': 1690, 'y': 40, 'width': 170, 'height': 170, 'backgroundColor': '#ffffff'}
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Converting slide 1 to PNG: /tmp/tmp98xgoz05_slide_0.png
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Slide 1 metadata: {'version': '1.0', 'createdAt': '2025-10-23T10:37:02.154Z', 'updatedAt': '2025-10-23T10:37:06.774Z'}
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Converting slide to PNG
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Parameters:
custom_backend-1  | INFO:app.services.html_to_image_service:  - Template ID: soft-skills-assessment-slide
custom_backend-1  | INFO:app.services.html_to_image_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.html_to_image_service:  - Output path: /tmp/tmp98xgoz05_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:  - Props keys: ['tips', 'title', 'content', 'titleColor', 'accentColor', 'companyName', 'contentColor', 'backgroundColor', 'profileImageAlt', 'profileImagePath']
custom_backend-1  | INFO:app.services.html_to_image_service:  - Metadata: {'version': '1.0', 'createdAt': '2025-10-23T10:37:02.154Z', 'updatedAt': '2025-10-23T10:37:06.774Z'}
custom_backend-1  | INFO:app.services.html_to_image_service:  - tips: [{'text': "Know what you're looking for in potential hires beforehand.", 'isHighlighted': False}, {'text': "Ask behavioral questions to learn how they've used soft skills in previous jobs", 'isHighlighted': False}]
custom_backend-1  | INFO:app.services.html_to_image_service:  - title: 'How do you assess soft skills in candidates?...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - content: 'Add your content here......'
custom_backend-1  | INFO:app.services.html_to_image_service:  - titleColor: '#333333...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - accentColor: '#ff6b35...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - companyName: 'Company name...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - contentColor: '#666666...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - backgroundColor: '#ffffff...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - profileImageAlt: 'Profile image...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - profileImagePath: '...'
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Generating HTML content...
custom_backend-1  | WARNING:app.services.html_template_service:Unknown template ID: soft-skills-assessment-slide
custom_backend-1  | INFO:app.services.html_template_service:Validated props for soft-skills-assessment-slide: ['tips', 'title', 'content', 'titleColor', 'accentColor', 'companyName', 'contentColor', 'backgroundColor', 'profileImageAlt', 'profileImagePath']
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Generating HTML for template: soft-skills-assessment-slide, theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Props received:
custom_backend-1  | INFO:app.services.html_template_service:  - Props type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Props keys: ['tips', 'title', 'content', 'titleColor', 'accentColor', 'companyName', 'contentColor', 'backgroundColor', 'profileImageAlt', 'profileImagePath']
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Metadata received: {'version': '1.0', 'createdAt': '2025-10-23T10:37:02.154Z', 'updatedAt': '2025-10-23T10:37:06.774Z'}
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Slide ID received: None
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === TEXT ELEMENT POSITIONING ANALYSIS ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Input Data Check:
custom_backend-1  | INFO:app.services.html_template_service:  - Template ID: soft-skills-assessment-slide
custom_backend-1  | INFO:app.services.html_template_service:  - Slide ID: None
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata content: {'version': '1.0', 'createdAt': '2025-10-23T10:37:02.154Z', 'updatedAt': '2025-10-23T10:37:06.774Z'}
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Element Positions found:
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions content: {}
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions keys: None
custom_backend-1  | WARNING:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚ö†Ô∏è NO ELEMENT POSITIONS FOUND IN METADATA
custom_backend-1  | INFO:app.services.html_template_service:  - tips: [{'text': "Know what you're looking for in potential hires beforehand.", 'isHighlighted': False}, {'text': "Ask behavioral questions to learn how they've used soft skills in previous jobs", 'isHighlighted': False}]
custom_backend-1  | INFO:app.services.html_template_service:  - title: 'How do you assess soft skills in candidates?...'
custom_backend-1  | INFO:app.services.html_template_service:  - content: 'Add your content here......'
custom_backend-1  | INFO:app.services.html_template_service:  - titleColor: '#333333...'
custom_backend-1  | INFO:app.services.html_template_service:  - accentColor: '#ff6b35...'
custom_backend-1  | INFO:app.services.html_template_service:  - companyName: 'Company name...'
custom_backend-1  | INFO:app.services.html_template_service:  - contentColor: '#666666...'
custom_backend-1  | INFO:app.services.html_template_service:  - backgroundColor: '#ffffff...'
custom_backend-1  | INFO:app.services.html_template_service:  - profileImageAlt: 'Profile image...'
custom_backend-1  | INFO:app.services.html_template_service:  - profileImagePath: '...'
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Context data prepared:
custom_backend-1  | INFO:app.services.html_template_service:  - Template ID: soft-skills-assessment-slide
custom_backend-1  | INFO:app.services.html_template_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata: {'version': '1.0', 'createdAt': '2025-10-23T10:37:02.154Z', 'updatedAt': '2025-10-23T10:37:06.774Z'}
custom_backend-1  | INFO:app.services.html_template_service:  - Slide ID: None
custom_backend-1  | INFO:app.services.html_template_service:  - Context keys: ['templateId', 'theme', 'metadata', 'slideId', 'tips', 'title', 'content', 'titleColor', 'accentColor', 'companyName', 'contentColor', 'backgroundColor', 'profileImageAlt', 'profileImagePath']
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Context Data Check:
custom_backend-1  | INFO:app.services.html_template_service:  - Context metadata: {'version': '1.0', 'createdAt': '2025-10-23T10:37:02.154Z', 'updatedAt': '2025-10-23T10:37:06.774Z'}
custom_backend-1  | INFO:app.services.html_template_service:  - Context slideId: unknown-slide
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEMPLATE_RENDER] === RENDERING TEMPLATE ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEMPLATE_RENDER] Theme being applied: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEMPLATE_RENDER] Template ID: soft-skills-assessment-slide
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content generated successfully
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content length: 85009 characters
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] === THEME CLASS VERIFICATION ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] ‚úÖ Theme class 'theme-dark-purple' found in HTML
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] ‚úÖ CSS variables (--bg-color) defined in HTML
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] Body tag: <body class="theme-dark-purple">
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] ‚úÖ Body tag has theme class!
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === INJECTION FAILURE CHECK ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Raw HTML Output Analysis:
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚úÖ POSITIONING CSS FOUND in HTML
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Transform CSS found: 5 occurrences
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG]   1. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG]   2. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG]   3. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG]   4. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG]   5. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚úÖ positioned-element class found in HTML
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML snippet: <!DOCTYPE html>
custom_backend-1  | <html lang="en">
custom_backend-1  | <head>
custom_backend-1  |     <meta charset="UTF-8">
custom_backend-1  |     <meta name="viewport" content="width=device-width, initial-scale=1.0">
custom_backend-1  |     <title>Avatar Slide Template</title>
custom_backend-1  |
custom_backend-1  |     <link rel="preconnect" href="https://fonts.googleapis.com">
custom_backend-1  |     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
custom_backend-1  |     <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600;700&family=Martel+Sans:wght@400;600;700&family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
custom_backend-1  |
custom_backend-1  |     <style>
custom_backend-1  |         /* Reset and base styles */
custom_backend-1  |         html, body {
custom_backend-1  |             margin: 0;
custom_backend-1  |             padding: 0;
custom_backend-1  |             background: var(--bg-color, #110c35); /* Use theme background, not transparent */
custom_backend-1  |             width: 1920px;
custom_backend-1  |             height: 1080px;
custom_backend-1  |             overflow: hidden;
custom_backend-1  |             font-size: 16px; /* Reduced base font size for better scaling */
custom_backend-1  |         }
custom_backend-1  |
custom_backend-1  |         * {
custom_backend-1  |             mar...
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === FINAL OUTPUT CHECK ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Final HTML length: 85009 characters
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] HTML contains positioning: True
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] HTML contains slideId: No slideId provided
custom_backend-1  | INFO:app.services.html_template_service:Generated clean HTML for video: soft-skills-assessment-slide
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] HTML content generated
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] HTML content length: 85009 characters
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Converting HTML to PNG...
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] ========== HTML-TO-IMAGE CONVERSION STARTED ==========
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] Timestamp: 2025-10-24 00:30:47
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] Template ID: soft-skills-assessment-slide
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] Conversion method: playwright
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] Target dimensions: 1920x1080
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] Output path: /tmp/tmp98xgoz05_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] HTML content length: 85009 characters
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] HTML preview (first 150 chars): <!DOCTYPE html>
custom_backend-1  | <html lang="en">
custom_backend-1  | <head>
custom_backend-1  |     <meta charset="UTF-8">
custom_backend-1  |     <meta name="viewport" content="width=device-width, initial-scale=1.0">
custom_backend-1  |     <tit...
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] === CONVERSION METHOD EXECUTION ===
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] Attempting Playwright conversion...
custom_backend-1  | INFO:app.services.html_to_image_service:Using Playwright for HTML to PNG conversion
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Job f9535f4e-d1ad-4802-aeac-38fc6121965e: status=processing, progress=45% (beat #2)
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Keeping connection alive - 2025-10-24T00:30:47.830598
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Using base URL for HTML rendering: http://localhost:8000
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Setting page content (HTML length: 85009 chars)...
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Page content set successfully (DOM ready)
custom_backend-1  | INFO:     172.18.0.11:48670 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Initial render delay completed
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Waiting for images to load...
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Images loaded successfully
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Waiting for fonts to load...
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Fonts loaded successfully
custom_backend-1  | INFO:     172.18.0.11:48676 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Final render delay completed
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Taking screenshot at 1920x1080...
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Screenshot captured successfully
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Closing browser context...
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Browser closed successfully
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] ‚úÖ Conversion successful: 60021 bytes
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] ‚úÖ Valid PNG signature confirmed
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] ‚úÖ Playwright conversion successful in 4567.19ms
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] === FINAL VERIFICATION ===
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] ‚úÖ Output file created successfully
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] File details:
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide]   - path: /tmp/tmp98xgoz05_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide]   - size: 60021 bytes
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide]   - modified: 2025-10-24 00:30:52
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide]   - size category: MEDIUM
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide]   - file header: 89504e470d0a1a0a0000000d49484452
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide]   - valid PNG: True
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] === CONVERSION COMPLETED ===
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] Total processing time: 4567.54ms
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] Method used: playwright
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] Success status: True
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1761265847-soft-skills-assessment- slide] File size check: True
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] PNG conversion successful: /tmp/tmp98xgoz05_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] PNG file size: 60021 bytes
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Generated PNG for slide 1: soft-skills-assessment-slide
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] PNG file size: 60021 bytes
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Saved debug slide image: output/presentations/slide_image_debug_1.png
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Successfully generated 1 PNG files
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] PNG files: ['/tmp/tmp98xgoz05_slide_0.png']
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Creating video from PNGs...
custom_backend-1  | INFO:app.services.video_assembly_service:Creating video from 1 PNG images
custom_backend-1  | INFO:app.services.video_assembly_service:Running FFmpeg command: ffmpeg -y -f concat -safe 0 -i /tmp/tmpeeaezqtb.txt -vf fps=25,scale=1920:1080:force_original_aspect_ratio=decrease,pad=1920:1080:(ow-iw)/2:(oh-ih)/2:color=#110c35 -c:v libx264 -preset slow -crf 18 -pix_fmt yuv420p output/clean_videos/avatar_slide_soft-skills-assessment-slide_20251024_003047.mp4
custom_backend-1  | INFO:     172.18.0.11:48680 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:48688 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:48692 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:42500 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:42508 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:42510 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:42516 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:42528 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:32886 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:32900 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:32902 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:32908 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:32924 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:47044 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:47050 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:47056 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.11:47060 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_assembly_service:Video created successfully: output/clean_videos/avatar_slide_soft-skills-assessment-slide_20251024_003047.mp4 (480845 bytes)
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Video creation successful: output/clean_videos/avatar_slide_soft-skills-assessment-slide_20251024_003047.mp4
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Video file size: 480845 bytes
custom_backend-1  | INFO:app.services.clean_video_generation_service:Avatar slide video generated: output/clean_videos/avatar_slide_soft-skills-assessment-slide_20251024_003047.mp4 (480845 bytes)
custom_backend-1  | INFO:app.services.presentation_service:üêõ [DEBUG_MODE] Slide 2 video generated (no avatar): output/clean_videos/avatar_slide_soft-skills-assessment-slide_20251024_003047.mp4
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job f9535f4e-d1ad-4802-aeac-38fc6121965e: processing‚Üíprocessing, 45%‚Üí80.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-10-24T00:31:26.294750
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 45% ‚Üí 80.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [MULTI_SLIDE_PROCESSING] Concatenating 2 videos into final presentation
custom_backend-1  | INFO:app.services.presentation_service:üêõ [DEBUG_MODE] Slide-only mode: Videos contain NO AVATAR, only slide content
custom_backend-1  | INFO:app.services.presentation_service:üéûÔ∏è [MULTI_SLIDE_PROCESSING] Using 6 transitions for concaten ation
custom_backend-1  | INFO:app.services.presentation_service:üéûÔ∏è [CONCATENATION_WITH_TRANSITIONS] Concatenating 2 videos w ith transitions
custom_backend-1  | INFO:app.services.presentation_service:  üéûÔ∏è Video 1: 60.00s - avatar_slide_avatar-service-slide_202 51024_003006.mp4
custom_backend-1  | INFO:app.services.presentation_service:  üéûÔ∏è Video 2: 60.00s - avatar_slide_soft-skills-assessment-s lide_20251024_003047.mp4
custom_backend-1  | INFO:app.services.presentation_service:  üéûÔ∏è Transition 1: fade ‚Üí fade (1.0s)
custom_backend-1  | INFO:app.services.presentation_service:üéûÔ∏è [CONCATENATION_WITH_TRANSITIONS] Running FFmpeg with xfad e transitions...
custom_backend-1  | ERROR:app.services.presentation_service:üéûÔ∏è [CONCATENATION_WITH_TRANSITIONS] FFmpeg failed: ffmpeg v ersion 7.1.2-0+deb13u1 Copyright (c) 2000-2025 the FFmpeg developers
custom_backend-1  |   built with gcc 14 (Debian 14.2.0-19)
custom_backend-1  |   configuration: --prefix=/usr --extra-version=0+deb13u1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --disable-libmfx --disable-omx --enable-gnutls --enable-libaom --enable-libass --enable-libbs2b --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libglslang --enable-libgme --enable-libgsm --enable-libharfbuzz --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzimg --enable-openal --enable-opencl --enable-opengl --disable-sndio --enable-libvpl --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-ladspa --enable-libbluray --enable-libcaca --enable-libdvdnav --enable-libdvdread --enable-libjack --enable-libpulse --enable-librabbitmq --enable-librist --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libx264 --enable-libzmq --enable-libzvbi --enable-lv2 --enable-sdl2 --enable-libplacebo --enable-librav1e --enable-pocketsphinx --enable-librsvg --enable-libjxl --enable-shared
custom_backend-1  |   libavutil      59. 39.100 / 59. 39.100
custom_backend-1  |   libavcodec     61. 19.101 / 61. 19.101
custom_backend-1  |   libavformat    61.  7.100 / 61.  7.100
custom_backend-1  |   libavdevice    61.  3.100 / 61.  3.100
custom_backend-1  |   libavfilter    10.  4.100 / 10.  4.100
custom_backend-1  |   libswscale      8.  3.100 /  8.  3.100
custom_backend-1  |   libswresample   5.  3.100 /  5.  3.100
custom_backend-1  |   libpostproc    58.  3.100 / 58.  3.100
custom_backend-1  | Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'output/clean_videos/avatar_slide_avatar-service-slide_20251024_003006.mp4':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Duration: 00:01:00.00, start: 0.000000, bitrate: 46 kb/s
custom_backend-1  |   Stream #0:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, unknown/bt709/iec61966-2-1, progressive), 1920x1080, 43 kb/s, 25 fps, 25 tbr, 12800 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 libx264
custom_backend-1  | Input #1, mov,mp4,m4a,3gp,3g2,mj2, from 'output/clean_videos/avatar_slide_soft-skills-assessment-slide_20251024_003047.mp4':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Duration: 00:01:00.00, start: 0.000000, bitrate: 64 kb/s
custom_backend-1  |   Stream #1:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, unknown/bt709/iec61966-2-1, progressive), 1920x1080, 61 kb/s, 25 fps, 25 tbr, 12800 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 libx264
custom_backend-1  | [fc#0 @ 0x560dc11041c0] Stream specifier ':a' in filtergraph description [0:v][1:v]xfade=transition=fade:duration=1.0:offset=59.000[vout];[0:a][1:a]acrossfade=d=1.0:c1=tri:c2=tri[aout] matches no streams.
custom_backend-1  | Error binding filtergraph inputs/outputs: Invalid argument
custom_backend-1  |
custom_backend-1  | ERROR:app.services.presentation_service:üéûÔ∏è [CONCATENATION_WITH_TRANSITIONS] Error during concatenat ion: FFmpeg concatenation with transitions failed: ffmpeg version 7.1.2-0+deb13u1 Copyright (c) 2000-2025 the FFmpeg developers
custom_backend-1  |   built with gcc 14 (Debian 14.2.0-19)
custom_backend-1  |   configuration: --prefix=/usr --extra-version=0+deb13u1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --disable-libmfx --disable-omx --enable-gnutls --enable-libaom --enable-libass --enable-libbs2b --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libglslang --enable-libgme --enable-libgsm --enable-libharfbuzz --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzimg --enable-openal --enable-opencl --enable-opengl --disable-sndio --enable-libvpl --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-ladspa --enable-libbluray --enable-libcaca --enable-libdvdnav --enable-libdvdread --enable-libjack --enable-libpulse --enable-librabbitmq --enable-librist --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libx264 --enable-libzmq --enable-libzvbi --enable-lv2 --enable-sdl2 --enable-libplacebo --enable-librav1e --enable-pocketsphinx --enable-librsvg --enable-libjxl --enable-shared
custom_backend-1  |   libavutil      59. 39.100 / 59. 39.100
custom_backend-1  |   libavcodec     61. 19.101 / 61. 19.101
custom_backend-1  |   libavformat    61.  7.100 / 61.  7.100
custom_backend-1  |   libavdevice    61.  3.100 / 61.  3.100
custom_backend-1  |   libavfilter    10.  4.100 / 10.  4.100
custom_backend-1  |   libswscale      8.  3.100 /  8.  3.100
custom_backend-1  |   libswresample   5.  3.100 /  5.  3.100
custom_backend-1  |   libpostproc    58.  3.100 / 58.  3.100
custom_backend-1  | Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'output/clean_videos/avatar_slide_avatar-service-slide_20251024_003006.mp4':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Duration: 00:01:00.00, start: 0.000000, bitrate: 46 kb/s
custom_backend-1  |   Stream #0:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, unknown/bt709/iec61966-2-1, progressive), 1920x1080, 43 kb/s, 25 fps, 25 tbr, 12800 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 libx264
custom_backend-1  | Input #1, mov,mp4,m4a,3gp,3g2,mj2, from 'output/clean_videos/avatar_slide_soft-skills-assessment-slide_20251024_003047.mp4':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Duration: 00:01:00.00, start: 0.000000, bitrate: 64 kb/s
custom_backend-1  |   Stream #1:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, unknown/bt709/iec61966-2-1, progressive), 1920x1080, 61 kb/s, 25 fps, 25 tbr, 12800 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 libx264
custom_backend-1  | [fc#0 @ 0x560dc11041c0] Stream specifier ':a' in filtergraph description [0:v][1:v]xfade=transition=fade:duration=1.0:offset=59.000[vout];[0:a][1:a]acrossfade=d=1.0:c1=tri:c2=tri[aout] matches no streams.
custom_backend-1  | Error binding filtergraph inputs/outputs: Invalid argument
custom_backend-1  |
custom_backend-1  | ERROR:app.services.presentation_service:Traceback (most recent call last):
custom_backend-1  |   File "/app/app/services/presentation_service.py", line 1070, in _concatenate_videos_with_transitions
custom_backend-1  |     raise Exception(f"FFmpeg concatenation with transitions failed: {process.stderr}")
custom_backend-1  | Exception: FFmpeg concatenation with transitions failed: ffmpeg version 7.1.2-0+deb13u1 Copyright (c) 2000-2025 the FFmpeg developers
custom_backend-1  |   built with gcc 14 (Debian 14.2.0-19)
custom_backend-1  |   configuration: --prefix=/usr --extra-version=0+deb13u1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --disable-libmfx --disable-omx --enable-gnutls --enable-libaom --enable-libass --enable-libbs2b --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libglslang --enable-libgme --enable-libgsm --enable-libharfbuzz --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzimg --enable-openal --enable-opencl --enable-opengl --disable-sndio --enable-libvpl --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-ladspa --enable-libbluray --enable-libcaca --enable-libdvdnav --enable-libdvdread --enable-libjack --enable-libpulse --enable-librabbitmq --enable-librist --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libx264 --enable-libzmq --enable-libzvbi --enable-lv2 --enable-sdl2 --enable-libplacebo --enable-librav1e --enable-pocketsphinx --enable-librsvg --enable-libjxl --enable-shared
custom_backend-1  |   libavutil      59. 39.100 / 59. 39.100
custom_backend-1  |   libavcodec     61. 19.101 / 61. 19.101
custom_backend-1  |   libavformat    61.  7.100 / 61.  7.100
custom_backend-1  |   libavdevice    61.  3.100 / 61.  3.100
custom_backend-1  |   libavfilter    10.  4.100 / 10.  4.100
custom_backend-1  |   libswscale      8.  3.100 /  8.  3.100
custom_backend-1  |   libswresample   5.  3.100 /  5.  3.100
custom_backend-1  |   libpostproc    58.  3.100 / 58.  3.100
custom_backend-1  | Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'output/clean_videos/avatar_slide_avatar-service-slide_20251024_003006.mp4':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Duration: 00:01:00.00, start: 0.000000, bitrate: 46 kb/s
custom_backend-1  |   Stream #0:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, unknown/bt709/iec61966-2-1, progressive), 1920x1080, 43 kb/s, 25 fps, 25 tbr, 12800 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 libx264
custom_backend-1  | Input #1, mov,mp4,m4a,3gp,3g2,mj2, from 'output/clean_videos/avatar_slide_soft-skills-assessment-slide_20251024_003047.mp4':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Duration: 00:01:00.00, start: 0.000000, bitrate: 64 kb/s
custom_backend-1  |   Stream #1:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, unknown/bt709/iec61966-2-1, progressive), 1920x1080, 61 kb/s, 25 fps, 25 tbr, 12800 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 libx264
custom_backend-1  | [fc#0 @ 0x560dc11041c0] Stream specifier ':a' in filtergraph description [0:v][1:v]xfade=transition=fade:duration=1.0:offset=59.000[vout];[0:a][1:a]acrossfade=d=1.0:c1=tri:c2=tri[aout] matches no streams.
custom_backend-1  | Error binding filtergraph inputs/outputs: Invalid argument
custom_backend-1  |
custom_backend-1  |
custom_backend-1  | ERROR:app.services.presentation_service:Multi-slide processing failed: FFmpeg concatenation with transitions failed: ffmpeg version 7.1.2-0+deb13u1 Copyright (c) 2000-2025 the FFmpeg developers
custom_backend-1  |   built with gcc 14 (Debian 14.2.0-19)
custom_backend-1  |   configuration: --prefix=/usr --extra-version=0+deb13u1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --disable-libmfx --disable-omx --enable-gnutls --enable-libaom --enable-libass --enable-libbs2b --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libglslang --enable-libgme --enable-libgsm --enable-libharfbuzz --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzimg --enable-openal --enable-opencl --enable-opengl --disable-sndio --enable-libvpl --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-ladspa --enable-libbluray --enable-libcaca --enable-libdvdnav --enable-libdvdread --enable-libjack --enable-libpulse --enable-librabbitmq --enable-librist --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libx264 --enable-libzmq --enable-libzvbi --enable-lv2 --enable-sdl2 --enable-libplacebo --enable-librav1e --enable-pocketsphinx --enable-librsvg --enable-libjxl --enable-shared
custom_backend-1  |   libavutil      59. 39.100 / 59. 39.100
custom_backend-1  |   libavcodec     61. 19.101 / 61. 19.101
custom_backend-1  |   libavformat    61.  7.100 / 61.  7.100
custom_backend-1  |   libavdevice    61.  3.100 / 61.  3.100
custom_backend-1  |   libavfilter    10.  4.100 / 10.  4.100
custom_backend-1  |   libswscale      8.  3.100 /  8.  3.100
custom_backend-1  |   libswresample   5.  3.100 /  5.  3.100
custom_backend-1  |   libpostproc    58.  3.100 / 58.  3.100
custom_backend-1  | Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'output/clean_videos/avatar_slide_avatar-service-slide_20251024_003006.mp4':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Duration: 00:01:00.00, start: 0.000000, bitrate: 46 kb/s
custom_backend-1  |   Stream #0:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, unknown/bt709/iec61966-2-1, progressive), 1920x1080, 43 kb/s, 25 fps, 25 tbr, 12800 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 libx264
custom_backend-1  | Input #1, mov,mp4,m4a,3gp,3g2,mj2, from 'output/clean_videos/avatar_slide_soft-skills-assessment-slide_20251024_003047.mp4':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Duration: 00:01:00.00, start: 0.000000, bitrate: 64 kb/s
custom_backend-1  |   Stream #1:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, unknown/bt709/iec61966-2-1, progressive), 1920x1080, 61 kb/s, 25 fps, 25 tbr, 12800 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 libx264
custom_backend-1  | [fc#0 @ 0x560dc11041c0] Stream specifier ':a' in filtergraph description [0:v][1:v]xfade=transition=fade:duration=1.0:offset=59.000[vout];[0:a][1:a]acrossfade=d=1.0:c1=tri:c2=tri[aout] matches no streams.
custom_backend-1  | Error binding filtergraph inputs/outputs: Invalid argument
custom_backend-1  |
custom_backend-1  | ERROR:app.services.presentation_service:Presentation processing failed: FFmpeg concatenation with transitions failed: ffmpeg version 7.1.2-0+deb13u1 Copyright (c) 2000-2025 the FFmpeg developers
custom_backend-1  |   built with gcc 14 (Debian 14.2.0-19)
custom_backend-1  |   configuration: --prefix=/usr --extra-version=0+deb13u1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --disable-libmfx --disable-omx --enable-gnutls --enable-libaom --enable-libass --enable-libbs2b --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libglslang --enable-libgme --enable-libgsm --enable-libharfbuzz --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzimg --enable-openal --enable-opencl --enable-opengl --disable-sndio --enable-libvpl --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-ladspa --enable-libbluray --enable-libcaca --enable-libdvdnav --enable-libdvdread --enable-libjack --enable-libpulse --enable-librabbitmq --enable-librist --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libx264 --enable-libzmq --enable-libzvbi --enable-lv2 --enable-sdl2 --enable-libplacebo --enable-librav1e --enable-pocketsphinx --enable-librsvg --enable-libjxl --enable-shared
custom_backend-1  |   libavutil      59. 39.100 / 59. 39.100
custom_backend-1  |   libavcodec     61. 19.101 / 61. 19.101
custom_backend-1  |   libavformat    61.  7.100 / 61.  7.100
custom_backend-1  |   libavdevice    61.  3.100 / 61.  3.100
custom_backend-1  |   libavfilter    10.  4.100 / 10.  4.100
custom_backend-1  |   libswscale      8.  3.100 /  8.  3.100
custom_backend-1  |   libswresample   5.  3.100 /  5.  3.100
custom_backend-1  |   libpostproc    58.  3.100 / 58.  3.100
custom_backend-1  | Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'output/clean_videos/avatar_slide_avatar-service-slide_20251024_003006.mp4':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Duration: 00:01:00.00, start: 0.000000, bitrate: 46 kb/s
custom_backend-1  |   Stream #0:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, unknown/bt709/iec61966-2-1, progressive), 1920x1080, 43 kb/s, 25 fps, 25 tbr, 12800 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 libx264
custom_backend-1  | Input #1, mov,mp4,m4a,3gp,3g2,mj2, from 'output/clean_videos/avatar_slide_soft-skills-assessment-slide_20251024_003047.mp4':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Duration: 00:01:00.00, start: 0.000000, bitrate: 64 kb/s
custom_backend-1  |   Stream #1:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, unknown/bt709/iec61966-2-1, progressive), 1920x1080, 61 kb/s, 25 fps, 25 tbr, 12800 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 libx264
custom_backend-1  | [fc#0 @ 0x560dc11041c0] Stream specifier ':a' in filtergraph description [0:v][1:v]xfade=transition=fade:duration=1.0:offset=59.000[vout];[0:a][1:a]acrossfade=d=1.0:c1=tri:c2=tri[aout] matches no streams.
custom_backend-1  | Error binding filtergraph inputs/outputs: Invalid argument
custom_backend-1  |
custom_backend-1  | ERROR:app.services.presentation_service:üé¨ [PRESENTATION_FAILED] Presentation f9535f4e-d1ad-4802-aeac-38fc6121965e failed: FFmpeg concatenation with transitions failed: ffmpeg version 7.1.2-0+deb13u1 Copyright (c) 2000-2025 the FFmpeg developers
custom_backend-1  |   built with gcc 14 (Debian 14.2.0-19)
custom_backend-1  |   configuration: --prefix=/usr --extra-version=0+deb13u1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --disable-libmfx --disable-omx --enable-gnutls --enable-libaom --enable-libass --enable-libbs2b --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libglslang --enable-libgme --enable-libgsm --enable-libharfbuzz --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzimg --enable-openal --enable-opencl --enable-opengl --disable-sndio --enable-libvpl --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-ladspa --enable-libbluray --enable-libcaca --enable-libdvdnav --enable-libdvdread --enable-libjack --enable-libpulse --enable-librabbitmq --enable-librist --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libx264 --enable-libzmq --enable-libzvbi --enable-lv2 --enable-sdl2 --enable-libplacebo --enable-librav1e --enable-pocketsphinx --enable-librsvg --enable-libjxl --enable-shared
custom_backend-1  |   libavutil      59. 39.100 / 59. 39.100
custom_backend-1  |   libavcodec     61. 19.101 / 61. 19.101
custom_backend-1  |   libavformat    61.  7.100 / 61.  7.100
custom_backend-1  |   libavdevice    61.  3.100 / 61.  3.100
custom_backend-1  |   libavfilter    10.  4.100 / 10.  4.100
custom_backend-1  |   libswscale      8.  3.100 /  8.  3.100
custom_backend-1  |   libswresample   5.  3.100 /  5.  3.100
custom_backend-1  |   libpostproc    58.  3.100 / 58.  3.100
custom_backend-1  | Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'output/clean_videos/avatar_slide_avatar-service-slide_20251024_003006.mp4':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Duration: 00:01:00.00, start: 0.000000, bitrate: 46 kb/s
custom_backend-1  |   Stream #0:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, unknown/bt709/iec61966-2-1, progressive), 1920x1080, 43 kb/s, 25 fps, 25 tbr, 12800 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 libx264
custom_backend-1  | Input #1, mov,mp4,m4a,3gp,3g2,mj2, from 'output/clean_videos/avatar_slide_soft-skills-assessment-slide_20251024_003047.mp4':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Duration: 00:01:00.00, start: 0.000000, bitrate: 64 kb/s
custom_backend-1  |   Stream #1:0[0x1](und): Video: h264 (High) (avc1 / 0x31637661), yuv420p(tv, unknown/bt709/iec61966-2-1, progressive), 1920x1080, 61 kb/s, 25 fps, 25 tbr, 12800 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 libx264
custom_backend-1  | [fc#0 @ 0x560dc11041c0] Stream specifier ':a' in filtergraph description [0:v][1:v]xfade=transition=fade:duration=1.0:offset=59.000[vout];[0:a][1:a]acrossfade=d=1.0:c1=tri:c2=tri[aout] matches no streams.
custom_backend-1  | Error binding filtergraph inputs/outputs: Invalid argument
custom_backend-1  |
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job f9535f4e-d1ad-4802-aeac-38fc6121965e: processing‚Üífailed, 80.0%‚Üí80.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-10-24T00:31:26.859289
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Status changed: processing ‚Üí failed
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Stopped heartbeat for job f9535f4e-d1ad-4802-aeac-38fc6121965e
custom_backend-1  | ERROR:app.services.presentation_service:üé¨ [PRESENTATION_FAILED] Job f9535f4e-d1ad-4802-aeac-38fc6121965e marked as failed, heartbeat stopped
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Heartbeat task cancelled for job f9535f4e-d1ad-4802-aeac-38fc6121965e after 2 beats
custom_backend-1  | INFO:     172.18.0.11:47070 - "GET /api/custom/presentations/f9535f4e-d1ad-4802-aeac-38fc6121965e HTTP/1.1" 200 OK