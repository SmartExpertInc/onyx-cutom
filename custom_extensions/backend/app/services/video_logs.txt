custom_backend-1  | INFO:app.services.pdf_generator:PDF Template Directory expected at: /app/templates
custom_backend-1  | INFO:app.services.video_generation_service:HTTP client initialized successfully
custom_backend-1  | INFO:main:Video generation service imported successfully
custom_backend-1  | INFO:app.services.presentation_service:Professional Presentation Service initialized
custom_backend-1  | INFO:main:Presentation service imported successfully
custom_backend-1  | INFO:     Started server process [1]
custom_backend-1  | INFO:     Waiting for application startup.
custom_backend-1  | INFO:main:Custom Backend starting...
custom_backend-1  | INFO:main:'projects' table ensured and updated.
custom_backend-1  | INFO:main:'microproduct_pipelines' table ensured.
custom_backend-1  | INFO:main:'projects' table ensured and updated with 'source_chat_session_id'.
custom_backend-1  | INFO:main:'projects' table updated with source context tracking columns.
custom_backend-1  | INFO:main:'projects' table updated with lesson plan columns.
custom_backend-1  | INFO:main:'design_templates' table ensured.
custom_backend-1  | INFO:app.core.database:Database tables created successfully
custom_backend-1  | INFO:main:Workspace database tables initialized successfully
custom_backend-1  | INFO:main:'trashed_projects' table ensured (soft-delete).
custom_backend-1  | INFO:main:'user_credits' table ensured.
custom_backend-1  | INFO:main:Updated credit_transactions table to support admin_removal type
custom_backend-1  | INFO:main:'credit_transactions' table ensured.
custom_backend-1  | INFO:main:Attempting to connect to Onyx database: postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/onyx_db
custom_backend-1  | INFO:main:Trying to connect to: postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/onyx_db
custom_backend-1  | WARNING:main:Failed to connect to postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/onyx_db: database "onyx_db" does not exist
custom_backend-1  | INFO:main:Trying to connect to: postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/postgres
custom_backend-1  | INFO:main:Found 3 Onyx users to migrate
custom_backend-1  | INFO:main:Populated user_credits table with 3 existing Onyx users (100 credits each).
custom_backend-1  | INFO:main:Added quality_tier column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default 'medium' tier
custom_backend-1  | INFO:main:Created index for quality_tier column
custom_backend-1  | INFO:main:Added custom_rate column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default custom_rate
custom_backend-1  | INFO:main:Created index for custom_rate column
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to projects table
custom_backend-1  | INFO:main:Created indexes for project-level custom_rate and quality_tier columns
custom_backend-1  | INFO:main:Ensured is_advanced, advanced_rates, and completion_times on project_folders
custom_backend-1  | INFO:main:Ensured is_advanced, advanced_rates, and completion_times on projects
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to trashed_projects table
custom_backend-1  | INFO:main:Applying critical fix: Ensuring order and completion_time columns are TEXT type
custom_backend-1  | INFO:main:Successfully set projects.order and projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set trashed_projects.order and trashed_projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set default values for empty order and completion_time fields
custom_backend-1  | INFO:main:Projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:Trashed_projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:'request_analytics' table ensured.
custom_backend-1  | INFO:main:AI parser tracking columns added to request_analytics table.
custom_backend-1  | INFO:main:Added is_standalone column to projects table.
custom_backend-1  | INFO:main:Added is_standalone column to trashed_projects table.
custom_backend-1  | INFO:main:Legacy support: is_standalone field defaults to NULL for existing products.
custom_backend-1  | INFO:main:Added course_id column to projects table.
custom_backend-1  | INFO:main:Added course_id column to trashed_projects table.
custom_backend-1  | INFO:main:Legacy support: course_id field defaults to NULL for existing products.
custom_backend-1  | INFO:main:'smartdrive_accounts' table ensured.
custom_backend-1  | INFO:main:'smartdrive_imports' table ensured.
custom_backend-1  | INFO:main:'user_connectors' table ensured.
custom_backend-1  | INFO:main:'offers' table ensured.
custom_backend-1  | INFO:main:Smart Drive database migrations completed successfully.
custom_backend-1  | INFO:main:'feature_definitions' table ensured.
custom_backend-1  | INFO:main:Migrated user_features.user_id column to TEXT type.
custom_backend-1  | INFO:main:'user_features' table ensured.
custom_backend-1  | INFO:main:Seeded 21 feature definitions.
custom_backend-1  | INFO:main:Deactivated 7 unused feature definitions.
custom_backend-1  | INFO:main:Created feature entries for 3 existing users.
custom_backend-1  | INFO:main:Added audit sharing columns to projects table.
custom_backend-1  | INFO:main:Added audit sharing columns to trashed_projects table.
custom_backend-1  | INFO:main:Updated 0 existing audits to use 'AI Audit' microproduct_type
custom_backend-1  | INFO:main:Updated trashed audits to use 'AI Audit' microproduct_type
custom_backend-1  | INFO:main:Database schema migration completed successfully.
custom_backend-1  | INFO:main:'lms_exports' table ensured.
custom_backend-1  | INFO:     Application startup complete.
custom_backend-1  | INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.12:42152 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.12:42168 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 177 - Raw details_data type: <class 'dict'>
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 177 - Already dict, after round_hours: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759827588905-21u63fmsd",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-07T08:59:48.905Z",
custom_backend-1  |         "updatedAt": "2025-10-08T09:10:23.522Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759827588905-21u63fmsd-0": {
custom_backend-1  |             "x": -94,
custom_backend-1  |             "y": 61
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759827588905-21u63fmsd-1": {
custom_backend-1  |             "x": -96,
custom_backend-1  |             "y": -128
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759827588905-21u63fmsd",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 177 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:main:üîç [DATA INTEGRITY] Project 177 - Preserved raw dict for VideoLessonPresentationDisplay to prevent slides‚ÜícontentBlocks corruption
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Sending slide-based response to frontend for Project 177:
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response component_name: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response details type: <class 'dict'>
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has slides: True
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has contentBlocks: False
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ FIXED: Slides array preserved with 1 slides
custom_backend-1  | INFO:     172.18.0.12:42162 - "GET /api/custom/projects/view/177 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 177
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-08T09:30:03.308797
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759827588905-21u63fmsd', 'metadata': {'version': '1.0', 'createdAt': '2025-10-07T08:59:48.905Z', 'updatedAt': '2025-10-08T09:30:03.427Z', 'elementPositions': {'draggable-slide-1759827588905-21u63fmsd-0': {'x': -92, 'y': 44}, 'draggable-slide-1759827588905-21u63fmsd-1': {'x': -96, 'y': -128}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 4}], 'lessonTitle': 'Course on AI tools for teachers of the high school', 'hasVoiceover': True, 'currentSlideId': 'slide-1759827588905-21u63fmsd', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 177 - Storing content to DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759827588905-21u63fmsd",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-07T08:59:48.905Z",
custom_backend-1  |         "updatedAt": "2025-10-08T09:30:03.427Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759827588905-21u63fmsd-0": {
custom_backend-1  |             "x": -92,
custom_backend-1  |             "y": 44
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759827588905-21u63fmsd-1": {
custom_backend-1  |             "x": -96,
custom_backend-1  |             "y": -128
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759827588905-21u63fmsd",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 177
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759827588905-21u63fmsd', 'metadata': {'version': '1.0', 'createdAt': '2025-10-07T08:59:48.905Z', 'updatedAt': '2025-10-08T09:30:03.427Z', 'elementPositions': {'draggable-slide-1759827588905-21u63fmsd-0': {'x': -92, 'y': 44}, 'draggable-slide-1759827588905-21u63fmsd-1': {'x': -96, 'y': -128}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 4}], 'lessonTitle': 'Course on AI tools for teachers of the high school', 'hasVoiceover': True, 'currentSlideId': 'slide-1759827588905-21u63fmsd', 'detectedLanguage': 'en'}, 177]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-08T09:30:03.571668
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 177, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Course on AI tools for teachers of the high school', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Course on AI tools for teachers of the high school', 'microproduct_content': {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759827588905-21u63fmsd', 'metadata': {'version': '1.0', 'createdAt': '2025-10-07T08:59:48.905Z', 'updatedAt': '2025-10-08T09:30:03.427Z', 'elementPositions': {'draggable-slide-1759827588905-21u63fmsd-0': {'x': -92, 'y': 44}, 'draggable-slide-1759827588905-21u63fmsd-1': {'x': -96, 'y': -128}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 4}], 'lessonTitle': 'Course on AI tools for teachers of the high school', 'hasVoiceover': True, 'currentSlideId': 'slide-1759827588905-21u63fmsd', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 7, 8, 59, 35, 635346, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-08T09:30:03.632021
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 177 - Retrieved content from DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759827588905-21u63fmsd",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-07T08:59:48.905Z",
custom_backend-1  |         "updatedAt": "2025-10-08T09:30:03.427Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759827588905-21u63fmsd-0": {
custom_backend-1  |             "x": -92,
custom_backend-1  |             "y": 44
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759827588905-21u63fmsd-1": {
custom_backend-1  |             "x": -96,
custom_backend-1  |             "y": -128
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759827588905-21u63fmsd",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 177 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 177
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=177 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Course on AI tools for teachers of the high school' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Course on AI tools for teachers of the high school' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='cherry') design_template_id=2 created_at=datetime.datetime(2025, 10, 7, 8, 59, 35, 635346, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-08T09:30:03.644331
custom_backend-1  | INFO:     172.18.0.12:42174 - "PUT /api/custom/projects/update/177 HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Debug render endpoint called
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Parameters: project=Create your first AI video, slides=1, theme=dark-purple, duration=5s
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Job ID: a4960c7a-7ee7-40b3-8d61-06da37c3d597
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Remotion data prepared with 1 slides
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Props written to: /tmp/tmpxore4lna.json
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Remotion render configuration:
custom_backend-1  | INFO:main:  - Entry file: video_compositions/src/Root.tsx
custom_backend-1  | INFO:main:  - Composition: AvatarServiceSlide
custom_backend-1  | INFO:main:  - Output: output/presentations/debug_render_a4960c7a-7ee7-40b3-8d61-06da37c3d597.mp4
custom_backend-1  | INFO:main:  - Props file: /tmp/tmpxore4lna.json
custom_backend-1  | INFO:main:  - Working directory: /
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Executing command: npx remotion render video_compositions/src/Root.tsx AvatarServiceSlide output/presentations/debug_render_a4960c7a-7ee7-40b3-8d61-06da37c3d597.mp4 --props /tmp/tmpxore4lna.json
custom_backend-1  | ERROR:main:üêõ [DEBUG_RENDER] Error: [Errno 2] No such file or directory: 'npx'
custom_backend-1  | ERROR:main:üêõ [DEBUG_RENDER] Traceback: Traceback (most recent call last):
custom_backend-1  |   File "/app/main.py", line 29179, in debug_render_presentation
custom_backend-1  |     result = subprocess.run(
custom_backend-1  |   File "/usr/local/lib/python3.9/subprocess.py", line 505, in run
custom_backend-1  |     with Popen(*popenargs, **kwargs) as process:
custom_backend-1  |   File "/usr/local/lib/python3.9/subprocess.py", line 951, in __init__
custom_backend-1  |     self._execute_child(args, executable, preexec_fn, close_fds,
custom_backend-1  |   File "/usr/local/lib/python3.9/subprocess.py", line 1837, in _execute_child
custom_backend-1  |     raise child_exception_type(errno_num, err_msg, err_filename)
custom_backend-1  | FileNotFoundError: [Errno 2] No such file or directory: 'npx'
custom_backend-1  |
custom_backend-1  | INFO:     172.18.0.12:42186 - "POST /api/custom/presentations/debug-render HTTP/1.1" 200 OK
custom_backend-1  | ERROR:main:Error downloading debug render video: name 'Path' is not defined
custom_backend-1  | INFO:     172.18.0.12:42192 - "GET /api/custom/presentations/debug-render/undefined/video HTTP/1.1" 500 Internal Server Error
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:54672 - "GET /api/custom/features/check/offers_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.12:54662 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:54678 - "GET /api/custom/features/check/workspace_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:54682 - "GET /api/custom/features/check/export_to_lms HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:54692 - "GET /api/custom/features/check/course_table HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:54716 - "GET /api/custom/features/check/workspace_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:54712 - "GET /api/custom/features/check/offers_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:54706 - "GET /api/custom/features/check/col_quality_tier HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:54728 - "GET /api/custom/features/check/export_to_lms HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:54744 - "GET /api/custom/features/check/ai_audit_templates HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:54746 - "GET /api/custom/features/check/deloitte_banner HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:54774 - "GET /api/custom/credits/me HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:54760 - "GET /api/custom/features/check/event_posters HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:54790 - "GET /api/custom/projects/folders HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üîç [WORKSPACE ACCESS] User b9ad451e-4c02-4008-9965-d5931ff02aa0 (email: makshm1307@gmail.com) projects query results:
custom_backend-1  | INFO:main:   - Owned projects: 172
custom_backend-1  | INFO:main:   - Shared projects: 0
custom_backend-1  | INFO:main:   - Folder filter: None
custom_backend-1  | INFO:main:   - Owned project IDs: [11, 9, 15, 18, 28, 27, 2, 1, 163, 88, 87, 4, 3, 12, 23, 24, 14, 29, 119, 140, 144, 19, 71, 61, 6, 30, 82, 118, 139, 120, 51, 31, 72, 141, 145, 121, 142, 146, 123, 148, 17, 13, 164, 73, 150, 32, 90, 22, 143, 122, 147, 104, 167, 33, 89, 52, 165, 103, 34, 74, 83, 92, 124, 149, 127, 111, 135, 166, 7, 8, 35, 53, 75, 91, 125, 36, 26, 76, 168, 170, 151, 93, 126, 20, 37, 54, 84, 171, 172, 94, 86, 38, 95, 105, 128, 173, 39, 96, 106, 174, 129, 101, 169, 40, 55, 160, 97, 107, 155, 130, 175, 159, 161, 41, 98, 108, 131, 156, 162, 42, 43, 25, 58, 56, 133, 62, 109, 65, 132, 157, 110, 44, 57, 78, 134, 85, 158, 45, 66, 99, 100, 112, 46, 136, 77, 79, 137, 47, 59, 176, 113, 67, 80, 48, 81, 114, 68, 115, 49, 177, 60, 69, 102, 116, 178, 16, 21, 50, 117, 70, 179, 10]
custom_backend-1  | INFO:main:üîç [WORKSPACE DEBUG] No shared projects found for user b9ad451e-4c02-4008-9965-d5931ff02aa0. Investigating...
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   ‚ùå User b9ad451e-4c02-4008-9965-d5931ff02aa0 is not a member of any workspace!
custom_backend-1  | INFO:main:   üí° Add user to a workspace to enable shared project access
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:54788 - "GET /api/custom/projects HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:54798 - "GET /api/custom/projects/folders HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üîç [WORKSPACE ACCESS] User b9ad451e-4c02-4008-9965-d5931ff02aa0 (email: makshm1307@gmail.com) projects query results:
custom_backend-1  | INFO:main:   - Owned projects: 172
custom_backend-1  | INFO:main:   - Shared projects: 0
custom_backend-1  | INFO:main:   - Folder filter: None
custom_backend-1  | INFO:main:   - Owned project IDs: [11, 9, 15, 18, 28, 27, 2, 1, 163, 88, 87, 4, 3, 12, 23, 24, 14, 29, 119, 140, 144, 19, 71, 61, 6, 30, 82, 118, 139, 120, 51, 31, 72, 141, 145, 121, 142, 146, 123, 148, 17, 13, 164, 73, 150, 32, 90, 22, 143, 122, 147, 104, 167, 33, 89, 52, 165, 103, 34, 74, 83, 92, 124, 149, 127, 111, 135, 166, 7, 8, 35, 53, 75, 91, 125, 36, 26, 76, 168, 170, 151, 93, 126, 20, 37, 54, 84, 171, 172, 94, 86, 38, 95, 105, 128, 173, 39, 96, 106, 174, 129, 101, 169, 40, 55, 160, 97, 107, 155, 130, 175, 159, 161, 41, 98, 108, 131, 156, 162, 42, 43, 25, 58, 56, 133, 62, 109, 65, 132, 157, 110, 44, 57, 78, 134, 85, 158, 45, 66, 99, 100, 112, 46, 136, 77, 79, 137, 47, 59, 176, 113, 67, 80, 48, 81, 114, 68, 115, 49, 177, 60, 69, 102, 116, 178, 16, 21, 50, 117, 70, 179, 10]
custom_backend-1  | INFO:main:üîç [WORKSPACE DEBUG] No shared projects found for user b9ad451e-4c02-4008-9965-d5931ff02aa0. Investigating...
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   ‚ùå User b9ad451e-4c02-4008-9965-d5931ff02aa0 is not a member of any workspace!
custom_backend-1  | INFO:main:   üí° Add user to a workspace to enable shared project access
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:     172.18.0.12:54810 - "GET /api/custom/projects HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:54818 - "GET /api/custom/features/check/col_quality_tier HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:54826 - "GET /api/custom/projects/90/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:54822 - "GET /api/custom/features/check/course_table HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:54836 - "GET /api/custom/projects/85/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:54832 - "GET /api/custom/projects/89/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:54864 - "GET /api/custom/projects/82/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:54840 - "GET /api/custom/projects/84/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:54850 - "GET /api/custom/projects/83/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 177 - Raw details_data type: <class 'dict'>
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 177 - Already dict, after round_hours: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759827588905-21u63fmsd",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-07T08:59:48.905Z",
custom_backend-1  |         "updatedAt": "2025-10-08T09:30:03.427Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759827588905-21u63fmsd-0": {
custom_backend-1  |             "x": -92,
custom_backend-1  |             "y": 44
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759827588905-21u63fmsd-1": {
custom_backend-1  |             "x": -96,
custom_backend-1  |             "y": -128
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759827588905-21u63fmsd",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 177 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:main:üîç [DATA INTEGRITY] Project 177 - Preserved raw dict for VideoLessonPresentationDisplay to prevent slides‚ÜícontentBlocks corruption
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Sending slide-based response to frontend for Project 177:
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response component_name: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response details type: <class 'dict'>
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has slides: True
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has contentBlocks: False
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ FIXED: Slides array preserved with 1 slides
custom_backend-1  | INFO:     172.18.0.12:54868 - "GET /api/custom/projects/view/177 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.12:54872 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 177
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-08T09:30:20.647189
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759827588905-21u63fmsd', 'metadata': {'version': '1.0', 'createdAt': '2025-10-07T08:59:48.905Z', 'updatedAt': '2025-10-08T09:30:20.875Z', 'elementPositions': {'draggable-slide-1759827588905-21u63fmsd-0': {'x': -92, 'y': 44}, 'draggable-slide-1759827588905-21u63fmsd-1': {'x': -88, 'y': -155}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 4}], 'lessonTitle': 'Course on AI tools for teachers of the high school', 'hasVoiceover': True, 'currentSlideId': 'slide-1759827588905-21u63fmsd', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 177 - Storing content to DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759827588905-21u63fmsd",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-07T08:59:48.905Z",
custom_backend-1  |         "updatedAt": "2025-10-08T09:30:20.875Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759827588905-21u63fmsd-0": {
custom_backend-1  |             "x": -92,
custom_backend-1  |             "y": 44
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759827588905-21u63fmsd-1": {
custom_backend-1  |             "x": -88,
custom_backend-1  |             "y": -155
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759827588905-21u63fmsd",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 177
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759827588905-21u63fmsd', 'metadata': {'version': '1.0', 'createdAt': '2025-10-07T08:59:48.905Z', 'updatedAt': '2025-10-08T09:30:20.875Z', 'elementPositions': {'draggable-slide-1759827588905-21u63fmsd-0': {'x': -92, 'y': 44}, 'draggable-slide-1759827588905-21u63fmsd-1': {'x': -88, 'y': -155}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 4}], 'lessonTitle': 'Course on AI tools for teachers of the high school', 'hasVoiceover': True, 'currentSlideId': 'slide-1759827588905-21u63fmsd', 'detectedLanguage': 'en'}, 177]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-08T09:30:20.760710
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 177, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Course on AI tools for teachers of the high school', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Course on AI tools for teachers of the high school', 'microproduct_content': {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759827588905-21u63fmsd', 'metadata': {'version': '1.0', 'createdAt': '2025-10-07T08:59:48.905Z', 'updatedAt': '2025-10-08T09:30:20.875Z', 'elementPositions': {'draggable-slide-1759827588905-21u63fmsd-0': {'x': -92, 'y': 44}, 'draggable-slide-1759827588905-21u63fmsd-1': {'x': -88, 'y': -155}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 4}], 'lessonTitle': 'Course on AI tools for teachers of the high school', 'hasVoiceover': True, 'currentSlideId': 'slide-1759827588905-21u63fmsd', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 7, 8, 59, 35, 635346, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-08T09:30:20.770500
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 177 - Retrieved content from DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759827588905-21u63fmsd",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-07T08:59:48.905Z",
custom_backend-1  |         "updatedAt": "2025-10-08T09:30:20.875Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759827588905-21u63fmsd-0": {
custom_backend-1  |             "x": -92,
custom_backend-1  |             "y": 44
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759827588905-21u63fmsd-1": {
custom_backend-1  |             "x": -88,
custom_backend-1  |             "y": -155
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759827588905-21u63fmsd",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 177 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 177
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=177 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Course on AI tools for teachers of the high school' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Course on AI tools for teachers of the high school' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='cherry') design_template_id=2 created_at=datetime.datetime(2025, 10, 7, 8, 59, 35, 635346, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-08T09:30:20.773927
custom_backend-1  | INFO:     172.18.0.12:59220 - "PUT /api/custom/projects/update/177 HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Debug render endpoint called
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Parameters: project=Create your first AI video, slides=1, theme=dark-purple, duration=5s
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Job ID: 8f7f0439-e333-4267-b557-830d47f504a9
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Remotion data prepared with 1 slides
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Props written to: /tmp/tmpc03d3o9b.json
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Remotion render configuration:
custom_backend-1  | INFO:main:  - Entry file: video_compositions/src/Root.tsx
custom_backend-1  | INFO:main:  - Composition: AvatarServiceSlide
custom_backend-1  | INFO:main:  - Output: output/presentations/debug_render_8f7f0439-e333-4267-b557-830d47f504a9.mp4
custom_backend-1  | INFO:main:  - Props file: /tmp/tmpc03d3o9b.json
custom_backend-1  | INFO:main:  - Working directory: /
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Executing command: npx remotion render video_compositions/src/Root.tsx AvatarServiceSlide output/presentations/debug_render_8f7f0439-e333-4267-b557-830d47f504a9.mp4 --props /tmp/tmpc03d3o9b.json
custom_backend-1  | ERROR:main:üêõ [DEBUG_RENDER] Error: [Errno 2] No such file or directory: 'npx'
custom_backend-1  | ERROR:main:üêõ [DEBUG_RENDER] Traceback: Traceback (most recent call last):
custom_backend-1  |   File "/app/main.py", line 29179, in debug_render_presentation
custom_backend-1  |     result = subprocess.run(
custom_backend-1  |   File "/usr/local/lib/python3.9/subprocess.py", line 505, in run
custom_backend-1  |     with Popen(*popenargs, **kwargs) as process:
custom_backend-1  |   File "/usr/local/lib/python3.9/subprocess.py", line 951, in __init__
custom_backend-1  |     self._execute_child(args, executable, preexec_fn, close_fds,
custom_backend-1  |   File "/usr/local/lib/python3.9/subprocess.py", line 1837, in _execute_child
custom_backend-1  |     raise child_exception_type(errno_num, err_msg, err_filename)
custom_backend-1  | FileNotFoundError: [Errno 2] No such file or directory: 'npx'
custom_backend-1  |
custom_backend-1  | INFO:     172.18.0.12:59226 - "POST /api/custom/presentations/debug-render HTTP/1.1" 200 OK
custom_backend-1  | ERROR:main:Error downloading debug render video: name 'Path' is not defined
custom_backend-1  | INFO:     172.18.0.12:59240 - "GET /api/custom/presentations/debug-render/undefined/video HTTP/1.1" 500 Internal Server Error
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Debug render endpoint called
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Parameters: project=Create your first AI video, slides=1, theme=dark-purple, duration=5s
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Job ID: 795a0859-74da-4018-ae56-d67bc003e45a
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Remotion data prepared with 1 slides
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Props written to: /tmp/tmpmgfrutdr.json
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Remotion render configuration:
custom_backend-1  | INFO:main:  - Entry file: video_compositions/src/Root.tsx
custom_backend-1  | INFO:main:  - Composition: AvatarServiceSlide
custom_backend-1  | INFO:main:  - Output: output/presentations/debug_render_795a0859-74da-4018-ae56-d67bc003e45a.mp4
custom_backend-1  | INFO:main:  - Props file: /tmp/tmpmgfrutdr.json
custom_backend-1  | INFO:main:  - Working directory: /
custom_backend-1  | INFO:main:üêõ [DEBUG_RENDER] Executing command: npx remotion render video_compositions/src/Root.tsx AvatarServiceSlide output/presentations/debug_render_795a0859-74da-4018-ae56-d67bc003e45a.mp4 --props /tmp/tmpmgfrutdr.json
custom_backend-1  | ERROR:main:üêõ [DEBUG_RENDER] Error: [Errno 2] No such file or directory: 'npx'
custom_backend-1  | ERROR:main:üêõ [DEBUG_RENDER] Traceback: Traceback (most recent call last):
custom_backend-1  |   File "/app/main.py", line 29179, in debug_render_presentation
custom_backend-1  |     result = subprocess.run(
custom_backend-1  |   File "/usr/local/lib/python3.9/subprocess.py", line 505, in run
custom_backend-1  |     with Popen(*popenargs, **kwargs) as process:
custom_backend-1  |   File "/usr/local/lib/python3.9/subprocess.py", line 951, in __init__
custom_backend-1  |     self._execute_child(args, executable, preexec_fn, close_fds,
custom_backend-1  |   File "/usr/local/lib/python3.9/subprocess.py", line 1837, in _execute_child
custom_backend-1  |     raise child_exception_type(errno_num, err_msg, err_filename)
custom_backend-1  | FileNotFoundError: [Errno 2] No such file or directory: 'npx'
custom_backend-1  |
custom_backend-1  | INFO:     172.18.0.12:43416 - "POST /api/custom/presentations/debug-render HTTP/1.1" 200 OK
custom_backend-1  | ERROR:main:Error downloading debug render video: name 'Path' is not defined
custom_backend-1  | INFO:     172.18.0.12:43430 - "GET /api/custom/presentations/debug-render/undefined/video HTTP/1.1" 500 Internal Server Error


üé¨ [AVATAR_DATA_SERVICE] State updated: {avatarDataCount: 51, processedAvatarsCount: 98, isLoading: false, error: null}
1261-11f4c3f83e0baa28.js:1 üêõ [DRAG_DEBUG] MouseDown Event: {elementId: 'draggable-slide-1759827588905-21u63fmsd-1', viewport: {‚Ä¶}, canvasRect: {‚Ä¶}, hasSlideCanvas: true, slideCanvasElement: 'DIV'}
1261-11f4c3f83e0baa28.js:1 üêõ [DRAG_DEBUG] Canvas Coordinates: {canvasX: 204.09283447265625, canvasY: 187.06063842773438, currentX: -96, currentY: -128, offsetWillBe: {‚Ä¶}}
1261-11f4c3f83e0baa28.js:1 üêõ [DRAG_DEBUG] MouseMove: {viewport: {‚Ä¶}, canvas: {‚Ä¶}, offset: {‚Ä¶}, newPosition: {‚Ä¶}, hasSlideCanvas: true}
1261-11f4c3f83e0baa28.js:1 üêõ [DRAG_DEBUG] MouseMove: {viewport: {‚Ä¶}, canvas: {‚Ä¶}, offset: {‚Ä¶}, newPosition: {‚Ä¶}, hasSlideCanvas: true}
1261-11f4c3f83e0baa28.js:1 üêõ [DRAG_DEBUG] MouseMove: {viewport: {‚Ä¶}, canvas: {‚Ä¶}, offset: {‚Ä¶}, newPosition: {‚Ä¶}, hasSlideCanvas: true}
1261-11f4c3f83e0baa28.js:1 üêõ [DRAG_DEBUG] MouseMove: {viewport: {‚Ä¶}, canvas: {‚Ä¶}, offset: {‚Ä¶}, newPosition: {‚Ä¶}, hasSlideCanvas: true}
1261-11f4c3f83e0baa28.js:1 üêõ [DRAG_DEBUG] MouseUp - Saving Position: {elementId: 'draggable-slide-1759827588905-21u63fmsd-1', finalPosition: {‚Ä¶}, canvasSize: {‚Ä¶}, hasSlideCanvas: true, isNegative: true,¬†‚Ä¶}
page-7858749426b0239f.js:1 üíæ Saving video lesson data: {projectId: '177', dataType: 'Object', slideCount: 1}
1963-5956861ad75bccaa.js:1 üé¨ [AVATAR_DATA_SERVICE] AvatarDataProvider initialized
1963-5956861ad75bccaa.js:1 üé¨ [AVATAR_DATA_SERVICE] Initial state: {avatarDataCount: 51, processedAvatarsCount: 98, isLoading: false, error: null}
1963-5956861ad75bccaa.js:1 üé¨ [TOOLBAR] Toolbar component initialized
1963-5956861ad75bccaa.js:1 üé¨ [TOOLBAR] Avatar data service state: {avatarDataCount: 51, processedAvatarsCount: 98, isLoading: false, error: null}
1963-5956861ad75bccaa.js:1 Script - videoLessonData: undefined
1963-5956861ad75bccaa.js:1 Script - componentBasedSlideDeck: {slides: Array(1), lessonTitle: 'Course on AI tools for teachers of the high school', hasVoiceover: true, currentSlideId: 'slide-1759827588905-21u63fmsd', detectedLanguage: 'en'}
1963-5956861ad75bccaa.js:1 Script - currentSlideId: slide-1759827588905-21u63fmsd
1963-5956861ad75bccaa.js:1 Script - currentSlide: {props: {‚Ä¶}, slideId: 'slide-1759827588905-21u63fmsd', metadata: {‚Ä¶}, slideTitle: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', templateId: 'avatar-service-slide',¬†‚Ä¶}
1963-5956861ad75bccaa.js:1 Script - voiceoverText: undefined
1963-5956861ad75bccaa.js:1 Script - scriptContent: Create dynamic, powerful and informative videos with an avatar as your host. Instantly translate your video into over eighty languages, use engaging media to grab your audiences attention, or even simulate conversations between multiple avatars. All with an intuitive interface that anyone can use!
page-7858749426b0239f.js:1 ‚úÖ Video lesson data saved successfully
1963-5956861ad75bccaa.js:1 üêõ [DEBUG_RENDER] Starting debug render (no Elai API)...
1963-5956861ad75bccaa.js:1 üêõ [DEBUG_RENDER] Slide data prepared: {slides: Array(1), theme: 'dark-purple', voiceoverTexts: Array(1)}
1963-5956861ad75bccaa.js:1 üêõ [DEBUG_RENDER] Success! Video path: undefined
1963-5956861ad75bccaa.js:1 üêõ [DEBUG_RENDER] Starting debug render (no Elai API)...
1963-5956861ad75bccaa.js:1 üêõ [DEBUG_RENDER] Slide data prepared: {slides: Array(1), theme: 'dark-purple', voiceoverTexts: Array(1)}
1963-5956861ad75bccaa.js:1 üêõ [DEBUG_RENDER] Success! Video path: undefined