frontend logs:
‚úÖ Video lesson data saved successfully
1963-e9ef366dfbfc03f6.js:1 üé¨ [GENERATE_MODAL] Start generation button clicked
1963-e9ef366dfbfc03f6.js:1 üé¨ [GENERATE_MODAL] onGenerationStart callback: async()=>{console.log("\uD83C\uDFAC [VIDEO_GENERATION] handleVideoGeneration called"),console.log("\uD83C\uDFAC [VIDEO_GENERATION] Global defaultAvatar:",X);let e=null==X?void 0:X.avatar,t=null==X?vo‚Ä¶
1963-e9ef366dfbfc03f6.js:1 üé¨ [GENERATE_MODAL] Current generationStatus: idle
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] handleVideoGeneration called
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Global defaultAvatar: Object
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Using selected avatar from global context: Object
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Generation started with data: Object
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Starting video generation with avatar: Object
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Extracting slide data...
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_DOWNLOAD] Extracting slide data from current project...
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_DOWNLOAD] videoLessonData: undefined
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_DOWNLOAD] componentBasedSlideDeck: Object
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_DOWNLOAD] currentSlideId: slide-1759786962960-mqtls64a8
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_DOWNLOAD] Found slide data in componentBasedSlideDeck: 1 slides
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_DOWNLOAD] Extracted voiceover texts from componentBasedSlideDeck: Array(0)
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Slide data extracted successfully
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Slides count: 1
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Theme: dark-purple
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Voiceover texts count: 0
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Request payload: Object
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Final request payload: Object
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Making API request to: /api/custom-projects-backend/presentations
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] API response status: 200
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] API response data: Object
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Presentation job created successfully: af41563f-38e0-42cc-8a91-8fac18c5a1a0
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Closing GenerateModal and opening GenerationCompletedModal
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Starting polling for job completion...
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: af41563f-38e0-42cc-8a91-8fac18c5a1a0
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'af41563f-38e0-42cc-8a91-8fac18c5a1a0', status: 'failed', progress: 0, error: "unhashable type: 'PresentationRequest'",¬†‚Ä¶}
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Job progress: 0 Status: failed
1684-614c13b884d04a5e.js:1 üé¨ [VIDEO_GENERATION] Video generation failed: unhashable type: 'PresentationRequest'
window.console.error @ 1684-614c13b884d04a5e.js:1
(anonymous) @ 1963-e9ef366dfbfc03f6.js:1Understand this error
1684-614c13b884d04a5e.js:1 üé¨ [VIDEO_GENERATION] Status check error: Error: unhashable type: 'PresentationRequest'
    at 1963-e9ef366dfbfc03f6.js:1:303480


backend logs:
custom_backend-1  | INFO:app.services.pdf_generator:PDF Template Directory expected at: /app/templates
custom_backend-1  | INFO:app.services.video_generation_service:HTTP client initialized successfully
custom_backend-1  | INFO:main:Video generation service imported successfully
custom_backend-1  | INFO:app.services.video_composer_service:Professional Video Composer initialized
custom_backend-1  | INFO:app.services.presentation_service:Professional Presentation Service initialized
custom_backend-1  | INFO:main:Presentation service imported successfully
custom_backend-1  | INFO:     Started server process [1]
custom_backend-1  | INFO:     Waiting for application startup.
custom_backend-1  | INFO:main:Custom Backend starting...
custom_backend-1  | INFO:main:'projects' table ensured and updated.
custom_backend-1  | INFO:main:'microproduct_pipelines' table ensured.
custom_backend-1  | INFO:main:'projects' table ensured and updated with 'source_chat_session_id'.
custom_backend-1  | INFO:main:'projects' table updated with source context tracking columns.
custom_backend-1  | INFO:main:'projects' table updated with lesson plan columns.
custom_backend-1  | INFO:main:'design_templates' table ensured.
custom_backend-1  | INFO:app.core.database:Database tables created successfully
custom_backend-1  | INFO:main:Workspace database tables initialized successfully
custom_backend-1  | INFO:main:'trashed_projects' table ensured (soft-delete).
custom_backend-1  | INFO:main:'user_credits' table ensured.
custom_backend-1  | INFO:main:Updated credit_transactions table to support admin_removal type
custom_backend-1  | INFO:main:'credit_transactions' table ensured.
custom_backend-1  | INFO:main:Attempting to connect to Onyx database: postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/onyx_db
custom_backend-1  | INFO:main:Trying to connect to: postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/onyx_db
custom_backend-1  | WARNING:main:Failed to connect to postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/onyx_db: database "onyx_db" does not exist
custom_backend-1  | INFO:main:Trying to connect to: postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/postgres
custom_backend-1  | INFO:main:Found 3 Onyx users to migrate
custom_backend-1  | INFO:main:Populated user_credits table with 3 existing Onyx users (100 credits each).
custom_backend-1  | INFO:main:Added quality_tier column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default 'medium' tier
custom_backend-1  | INFO:main:Created index for quality_tier column
custom_backend-1  | INFO:main:Added custom_rate column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default custom_rate
custom_backend-1  | INFO:main:Created index for custom_rate column
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to projects table
custom_backend-1  | INFO:main:Created indexes for project-level custom_rate and quality_tier columns
custom_backend-1  | INFO:main:Ensured is_advanced, advanced_rates, and completion_times on project_folders
custom_backend-1  | INFO:main:Ensured is_advanced, advanced_rates, and completion_times on projects
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to trashed_projects table
custom_backend-1  | INFO:main:Applying critical fix: Ensuring order and completion_time columns are TEXT type
custom_backend-1  | INFO:main:Successfully set projects.order and projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set trashed_projects.order and trashed_projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set default values for empty order and completion_time fields
custom_backend-1  | INFO:main:Projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:Trashed_projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:'request_analytics' table ensured.
custom_backend-1  | INFO:main:AI parser tracking columns added to request_analytics table.
custom_backend-1  | INFO:main:Added is_standalone column to projects table.
custom_backend-1  | INFO:main:Added is_standalone column to trashed_projects table.
custom_backend-1  | INFO:main:Legacy support: is_standalone field defaults to NULL for existing products.
custom_backend-1  | INFO:main:Added course_id column to projects table.
custom_backend-1  | INFO:main:Added course_id column to trashed_projects table.
custom_backend-1  | INFO:main:Legacy support: course_id field defaults to NULL for existing products.
custom_backend-1  | INFO:main:'smartdrive_accounts' table ensured.
custom_backend-1  | INFO:main:'smartdrive_imports' table ensured.
custom_backend-1  | INFO:main:'user_connectors' table ensured.
custom_backend-1  | INFO:main:'offers' table ensured.
custom_backend-1  | INFO:main:Smart Drive database migrations completed successfully.
custom_backend-1  | INFO:main:'feature_definitions' table ensured.
custom_backend-1  | INFO:main:Migrated user_features.user_id column to TEXT type.
custom_backend-1  | INFO:main:'user_features' table ensured.
custom_backend-1  | INFO:main:Seeded 21 feature definitions.
custom_backend-1  | INFO:main:Deactivated 7 unused feature definitions.
custom_backend-1  | INFO:main:Created feature entries for 3 existing users.
custom_backend-1  | INFO:main:Added audit sharing columns to projects table.
custom_backend-1  | INFO:main:Added audit sharing columns to trashed_projects table.
custom_backend-1  | INFO:main:Updated 0 existing audits to use 'AI Audit' microproduct_type
custom_backend-1  | INFO:main:Updated trashed audits to use 'AI Audit' microproduct_type
custom_backend-1  | INFO:main:Database schema migration completed successfully.
custom_backend-1  | INFO:main:'lms_exports' table ensured.
custom_backend-1  | INFO:     Application startup complete.
custom_backend-1  | INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.12:45362 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:45368 - "GET /api/custom/features/check/offers_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:45384 - "GET /api/custom/features/check/workspace_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:45386 - "GET /api/custom/features/check/export_to_lms HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:45404 - "GET /api/custom/features/check/col_quality_tier HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:45400 - "GET /api/custom/features/check/course_table HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:43380 - "GET /api/custom/projects/folders HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üîç [WORKSPACE ACCESS] User b9ad451e-4c02-4008-9965-d5931ff02aa0 (email: makshm1307@gmail.com) projects query results:
custom_backend-1  | INFO:main:   - Owned projects: 169
custom_backend-1  | INFO:main:   - Shared projects: 0
custom_backend-1  | INFO:main:   - Folder filter: None
custom_backend-1  | INFO:main:   - Owned project IDs: [11, 9, 15, 18, 28, 27, 2, 1, 163, 88, 87, 4, 3, 12, 23, 24, 14, 29, 119, 140, 144, 19, 71, 61, 6, 30, 82, 118, 139, 120, 51, 31, 72, 141, 145, 121, 142, 146, 123, 148, 17, 13, 164, 73, 150, 32, 90, 22, 143, 122, 147, 104, 167, 33, 89, 52, 165, 103, 34, 74, 83, 92, 124, 149, 127, 111, 135, 166, 7, 8, 35, 53, 75, 91, 125, 36, 26, 76, 168, 170, 151, 93, 126, 20, 37, 54, 84, 171, 172, 94, 86, 38, 95, 105, 128, 173, 39, 96, 106, 174, 129, 101, 169, 40, 55, 160, 97, 107, 155, 130, 175, 159, 161, 41, 98, 108, 131, 156, 162, 42, 43, 25, 58, 56, 133, 62, 109, 65, 132, 157, 110, 44, 57, 78, 134, 85, 158, 45, 66, 99, 100, 112, 46, 136, 77, 79, 137, 47, 59, 176, 113, 67, 80, 48, 81, 114, 68, 115, 49, 60, 69, 102, 116, 16, 21, 50, 117, 70, 10]
custom_backend-1  | INFO:main:üîç [WORKSPACE DEBUG] No shared projects found for user b9ad451e-4c02-4008-9965-d5931ff02aa0. Investigating...
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   ‚ùå User b9ad451e-4c02-4008-9965-d5931ff02aa0 is not a member of any workspace!
custom_backend-1  | INFO:main:   üí° Add user to a workspace to enable shared project access
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:43386 - "GET /api/custom/features/check/ai_audit_templates HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:43364 - "GET /api/custom/projects HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:43402 - "GET /api/custom/features/check/event_posters HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:43408 - "GET /api/custom/features/check/deloitte_banner HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:43420 - "GET /api/custom/projects/folders HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:43424 - "GET /api/custom/credits/me HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üîç [WORKSPACE ACCESS] User b9ad451e-4c02-4008-9965-d5931ff02aa0 (email: makshm1307@gmail.com) projects query results:
custom_backend-1  | INFO:main:   - Owned projects: 169
custom_backend-1  | INFO:main:   - Shared projects: 0
custom_backend-1  | INFO:main:   - Folder filter: None
custom_backend-1  | INFO:main:   - Owned project IDs: [11, 9, 15, 18, 28, 27, 2, 1, 163, 88, 87, 4, 3, 12, 23, 24, 14, 29, 119, 140, 144, 19, 71, 61, 6, 30, 82, 118, 139, 120, 51, 31, 72, 141, 145, 121, 142, 146, 123, 148, 17, 13, 164, 73, 150, 32, 90, 22, 143, 122, 147, 104, 167, 33, 89, 52, 165, 103, 34, 74, 83, 92, 124, 149, 127, 111, 135, 166, 7, 8, 35, 53, 75, 91, 125, 36, 26, 76, 168, 170, 151, 93, 126, 20, 37, 54, 84, 171, 172, 94, 86, 38, 95, 105, 128, 173, 39, 96, 106, 174, 129, 101, 169, 40, 55, 160, 97, 107, 155, 130, 175, 159, 161, 41, 98, 108, 131, 156, 162, 42, 43, 25, 58, 56, 133, 62, 109, 65, 132, 157, 110, 44, 57, 78, 134, 85, 158, 45, 66, 99, 100, 112, 46, 136, 77, 79, 137, 47, 59, 176, 113, 67, 80, 48, 81, 114, 68, 115, 49, 60, 69, 102, 116, 16, 21, 50, 117, 70, 10]
custom_backend-1  | INFO:main:üîç [WORKSPACE DEBUG] No shared projects found for user b9ad451e-4c02-4008-9965-d5931ff02aa0. Investigating...
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   ‚ùå User b9ad451e-4c02-4008-9965-d5931ff02aa0 is not a member of any workspace!
custom_backend-1  | INFO:main:   üí° Add user to a workspace to enable shared project access
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:43422 - "GET /api/custom/projects HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:43436 - "GET /api/custom/features/check/col_quality_tier HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:43452 - "GET /api/custom/features/check/course_table HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:43456 - "GET /api/custom/projects/90/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:43458 - "GET /api/custom/projects/89/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:43474 - "GET /api/custom/projects/85/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:43490 - "GET /api/custom/projects/82/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:43512 - "GET /api/custom/projects/83/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:43496 - "GET /api/custom/projects/84/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 176 - Raw details_data type: <class 'dict'>
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 176 - Already dict, after round_hours: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-06T21:42:42.960Z",
custom_backend-1  |         "updatedAt": "2025-10-06T21:42:55.431Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-0": {
custom_backend-1  |             "x": -77,
custom_backend-1  |             "y": 54
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-1": {
custom_backend-1  |             "x": -71,
custom_backend-1  |             "y": -191
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 176 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:main:üîç [DATA INTEGRITY] Project 176 - Preserved raw dict for VideoLessonPresentationDisplay to prevent slides‚ÜícontentBlocks corruption
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Sending slide-based response to frontend for Project 176:
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response component_name: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response details type: <class 'dict'>
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has slides: True
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has contentBlocks: False
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ FIXED: Slides array preserved with 1 slides
custom_backend-1  | INFO:     172.18.0.12:43522 - "GET /api/custom/projects/view/176 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.12:43526 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 176
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-07T08:42:29.276709
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:29.197Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -89, 'y': -12}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -71, 'y': -191}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 176 - Storing content to DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-06T21:42:42.960Z",
custom_backend-1  |         "updatedAt": "2025-10-07T08:42:29.197Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-0": {
custom_backend-1  |             "x": -89,
custom_backend-1  |             "y": -12
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-1": {
custom_backend-1  |             "x": -71,
custom_backend-1  |             "y": -191
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 176
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:29.197Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -89, 'y': -12}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -71, 'y': -191}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}, 176]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-07T08:42:29.346120
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 176, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Junior AI/ML Engineer Training', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Junior AI/ML Engineer Training', 'microproduct_content': {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:29.197Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -89, 'y': -12}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -71, 'y': -191}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 3, 13, 21, 12, 139394, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-07T08:42:29.357065
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 176 - Retrieved content from DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-06T21:42:42.960Z",
custom_backend-1  |         "updatedAt": "2025-10-07T08:42:29.197Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-0": {
custom_backend-1  |             "x": -89,
custom_backend-1  |             "y": -12
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-1": {
custom_backend-1  |             "x": -71,
custom_backend-1  |             "y": -191
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 176 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 176
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=176 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Junior AI/ML Engineer Training' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Junior AI/ML Engineer Training' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='dark-purple') design_template_id=2 created_at=datetime.datetime(2025, 10, 3, 13, 21, 12, 139394, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-07T08:42:29.359107
custom_backend-1  | INFO:     172.18.0.12:35420 - "PUT /api/custom/projects/update/176 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 176
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-07T08:42:31.936166
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:31.869Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -89, 'y': -12}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -94, 'y': 26}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 176 - Storing content to DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-06T21:42:42.960Z",
custom_backend-1  |         "updatedAt": "2025-10-07T08:42:31.869Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-0": {
custom_backend-1  |             "x": -89,
custom_backend-1  |             "y": -12
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-1": {
custom_backend-1  |             "x": -94,
custom_backend-1  |             "y": 26
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 176
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:31.869Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -89, 'y': -12}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -94, 'y': 26}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}, 176]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-07T08:42:31.982731
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 176, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Junior AI/ML Engineer Training', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Junior AI/ML Engineer Training', 'microproduct_content': {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:31.869Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -89, 'y': -12}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -94, 'y': 26}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 3, 13, 21, 12, 139394, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-07T08:42:32.113929
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 176 - Retrieved content from DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-06T21:42:42.960Z",
custom_backend-1  |         "updatedAt": "2025-10-07T08:42:31.869Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-0": {
custom_backend-1  |             "x": -89,
custom_backend-1  |             "y": -12
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-1": {
custom_backend-1  |             "x": -94,
custom_backend-1  |             "y": 26
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 176 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 176
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=176 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Junior AI/ML Engineer Training' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Junior AI/ML Engineer Training' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='dark-purple') design_template_id=2 created_at=datetime.datetime(2025, 10, 3, 13, 21, 12, 139394, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-07T08:42:32.116351
custom_backend-1  | INFO:     172.18.0.12:35434 - "PUT /api/custom/projects/update/176 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 176
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-07T08:42:34.561164
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:34.476Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -93, 'y': 143}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -94, 'y': 26}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 176 - Storing content to DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-06T21:42:42.960Z",
custom_backend-1  |         "updatedAt": "2025-10-07T08:42:34.476Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-0": {
custom_backend-1  |             "x": -93,
custom_backend-1  |             "y": 143
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-1": {
custom_backend-1  |             "x": -94,
custom_backend-1  |             "y": 26
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 176
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:34.476Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -93, 'y': 143}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -94, 'y': 26}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}, 176]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-07T08:42:34.637832
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 176, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Junior AI/ML Engineer Training', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Junior AI/ML Engineer Training', 'microproduct_content': {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:34.476Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -93, 'y': 143}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -94, 'y': 26}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 3, 13, 21, 12, 139394, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-07T08:42:34.650167
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 176 - Retrieved content from DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-06T21:42:42.960Z",
custom_backend-1  |         "updatedAt": "2025-10-07T08:42:34.476Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-0": {
custom_backend-1  |             "x": -93,
custom_backend-1  |             "y": 143
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-1": {
custom_backend-1  |             "x": -94,
custom_backend-1  |             "y": 26
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 176 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 176
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=176 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Junior AI/ML Engineer Training' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Junior AI/ML Engineer Training' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='dark-purple') design_template_id=2 created_at=datetime.datetime(2025, 10, 3, 13, 21, 12, 139394, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-07T08:42:34.652750
custom_backend-1  | INFO:     172.18.0.12:35438 - "PUT /api/custom/projects/update/176 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 176
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-07T08:42:37.086934
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:36.781Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -93, 'y': 143}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -83, 'y': -72}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 176 - Storing content to DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-06T21:42:42.960Z",
custom_backend-1  |         "updatedAt": "2025-10-07T08:42:36.781Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-0": {
custom_backend-1  |             "x": -93,
custom_backend-1  |             "y": 143
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-1": {
custom_backend-1  |             "x": -83,
custom_backend-1  |             "y": -72
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 176
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:36.781Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -93, 'y': 143}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -83, 'y': -72}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}, 176]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-07T08:42:37.156555
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 176, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Junior AI/ML Engineer Training', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Junior AI/ML Engineer Training', 'microproduct_content': {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:36.781Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -93, 'y': 143}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -83, 'y': -72}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 3, 13, 21, 12, 139394, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-07T08:42:37.168397
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 176 - Retrieved content from DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-06T21:42:42.960Z",
custom_backend-1  |         "updatedAt": "2025-10-07T08:42:36.781Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-0": {
custom_backend-1  |             "x": -93,
custom_backend-1  |             "y": 143
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-1": {
custom_backend-1  |             "x": -83,
custom_backend-1  |             "y": -72
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 176 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 176
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=176 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Junior AI/ML Engineer Training' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Junior AI/ML Engineer Training' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='dark-purple') design_template_id=2 created_at=datetime.datetime(2025, 10, 3, 13, 21, 12, 139394, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-07T08:42:37.174664
custom_backend-1  | INFO:     172.18.0.12:35446 - "PUT /api/custom/projects/update/176 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 176
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-07T08:42:37.925075
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:37.837Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -82, 'y': 68}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -83, 'y': -72}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 176 - Storing content to DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-06T21:42:42.960Z",
custom_backend-1  |         "updatedAt": "2025-10-07T08:42:37.837Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-0": {
custom_backend-1  |             "x": -82,
custom_backend-1  |             "y": 68
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-1": {
custom_backend-1  |             "x": -83,
custom_backend-1  |             "y": -72
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 176
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:37.837Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -82, 'y': 68}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -83, 'y': -72}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}, 176]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-07T08:42:37.994539
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 176, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Junior AI/ML Engineer Training', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Junior AI/ML Engineer Training', 'microproduct_content': {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1759786962960-mqtls64a8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-06T21:42:42.960Z', 'updatedAt': '2025-10-07T08:42:37.837Z', 'elementPositions': {'draggable-slide-1759786962960-mqtls64a8-0': {'x': -82, 'y': 68}, 'draggable-slide-1759786962960-mqtls64a8-1': {'x': -83, 'y': -72}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Junior AI/ML Engineer Training', 'hasVoiceover': True, 'currentSlideId': 'slide-1759786962960-mqtls64a8', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 3, 13, 21, 12, 139394, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-07T08:42:38.000058
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 176 - Retrieved content from DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-06T21:42:42.960Z",
custom_backend-1  |         "updatedAt": "2025-10-07T08:42:37.837Z",
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-0": {
custom_backend-1  |             "x": -82,
custom_backend-1  |             "y": 68
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1759786962960-mqtls64a8-1": {
custom_backend-1  |             "x": -83,
custom_backend-1  |             "y": -72
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Junior AI/ML Engineer Training",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1759786962960-mqtls64a8",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 176 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 176
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=176 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Junior AI/ML Engineer Training' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Junior AI/ML Engineer Training' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='dark-purple') design_template_id=2 created_at=datetime.datetime(2025, 10, 3, 13, 21, 12, 139394, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-07T08:42:38.003842
custom_backend-1  | INFO:     172.18.0.12:35448 - "PUT /api/custom/projects/update/176 HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] Received presentation request parameters:
custom_backend-1  | INFO:main:  - slide_url: None
custom_backend-1  | INFO:main:  - voiceover_texts_count: 1
custom_backend-1  | INFO:main:  - slides_data_count: 1
custom_backend-1  | INFO:main:  - theme: dark-purple
custom_backend-1  | INFO:main:  - avatar_code: gia.business
custom_backend-1  | INFO:main:  - use_avatar_mask: True
custom_backend-1  | INFO:main:  - duration: 30
custom_backend-1  | INFO:main:  - layout: picture_in_picture
custom_backend-1  | INFO:main:  - quality: high
custom_backend-1  | INFO:main:  - resolution: [1920, 1080]
custom_backend-1  | INFO:main:  - project_name: Create your first AI video
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] Creating PresentationRequest object...
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] PresentationRequest created with use_avatar_mask: True
custom_backend-1  | INFO:app.services.presentation_service:Created presentation job: af41563f-38e0-42cc-8a91-8fac18c5a1a0
custom_backend-1  | INFO:main:Returning immediate response for job af41563f-38e0-42cc-8a91-8fac18c5a1a0
custom_backend-1  | ERROR:app.services.presentation_service:Thread processing failed for af41563f-38e0-42cc-8a91-8fac18c5a1a0: unhashable type: 'PresentationRequest'
custom_backend-1  | INFO:     172.18.0.12:55292 - "POST /api/custom/presentations HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:55298 - "GET /api/custom/presentations/af41563f-38e0-42cc-8a91-8fac18c5a1a0 HTTP/1.1" 200 OK