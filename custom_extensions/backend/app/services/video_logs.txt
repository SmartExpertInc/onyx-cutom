üé≠ [AVATAR_MANAGER] Avatar data received: {success: true, avatars: Array(65)}
242-fd587be60b2cb824.js:1 üé≠ [AVATAR_MANAGER] Found avatars: 65
242-fd587be60b2cb824.js:1 üé≠ [AVATAR_MANAGER] Loaded saved avatar from localStorage: {avatar: {‚Ä¶}, selectedVariant: {‚Ä¶}}
242-fd587be60b2cb824.js:1 üé≠ [AVATAR_MANAGER] Restored saved avatar: Gia
1963-e9ef366dfbfc03f6.js:1 üé¨ [VIDEO_GENERATION] Avatar context updated: {hasDefaultAvatar: true, avatarName: 'Gia', avatarCode: 'gia', variantName: 'Business', variantCode: 'business'}
layout-6f1f28f143605625.js:1 ‚úÖ Mont bold font preloaded successfully
layout-6f1f28f143605625.js:1 ‚úÖ Mont thin font preloaded successfully
layout-6f1f28f143605625.js:1 üéâ All Mont fonts preloaded successfully
layout-6f1f28f143605625.js:1 üé® Fonts initialized successfully for Chudo and Forta themes
1261-cca2b6f190bcea23.js:1 üìê [CANVAS_DIMENSIONS] Drag started on canvas
1261-cca2b6f190bcea23.js:1   üñºÔ∏è Canvas Element: DIV relative positioning-enabled-slide 
1261-cca2b6f190bcea23.js:1   üìè Canvas Dimensions: {width: 852.0075073242188, height: 599.9999389648438, left: 608.8541259765625, top: 278.9393615722656}
1261-cca2b6f190bcea23.js:1   üìç Mouse Position (viewport): {clientX: 810, clientY: 576}
1261-cca2b6f190bcea23.js:1   üéØ Canvas-Relative Position: {canvasX: '201.15', canvasY: '297.06'}
6The resource <URL> was preloaded using link preload but not used within a few seconds from the window's load event. Please make sure it has an appropriate `as` value and it is preloaded intentionally.Understand this warning
1261-cca2b6f190bcea23.js:1 üéØ [DRAG_COMPLETE] Element drag finished
1261-cca2b6f190bcea23.js:1   üìç Element ID: draggable-slide-1760049105947-lroy50so6-0
1261-cca2b6f190bcea23.js:1   üìä Final Position: {x: -85.05303955078125, y: 86}
1261-cca2b6f190bcea23.js:1   üìè Drag Distance: 114.69 px
1261-cca2b6f190bcea23.js:1   üé® Element: DIV 
1261-cca2b6f190bcea23.js:1   üìê Canvas Dimensions at completion: {width: 852.0075073242188, height: 599.9999389648438, aspectRatio: '1.420'}
1261-cca2b6f190bcea23.js:1   üî¢ Position State: {transform: 'translate(-85.053px, 86px)', savedInState: {‚Ä¶}}
1261-cca2b6f190bcea23.js:1   ‚û°Ô∏è Calling onPositionChange callback...
1261-cca2b6f190bcea23.js:1 üíæ [POSITION_SAVE] Saving position to slide metadata
1261-cca2b6f190bcea23.js:1   üìç Element ID: draggable-slide-1760049105947-lroy50so6-0
1261-cca2b6f190bcea23.js:1   üìä Position: {x: -85.05303955078125, y: 86}
1261-cca2b6f190bcea23.js:1   üé¨ Slide ID: slide-1760049105947-lroy50so6
1261-cca2b6f190bcea23.js:1   üé® Template ID: avatar-service-slide
1261-cca2b6f190bcea23.js:1   üéØ AVATAR-SERVICE SLIDE DETECTED!
1261-cca2b6f190bcea23.js:1   üìê Canvas Dimensions:
1261-cca2b6f190bcea23.js:1     ACTUAL Editor Canvas (measured):
1261-cca2b6f190bcea23.js:1       - Width: 852.01px ‚ö†Ô∏è DIFFERENT FROM DESIGN
1261-cca2b6f190bcea23.js:1       - Height: 600.00px ‚ö†Ô∏è DIFFERENT FROM DESIGN
1261-cca2b6f190bcea23.js:1       - Aspect Ratio: 1.420 (852:600)
1261-cca2b6f190bcea23.js:1     Design Editor Canvas (hardcoded):
1261-cca2b6f190bcea23.js:1       - Width: 1174px (defined)
1261-cca2b6f190bcea23.js:1       - Height: 600px (defined)
1261-cca2b6f190bcea23.js:1       - Aspect Ratio: 1.957 (1.957:1)
1261-cca2b6f190bcea23.js:1     Video Canvas:
1261-cca2b6f190bcea23.js:1       - Width: 1920px (defined)
1261-cca2b6f190bcea23.js:1       - Height: 1080px (defined)
1261-cca2b6f190bcea23.js:1       - Aspect Ratio: 1.778 (1.778:1 - 16:9)
1261-cca2b6f190bcea23.js:1   üìè Scale Factors (using ACTUAL canvas):
1261-cca2b6f190bcea23.js:1     CORRECT Scale Factors: {scaleX: '2.253501 (1920/852)', scaleY: '1.800000 (1080/600)'}
1261-cca2b6f190bcea23.js:1     ‚ùå OLD (WRONG) Scale Factors: {scaleX: '1.635434 (1920/1174)', scaleY: '1.800000 (1080/600)'}
1261-cca2b6f190bcea23.js:1   üî¢ Expected Scaled Position (using ACTUAL canvas): {scaledX: '-191.67', scaledY: '154.80'}
1261-cca2b6f190bcea23.js:1   ‚ö†Ô∏è CRITICAL: Canvas size mismatch detected! {designWidth: 1174, actualWidth: '852.01', widthError: '-27.43%', impactOnScaling: 'Scale factor will be 37.79% off'}
1261-cca2b6f190bcea23.js:1   üì¶ Updated Metadata: {previousPositions: {‚Ä¶}, newPositions: {‚Ä¶}, totalElementsPositioned: 2, canvasDimensions: {‚Ä¶}}
1261-cca2b6f190bcea23.js:1   ‚úÖ Position saved successfully (with actual canvas dimensions)
page-7858749426b0239f.js:1 üíæ Saving video lesson data: {projectId: '181', dataType: 'Object', slideCount: 1}
1963-e9ef366dfbfc03f6.js:1 üé¨ [AVATAR_DATA_SERVICE] AvatarDataProvider initialized
1963-e9ef366dfbfc03f6.js:1 üé¨ [AVATAR_DATA_SERVICE] Initial state: {avatarDataCount: 51, processedAvatarsCount: 98, isLoading: false, error: null}
1963-e9ef366dfbfc03f6.js:1 üé¨ [TOOLBAR] Toolbar component initialized
1963-e9ef366dfbfc03f6.js:1 üé¨ [TOOLBAR] Avatar data service state: {avatarDataCount: 51, processedAvatarsCount: 98, isLoading: false, error: null}
1963-e9ef366dfbfc03f6.js:1 Script - videoLessonData: undefined
1963-e9ef366dfbfc03f6.js:1 Script - componentBasedSlideDeck: {theme: 'dark-purple', slides: Array(1), lessonTitle: 'Course on AI tools for teachers of the high school', hasVoiceover: true, currentSlideId: 'slide-1760049105947-lroy50so6',¬†‚Ä¶}
1963-e9ef366dfbfc03f6.js:1 Script - currentSlideId: slide-1760049105947-lroy50so6
1963-e9ef366dfbfc03f6.js:1 Script - currentSlide: {props: {‚Ä¶}, slideId: 'slide-1760049105947-lroy50so6', metadata: {‚Ä¶}, slideTitle: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', templateId: 'avatar-service-slide',¬†‚Ä¶}
1963-e9ef366dfbfc03f6.js:1 Script - voiceoverText: undefined
1963-e9ef366dfbfc03f6.js:1 Script - scriptContent: Create dynamic, powerful and informative videos with an avatar as your host. Instantly translate your video into over eighty languages, use engaging media to grab your audiences attention, or even simulate conversations between multiple avatars. All with an intuitive interface that anyone can use!
page-7858749426b0239f.js:1 ‚úÖ Video lesson data saved successfully

<div class="slide-page" bis_skin_checked="1">
        <div class="slide-content theme-dark-purple" style="background-color: var(--bg-color);" bis_skin_checked="1">
                <!-- 
                ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                üîç AVATAR-SERVICE POSITIONING DEBUG LOG
                ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                Template ID: avatar-service-slide
                Slide ID: slide-1760049105947-lroy50so6
                
                üìê Canvas Dimensions Analysis:
                  ACTUAL Editor Canvas (from metadata):
                    - Width:  852.01px
                    - Height: 600.00px
                    - Aspect Ratio: 1.420013
                    - Total Pixels: 511,204
                    - Source: metadata.canvasDimensions
                  
                  Design Editor Canvas (reference):
                    - Width:  1174px
                    - Height: 600px
                    - Aspect Ratio: 1.956667 (1.957:1)
                    - ‚ö†Ô∏è MISMATCH: Actual canvas is -27.43% different!
                  
                  Video Canvas (Backend):
                    - Width:  1920px
                    - Height: 1080px
                    - Aspect Ratio: 1.777778 (1.778:1 - 16:9)
                    - Total Pixels: 2,073,600
                  
                  Dimension Comparison:
                    - Width Scaling:  2.253501x (1920/852)
                    - Height Scaling: 1.800000x (1080/600)
                    - Aspect Ratio Mismatch: -0.357765
                    - ‚ö†Ô∏è Non-uniform scaling required (different X/Y factors)
                
                üìè Scale Factors (using ACTUAL dimensions):
                  - SCALE_X: 2.253501 (1920/852)
                  - SCALE_Y: 1.800000 (1080/600)
                  - Scale Factor Ratio: 0.798757 (Y is -20.12% smaller)
                
                Metadata Available: YES
                Canvas Dimensions in Metadata: YES
                Element Positions Available: YES
                Total Positioned Elements: 2
                Position Keys: ['draggable-slide-1760049105947-lroy50so6-0', 'draggable-slide-1760049105947-lroy50so6-1']
                ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                -->
                
                <div class="avatar-service" style="background-color: var(--bg-color); height: 100%; min-height: 1080px;" bis_skin_checked="1">
                    <!-- Dark shape in top-left corner -->
                    <div class="dark-shape" bis_skin_checked="1"></div>
                    
                    <div class="content-container" style="background-color: transparent; height: 100%;" bis_skin_checked="1">
                        <!-- Left content -->
                        <div class="left-content" style="background-color: transparent;" bis_skin_checked="1">
                            <!-- Title with positioning support -->
                                        <!-- 
                                        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                                        üìç TITLE POSITIONING
                                        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                                        Element ID: draggable-slide-1760049105947-lroy50so6-0
                                        Original Position (Editor Canvas):
                                          x: -85.05303955078125px
                                          y: 86px
                                        
                                        Scaling Calculation:
                                          scaledX = -85.05303955078125 √ó 2.2535012702292687 = -191.6671326645458px
                                          scaledY = 86 √ó 1.8000001831054875 = 154.8000157470719px
                                        
                                        Final Transform: translate(-191.6671326645458px, 154.8000157470719px)
                                        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                                        -->
                                        <h1 class="slide-title positioned-element" style="transform: translate(-191.6671326645458px, 154.8000157470719px);">–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞</h1>

                            <!-- Subtitle with positioning support -->

                            <!-- Content with positioning support -->
                                        <!-- üìç CONTENT: No custom position found for draggable-slide-1760049105947-lroy50so6-2, using default layout -->
                                        <p class="content-text">–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è</p>
                        </div>

                        <!-- Right content - Avatar -->
                        <div class="right-content" style="background-color: transparent;" bis_skin_checked="1">
                            <div class="avatar-placeholder" bis_skin_checked="1">
                                <!-- Simple blank space for avatar overlay -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 
                ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                ‚úÖ END AVATAR-SERVICE POSITIONING DEBUG LOG
                ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                -->
                
        </div>
    </div>



stom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:üéØ [AVATAR-SERVICE] COORDINATE SCALING ANALYSIS
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:Template: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:Slide ID: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üìê Canvas Dimensions Analysis:
custom_backend-1  | INFO:app.services.html_template_service:  ACTUAL Editor Canvas (from metadata):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  852.01px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 600.00px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.420013 (852:600)
custom_backend-1  | INFO:app.services.html_template_service:    - Total Pixels: 511,204 (0.51 megapixels)
custom_backend-1  | INFO:app.services.html_template_service:    - Source: metadata.canvasDimensions
custom_backend-1  | INFO:app.services.html_template_service:  Design Editor Canvas (reference):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  1174px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 600px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.956667 (1.957:1)
custom_backend-1  | INFO:app.services.html_template_service:    - ‚ö†Ô∏è MISMATCH: Actual canvas is -27.43% different!
custom_backend-1  | INFO:app.services.html_template_service:  Video Canvas (Backend):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  1920px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 1080px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.777778 (1.778:1 - 16:9 standard)
custom_backend-1  | INFO:app.services.html_template_service:    - Total Pixels: 2,073,600 (2.07 megapixels)
custom_backend-1  | INFO:app.services.html_template_service:  Dimension Comparison:
custom_backend-1  | INFO:app.services.html_template_service:    - Width Ratio: 2.253501x larger
custom_backend-1  | INFO:app.services.html_template_service:    - Height Ratio: 1.800000x larger
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio Mismatch: 0.357765
custom_backend-1  | INFO:app.services.html_template_service:    - ‚ö†Ô∏è Non-uniform scaling required (different X/Y factors)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üìè Scale Factors (using ACTUAL dimensions):
custom_backend-1  | INFO:app.services.html_template_service:  - SCALE_X: 2.253501 (1920/852)
custom_backend-1  | INFO:app.services.html_template_service:  - SCALE_Y: 1.800000 (1080/600)
custom_backend-1  | INFO:app.services.html_template_service:  - Scale Factor Ratio: 0.798757 (Y is -20.12% larger)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üìç Element Positions to be Scaled:
custom_backend-1  | INFO:app.services.html_template_service:  Total elements: 2
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:  Element: draggable-slide-1760049105947-lroy50so6-0
custom_backend-1  | INFO:app.services.html_template_service:    Original (Editor):  x=-2.00px, y=2.00px
custom_backend-1  | INFO:app.services.html_template_service:    Scaled (Video):     x=-4.51px, y=3.60px
custom_backend-1  | INFO:app.services.html_template_service:    Calculation:        x=-2.00√ó2.254=-4.51, y=2.00√ó1.800=3.60
custom_backend-1  | INFO:app.services.html_template_service:    Final Transform:    translate(-4.51px, 3.60px)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:  Element: draggable-slide-1760049105947-lroy50so6-1
custom_backend-1  | INFO:app.services.html_template_service:    Original (Editor):  x=1.00px, y=-116.00px
custom_backend-1  | INFO:app.services.html_template_service:    Scaled (Video):     x=2.25px, y=-208.80px
custom_backend-1  | INFO:app.services.html_template_service:    Calculation:        x=1.00√ó2.254=2.25, y=-116.00√ó1.800=-208.80
custom_backend-1  | INFO:app.services.html_template_service:    Final Transform:    translate(2.25px, -208.80px)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === RENDERING TEMPLATE ===
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content generated successfully
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content length: 28273 characters
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === INJECTION FAILURE CHECK ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Raw HTML Output Analysis:
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚úÖ POSITIONING CSS FOUND in HTML
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Transform CSS found: 1 occurrences
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG]   1. transform: translate(-4.507002540458537px, 3.600000366210975px)
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚úÖ positioned-element class found in HTML
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML snippet: <!DOCTYPE html>
custom_backend-1  | <html lang="en">
custom_backend-1  | <head>
custom_backend-1  |     <meta charset="UTF-8">
custom_backend-1  |     <meta name="viewport" content="width=device-width, initial-scale=1.0">
custom_backend-1  |     <title>Avatar Slide Template</title>
custom_backend-1  |
custom_backend-1  |     <link rel="preconnect" href="https://fonts.googleapis.com">
custom_backend-1  |     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
custom_backend-1  |     <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600;700&family=Martel+Sans:wght@400;600;700&family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
custom_backend-1  |
custom_backend-1  |     <style>
custom_backend-1  |         /* Reset and base styles */
custom_backend-1  |         html, body {
custom_backend-1  |             margin: 0;
custom_backend-1  |             padding: 0;
custom_backend-1  |             background: var(--bg-color, #110c35); /* Use theme background, not transparent */
custom_backend-1  |             width: 1920px;
custom_backend-1  |             height: 1080px;
custom_backend-1  |             overflow: hidden;
custom_backend-1  |             font-size: 16px; /* Reduced base font size for better scaling */
custom_backend-1  |         }
custom_backend-1  |
custom_backend-1  |         * {
custom_backend-1  |             mar...
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === FINAL OUTPUT CHECK ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Final HTML length: 28273 characters
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] HTML contains positioning: True
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] HTML contains slideId: True
custom_backend-1  | INFO:app.services.html_template_service:Generated clean HTML for video: avatar-service-slide
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] HTML content generated
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] HTML content length: 28273 characters
custom_backend-1  | INFO:     172.18.0.10:35764 - "POST /api/custom/slide-html/preview HTTP/1.1" 200 OK
custom_backend-1  | WARNING:main:Auto-cleaned stuck project creation lock: b9ad451e-4c02-4008-9965-d5931ff02aa0:course on ai tools for teachers of the high school
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.10:41220 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41232 - "GET /api/custom/features/check/offers_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41248 - "GET /api/custom/features/check/workspace_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41262 - "GET /api/custom/features/check/export_to_lms HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41286 - "GET /api/custom/features/check/course_table HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41282 - "GET /api/custom/features/check/offers_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:41278 - "GET /api/custom/features/check/workspace_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41300 - "GET /api/custom/features/check/export_to_lms HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:41292 - "GET /api/custom/features/check/col_quality_tier HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:41326 - "GET /api/custom/features/check/ai_audit_templates HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:41310 - "GET /api/custom/projects/folders HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üîç [WORKSPACE ACCESS] User b9ad451e-4c02-4008-9965-d5931ff02aa0 (email: makshm1307@gmail.com) projects query results:
custom_backend-1  | INFO:main:   - Owned projects: 174
custom_backend-1  | INFO:main:   - Shared projects: 0
custom_backend-1  | INFO:main:   - Folder filter: None
custom_backend-1  | INFO:main:   - Owned project IDs: [11, 9, 15, 18, 28, 27, 2, 1, 163, 88, 87, 4, 3, 12, 23, 24, 14, 29, 119, 140, 144, 19, 71, 61, 6, 30, 82, 118, 139, 120, 51, 31, 72, 141, 145, 121, 142, 146, 123, 148, 17, 13, 164, 73, 150, 32, 90, 22, 143, 122, 147, 104, 167, 33, 89, 52, 165, 103, 34, 74, 83, 92, 124, 149, 127, 111, 135, 166, 7, 8, 35, 53, 75, 91, 125, 36, 26, 76, 168, 170, 151, 93, 126, 20, 37, 54, 84, 171, 172, 94, 86, 38, 95, 105, 128, 173, 39, 96, 106, 174, 129, 101, 169, 40, 55, 160, 97, 107, 155, 130, 175, 159, 161, 41, 98, 108, 131, 177, 156, 162, 42, 43, 25, 58, 56, 133, 62, 109, 65, 132, 157, 110, 44, 57, 78, 134, 85, 158, 45, 66, 99, 100, 112, 46, 136, 181, 77, 79, 137, 47, 59, 176, 113, 180, 67, 80, 48, 81, 114, 115, 49, 68, 60, 69, 102, 116, 178, 16, 21, 50, 117, 70, 179, 10]
custom_backend-1  | INFO:main:üîç [WORKSPACE DEBUG] No shared projects found for user b9ad451e-4c02-4008-9965-d5931ff02aa0. Investigating...
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   ‚ùå User b9ad451e-4c02-4008-9965-d5931ff02aa0 is not a member of any workspace!
custom_backend-1  | INFO:main:   üí° Add user to a workspace to enable shared project access
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:     172.18.0.10:41304 - "GET /api/custom/projects HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41330 - "GET /api/custom/features/check/deloitte_banner HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41358 - "GET /api/custom/credits/me HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41336 - "GET /api/custom/features/check/event_posters HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:41350 - "GET /api/custom/projects/folders HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîç [WORKSPACE ACCESS] User b9ad451e-4c02-4008-9965-d5931ff02aa0 (email: makshm1307@gmail.com) projects query results:
custom_backend-1  | INFO:main:   - Owned projects: 174
custom_backend-1  | INFO:main:   - Shared projects: 0
custom_backend-1  | INFO:main:   - Folder filter: None
custom_backend-1  | INFO:main:   - Owned project IDs: [11, 9, 15, 18, 28, 27, 2, 1, 163, 88, 87, 4, 3, 12, 23, 24, 14, 29, 119, 140, 144, 19, 71, 61, 6, 30, 82, 118, 139, 120, 51, 31, 72, 141, 145, 121, 142, 146, 123, 148, 17, 13, 164, 73, 150, 32, 90, 22, 143, 122, 147, 104, 167, 33, 89, 52, 165, 103, 34, 74, 83, 92, 124, 149, 127, 111, 135, 166, 7, 8, 35, 53, 75, 91, 125, 36, 26, 76, 168, 170, 151, 93, 126, 20, 37, 54, 84, 171, 172, 94, 86, 38, 95, 105, 128, 173, 39, 96, 106, 174, 129, 101, 169, 40, 55, 160, 97, 107, 155, 130, 175, 159, 161, 41, 98, 108, 131, 177, 156, 162, 42, 43, 25, 58, 56, 133, 62, 109, 65, 132, 157, 110, 44, 57, 78, 134, 85, 158, 45, 66, 99, 100, 112, 46, 136, 181, 77, 79, 137, 47, 59, 176, 113, 180, 67, 80, 48, 81, 114, 115, 49, 68, 60, 69, 102, 116, 178, 16, 21, 50, 117, 70, 179, 10]
custom_backend-1  | INFO:main:üîç [WORKSPACE DEBUG] No shared projects found for user b9ad451e-4c02-4008-9965-d5931ff02aa0. Investigating...
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   ‚ùå User b9ad451e-4c02-4008-9965-d5931ff02aa0 is not a member of any workspace!
custom_backend-1  | INFO:main:   üí° Add user to a workspace to enable shared project access
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:     172.18.0.10:41364 - "GET /api/custom/projects HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41374 - "GET /api/custom/projects/90/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41400 - "GET /api/custom/features/check/course_table HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:41386 - "GET /api/custom/features/check/col_quality_tier HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41410 - "GET /api/custom/projects/85/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41422 - "GET /api/custom/projects/89/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:41442 - "GET /api/custom/projects/83/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:41438 - "GET /api/custom/projects/82/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:41452 - "GET /api/custom/projects/84/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 181 - Raw details_data type: <class 'dict'>
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 181 - Already dict, after round_hours: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-09T22:31:45.947Z",
custom_backend-1  |         "updatedAt": "2025-10-09T22:32:44.984Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 852.0075073242188,
custom_backend-1  |           "height": 599.9999389648438,
custom_backend-1  |           "aspectRatio": 1.4200126566581885
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-0": {
custom_backend-1  |             "x": -2,
custom_backend-1  |             "y": 2
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-1": {
custom_backend-1  |             "x": 1,
custom_backend-1  |             "y": -116
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 181 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:main:üîç [DATA INTEGRITY] Project 181 - Preserved raw dict for VideoLessonPresentationDisplay to prevent slides‚ÜícontentBlocks corruption
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Sending slide-based response to frontend for Project 181:
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response component_name: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response details type: <class 'dict'>
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has slides: True
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has contentBlocks: False
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ FIXED: Slides array preserved with 1 slides
custom_backend-1  | INFO:     172.18.0.10:51640 - "GET /api/custom/projects/view/181 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.10:51624 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 181
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-10T07:42:04.613768
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760049105947-lroy50so6', 'metadata': {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 4}], 'lessonTitle': 'Course on AI tools for teachers of the high school', 'hasVoiceover': True, 'currentSlideId': 'slide-1760049105947-lroy50so6', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 181 - Storing content to DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-09T22:31:45.947Z",
custom_backend-1  |         "updatedAt": "2025-10-10T07:42:02.534Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 852.0075073242188,
custom_backend-1  |           "height": 599.9999389648438,
custom_backend-1  |           "aspectRatio": 1.4200126566581885
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-0": {
custom_backend-1  |             "x": 1,
custom_backend-1  |             "y": 1
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-1": {
custom_backend-1  |             "x": 1,
custom_backend-1  |             "y": -116
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 181
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760049105947-lroy50so6', 'metadata': {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 4}], 'lessonTitle': 'Course on AI tools for teachers of the high school', 'hasVoiceover': True, 'currentSlideId': 'slide-1760049105947-lroy50so6', 'detectedLanguage': 'en'}, 181]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-10T07:42:04.704314
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 181, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Course on AI tools for teachers of the high school', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Course on AI tools for teachers of the high school', 'microproduct_content': {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760049105947-lroy50so6', 'metadata': {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 4}], 'lessonTitle': 'Course on AI tools for teachers of the high school', 'hasVoiceover': True, 'currentSlideId': 'slide-1760049105947-lroy50so6', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 9, 22, 30, 53, 459245, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-10T07:42:04.760020
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 181 - Retrieved content from DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-09T22:31:45.947Z",
custom_backend-1  |         "updatedAt": "2025-10-10T07:42:02.534Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 852.0075073242188,
custom_backend-1  |           "height": 599.9999389648438,
custom_backend-1  |           "aspectRatio": 1.4200126566581885
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-0": {
custom_backend-1  |             "x": 1,
custom_backend-1  |             "y": 1
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-1": {
custom_backend-1  |             "x": 1,
custom_backend-1  |             "y": -116
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 181 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 181
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=181 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Course on AI tools for teachers of the high school' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Course on AI tools for teachers of the high school' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='dark-purple') design_template_id=2 created_at=datetime.datetime(2025, 10, 9, 22, 30, 53, 459245, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-10T07:42:04.768779
custom_backend-1  | INFO:     172.18.0.10:48556 - "PUT /api/custom/projects/update/181 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:48570 - "GET /api/custom/features/check/col_source HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:48596 - "GET /api/custom/features/check/export_scorm_2004 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:48582 - "GET /api/custom/features/check/col_content_volume HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:48606 - "GET /api/custom/features/check/col_assessment_type HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:48612 - "GET /api/custom/features/check/col_est_creation_time HTTP/1.1" 200 OKcustom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:45650 - "GET /api/custom/features/check/col_quality_tier HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:45636 - "GET /api/custom/features/check/col_est_completion_time HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:45668 - "GET /api/custom/features/check/col_one_pager HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:45654 - "GET /api/custom/features/check/col_quiz HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 181 - Raw details_data type: <class 'dict'>
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 181 - Already dict, after round_hours: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-09T22:31:45.947Z",
custom_backend-1  |         "updatedAt": "2025-10-10T07:42:02.534Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 852.0075073242188,
custom_backend-1  |           "height": 599.9999389648438,
custom_backend-1  |           "aspectRatio": 1.4200126566581885
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-0": {
custom_backend-1  |             "x": 1,
custom_backend-1  |             "y": 1
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-1": {
custom_backend-1  |             "x": 1,
custom_backend-1  |             "y": -116
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 181 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:main:üîç [DATA INTEGRITY] Project 181 - Preserved raw dict for VideoLessonPresentationDisplay to prevent slides‚ÜícontentBlocks corruption
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Sending slide-based response to frontend for Project 181:
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response component_name: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response details type: <class 'dict'>
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has slides: True
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has contentBlocks: False
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ FIXED: Slides array preserved with 1 slides
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:45672 - "GET /api/custom/projects/view/181 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:45678 - "GET /api/custom/features/check/col_video_presentation HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:45684 - "GET /api/custom/features/check/col_lesson_presentation HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:45674 - "GET /api/custom/features/check/workspace_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.10:45688 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üîç [WORKSPACE ACCESS] User b9ad451e-4c02-4008-9965-d5931ff02aa0 (email: makshm1307@gmail.com) projects query results:
custom_backend-1  | INFO:main:   - Owned projects: 174
custom_backend-1  | INFO:main:   - Shared projects: 0
custom_backend-1  | INFO:main:   - Folder filter: None
custom_backend-1  | INFO:main:   - Owned project IDs: [11, 9, 15, 18, 28, 27, 2, 1, 163, 88, 87, 4, 3, 12, 23, 24, 14, 29, 119, 140, 144, 19, 71, 61, 6, 30, 82, 118, 139, 120, 51, 31, 72, 141, 145, 121, 142, 146, 123, 148, 17, 13, 164, 73, 150, 32, 90, 22, 143, 122, 147, 104, 167, 33, 89, 52, 165, 103, 34, 74, 83, 92, 124, 149, 127, 111, 135, 166, 7, 8, 35, 53, 75, 91, 125, 36, 26, 76, 168, 170, 151, 93, 126, 20, 37, 54, 84, 171, 172, 94, 86, 38, 95, 105, 128, 173, 39, 96, 106, 174, 129, 101, 169, 40, 55, 160, 97, 107, 155, 130, 175, 159, 161, 41, 98, 108, 131, 177, 156, 162, 42, 43, 25, 58, 56, 133, 62, 109, 65, 132, 157, 110, 44, 57, 78, 134, 85, 158, 45, 66, 99, 100, 112, 46, 136, 181, 77, 79, 137, 47, 59, 176, 113, 180, 67, 80, 48, 81, 114, 115, 49, 68, 60, 69, 102, 116, 178, 16, 21, 50, 117, 70, 179, 10]
custom_backend-1  | INFO:main:üîç [WORKSPACE DEBUG] No shared projects found for user b9ad451e-4c02-4008-9965-d5931ff02aa0. Investigating...
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   ‚ùå User b9ad451e-4c02-4008-9965-d5931ff02aa0 is not a member of any workspace!
custom_backend-1  | INFO:main:   üí° Add user to a workspace to enable shared project access
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:     172.18.0.10:45694 - "GET /api/custom/projects HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:45712 - "GET /api/custom/features/check/chudo_market_themes HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.10:45708 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Generating HTML preview
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Slides count: 1
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Theme: dark-purple
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Template ID: avatar-service-slide
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Slide ID: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Metadata: {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Slide props keys: ['props', 'slideId', 'metadata', 'slideTitle', 'templateId', 'slideNumber']
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Actual props keys: ['title', 'content', 'subtitle', 'avatarAlt', 'avatarPath', 'titleColor', 'companyName', 'contentColor', 'subtitleColor', 'backgroundColor']
custom_backend-1  | INFO:main:üîç [ENDPOINT_POSITIONING_DEBUG] === ENDPOINT LEVEL POSITIONING ANALYSIS ===
custom_backend-1  | INFO:main:üîç [ENDPOINT_POSITIONING_DEBUG] Raw slide data received:
custom_backend-1  | INFO:main:  - Slide ID: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:main:  - Metadata: {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}
custom_backend-1  | INFO:main:  - Metadata type: <class 'dict'>
custom_backend-1  | INFO:main:üîç [ENDPOINT_POSITIONING_DEBUG] Element positions in metadata:
custom_backend-1  | INFO:main:  - Element positions: {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}
custom_backend-1  | INFO:main:  - Element positions keys: ['draggable-slide-1760049105947-lroy50so6-0', 'draggable-slide-1760049105947-lroy50so6-1']
custom_backend-1  | INFO:main:üîç [ENDPOINT_POSITIONING_DEBUG] Text Element at Endpoint:
custom_backend-1  | INFO:main:    - Element ID: draggable-slide-1760049105947-lroy50so6-0
custom_backend-1  | INFO:main:    - Position: {'x': 1, 'y': 1}
custom_backend-1  | INFO:main:    - X coordinate: 1
custom_backend-1  | INFO:main:    - Y coordinate: 1
custom_backend-1  | INFO:main:üîç [ENDPOINT_POSITIONING_DEBUG] Text Element at Endpoint:
custom_backend-1  | INFO:main:    - Element ID: draggable-slide-1760049105947-lroy50so6-1
custom_backend-1  | INFO:main:    - Position: {'x': 1, 'y': -116}
custom_backend-1  | INFO:main:    - X coordinate: 1
custom_backend-1  | INFO:main:    - Y coordinate: -116
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] title: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] content: '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] subtitle: '...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] avatarAlt: 'Avatar...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] avatarPath: '...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] titleColor: '#e91e63...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] companyName: 'Company name...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] contentColor: '#e91e63...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] subtitleColor: '#000000...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] backgroundColor: '#ffffff...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Generating HTML content...
custom_backend-1  | INFO:app.services.html_template_service:Validated props for avatar-service-slide: ['title', 'subtitle', 'content']
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Generating HTML for template: avatar-service-slide, theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Props received:
custom_backend-1  | INFO:app.services.html_template_service:  - Props type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Props keys: ['title', 'subtitle', 'content']
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Metadata received: {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Slide ID received: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === TEXT ELEMENT POSITIONING ANALYSIS ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Input Data Check:
custom_backend-1  | INFO:app.services.html_template_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:  - Slide ID: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata content: {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Element Positions found:
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions content: {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions keys: ['draggable-slide-1760049105947-lroy50so6-0', 'draggable-slide-1760049105947-lroy50so6-1']
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Text Element Position:
custom_backend-1  | INFO:app.services.html_template_service:    - Element ID: draggable-slide-1760049105947-lroy50so6-0
custom_backend-1  | INFO:app.services.html_template_service:    - Position: {'x': 1, 'y': 1}
custom_backend-1  | INFO:app.services.html_template_service:    - X coordinate: 1
custom_backend-1  | INFO:app.services.html_template_service:    - Y coordinate: 1
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Text Element Position:
custom_backend-1  | INFO:app.services.html_template_service:    - Element ID: draggable-slide-1760049105947-lroy50so6-1
custom_backend-1  | INFO:app.services.html_template_service:    - Position: {'x': 1, 'y': -116}
custom_backend-1  | INFO:app.services.html_template_service:    - X coordinate: 1
custom_backend-1  | INFO:app.services.html_template_service:    - Y coordinate: -116
custom_backend-1  | INFO:app.services.html_template_service:  - title: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞...'
custom_backend-1  | INFO:app.services.html_template_service:  - subtitle: '...'
custom_backend-1  | INFO:app.services.html_template_service:  - content: '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è...'
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Context data prepared:
custom_backend-1  | INFO:app.services.html_template_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata: {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}
custom_backend-1  | INFO:app.services.html_template_service:  - Slide ID: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:app.services.html_template_service:  - Context keys: ['templateId', 'theme', 'metadata', 'slideId', 'title', 'subtitle', 'content']
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Context Data Check:
custom_backend-1  | INFO:app.services.html_template_service:  - Context metadata: {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}
custom_backend-1  | INFO:app.services.html_template_service:  - Context slideId: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚úÖ Using ACTUAL canvas dimensions from metadata!
custom_backend-1  | INFO:app.services.html_template_service:   Actual width: 852.01px
custom_backend-1  | INFO:app.services.html_template_service:   Actual height: 600.00px
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:üéØ [AVATAR-SERVICE] COORDINATE SCALING ANALYSIS
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:Template: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:Slide ID: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üìê Canvas Dimensions Analysis:
custom_backend-1  | INFO:app.services.html_template_service:  ACTUAL Editor Canvas (from metadata):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  852.01px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 600.00px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.420013 (852:600)
custom_backend-1  | INFO:app.services.html_template_service:    - Total Pixels: 511,204 (0.51 megapixels)
custom_backend-1  | INFO:app.services.html_template_service:    - Source: metadata.canvasDimensions
custom_backend-1  | INFO:app.services.html_template_service:  Design Editor Canvas (reference):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  1174px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 600px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.956667 (1.957:1)
custom_backend-1  | INFO:app.services.html_template_service:    - ‚ö†Ô∏è MISMATCH: Actual canvas is -27.43% different!
custom_backend-1  | INFO:app.services.html_template_service:  Video Canvas (Backend):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  1920px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 1080px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.777778 (1.778:1 - 16:9 standard)
custom_backend-1  | INFO:app.services.html_template_service:    - Total Pixels: 2,073,600 (2.07 megapixels)
custom_backend-1  | INFO:app.services.html_template_service:  Dimension Comparison:
custom_backend-1  | INFO:app.services.html_template_service:    - Width Ratio: 2.253501x larger
custom_backend-1  | INFO:app.services.html_template_service:    - Height Ratio: 1.800000x larger
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio Mismatch: 0.357765
custom_backend-1  | INFO:app.services.html_template_service:    - ‚ö†Ô∏è Non-uniform scaling required (different X/Y factors)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üìè Scale Factors (using ACTUAL dimensions):
custom_backend-1  | INFO:app.services.html_template_service:  - SCALE_X: 2.253501 (1920/852)
custom_backend-1  | INFO:app.services.html_template_service:  - SCALE_Y: 1.800000 (1080/600)
custom_backend-1  | INFO:app.services.html_template_service:  - Scale Factor Ratio: 0.798757 (Y is -20.12% larger)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üìç Element Positions to be Scaled:
custom_backend-1  | INFO:app.services.html_template_service:  Total elements: 2
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:  Element: draggable-slide-1760049105947-lroy50so6-0
custom_backend-1  | INFO:app.services.html_template_service:    Original (Editor):  x=1.00px, y=1.00px
custom_backend-1  | INFO:app.services.html_template_service:    Scaled (Video):     x=2.25px, y=1.80px
custom_backend-1  | INFO:app.services.html_template_service:    Calculation:        x=1.00√ó2.254=2.25, y=1.00√ó1.800=1.80custom_backend-1  | INFO:app.services.html_template_service:    Final Transform:    translate(2.25px, 1.80px)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:  Element: draggable-slide-1760049105947-lroy50so6-1
custom_backend-1  | INFO:app.services.html_template_service:    Original (Editor):  x=1.00px, y=-116.00px
custom_backend-1  | INFO:app.services.html_template_service:    Scaled (Video):     x=2.25px, y=-208.80px
custom_backend-1  | INFO:app.services.html_template_service:    Calculation:        x=1.00√ó2.254=2.25, y=-116.00√ó1.800=-208.80
custom_backend-1  | INFO:app.services.html_template_service:    Final Transform:    translate(2.25px, -208.80px)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === RENDERING TEMPLATE ===
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content generated successfully
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content length: 28274 characters
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === INJECTION FAILURE CHECK ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Raw HTML Output Analysis:
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚úÖ POSITIONING CSS FOUND in HTML
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Transform CSS found: 1 occurrences
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG]   1. transform: translate(2.2535012702292687px, 1.8000001831054875px)
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚úÖ positioned-element class found in HTML
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML snippet: <!DOCTYPE html>
custom_backend-1  | <html lang="en">
custom_backend-1  | <head>
custom_backend-1  |     <meta charset="UTF-8">
custom_backend-1  |     <meta name="viewport" content="width=device-width, initial-scale=1.0">
custom_backend-1  |     <title>Avatar Slide Template</title>
custom_backend-1  |
custom_backend-1  |     <link rel="preconnect" href="https://fonts.googleapis.com">
custom_backend-1  |     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
custom_backend-1  |     <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600;700&family=Martel+Sans:wght@400;600;700&family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
custom_backend-1  |
custom_backend-1  |     <style>
custom_backend-1  |         /* Reset and base styles */
custom_backend-1  |         html, body {
custom_backend-1  |             margin: 0;
custom_backend-1  |             padding: 0;
custom_backend-1  |             background: var(--bg-color, #110c35); /* Use theme background, not transparent */
custom_backend-1  |             width: 1920px;
custom_backend-1  |             height: 1080px;
custom_backend-1  |             overflow: hidden;
custom_backend-1  |             font-size: 16px; /* Reduced base font size for better scaling */
custom_backend-1  |         }
custom_backend-1  |
custom_backend-1  |         * {
custom_backend-1  |             mar...
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === FINAL OUTPUT CHECK ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Final HTML length: 28274 characters
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] HTML contains positioning: True
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] HTML contains slideId: True
custom_backend-1  | INFO:app.services.html_template_service:Generated clean HTML for video: avatar-service-slide
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] HTML content generated
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] HTML content length: 28274 characters
custom_backend-1  | INFO:     172.18.0.10:45722 - "POST /api/custom/slide-html/preview HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:55082 - "GET /api/custom/features/check/export_scorm_2004 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:55096 - "GET /api/custom/features/check/col_content_volume HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:55094 - "GET /api/custom/features/check/col_assessment_type HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:47368 - "GET /api/custom/features/check/col_est_creation_time HTTP/1.1" 200 OKcustom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:47354 - "GET /api/custom/features/check/col_source HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:47372 - "GET /api/custom/features/check/col_est_completion_time HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:47386 - "GET /api/custom/features/check/col_quiz HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:47376 - "GET /api/custom/features/check/col_quality_tier HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:47398 - "GET /api/custom/features/check/col_one_pager HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:47414 - "GET /api/custom/features/check/col_lesson_presentation HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:47408 - "GET /api/custom/features/check/col_video_presentation HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 181 - Raw details_data type: <class 'dict'>
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 181 - Already dict, after round_hours: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-09T22:31:45.947Z",
custom_backend-1  |         "updatedAt": "2025-10-10T07:42:02.534Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 852.0075073242188,
custom_backend-1  |           "height": 599.9999389648438,
custom_backend-1  |           "aspectRatio": 1.4200126566581885
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-0": {
custom_backend-1  |             "x": 1,
custom_backend-1  |             "y": 1
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-1": {
custom_backend-1  |             "x": 1,
custom_backend-1  |             "y": -116
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 181 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:main:üîç [DATA INTEGRITY] Project 181 - Preserved raw dict for VideoLessonPresentationDisplay to prevent slides‚ÜícontentBlocks corruption
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Sending slide-based response to frontend for Project 181:
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response component_name: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response details type: <class 'dict'>
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has slides: True
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has contentBlocks: False
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ FIXED: Slides array preserved with 1 slides
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:47420 - "GET /api/custom/features/check/workspace_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:47418 - "GET /api/custom/projects/view/181 HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üîç [WORKSPACE ACCESS] User b9ad451e-4c02-4008-9965-d5931ff02aa0 (email: makshm1307@gmail.com) projects query results:
custom_backend-1  | INFO:main:   - Owned projects: 174
custom_backend-1  | INFO:main:   - Shared projects: 0
custom_backend-1  | INFO:main:   - Folder filter: None
custom_backend-1  | INFO:main:   - Owned project IDs: [11, 9, 15, 18, 28, 27, 2, 1, 163, 88, 87, 4, 3, 12, 23, 24, 14, 29, 119, 140, 144, 19, 71, 61, 6, 30, 82, 118, 139, 120, 51, 31, 72, 141, 145, 121, 142, 146, 123, 148, 17, 13, 164, 73, 150, 32, 90, 22, 143, 122, 147, 104, 167, 33, 89, 52, 165, 103, 34, 74, 83, 92, 124, 149, 127, 111, 135, 166, 7, 8, 35, 53, 75, 91, 125, 36, 26, 76, 168, 170, 151, 93, 126, 20, 37, 54, 84, 171, 172, 94, 86, 38, 95, 105, 128, 173, 39, 96, 106, 174, 129, 101, 169, 40, 55, 160, 97, 107, 155, 130, 175, 159, 161, 41, 98, 108, 131, 177, 156, 162, 42, 43, 25, 58, 56, 133, 62, 109, 65, 132, 157, 110, 44, 57, 78, 134, 85, 158, 45, 66, 99, 100, 112, 46, 136, 181, 77, 79, 137, 47, 59, 176, 113, 180, 67, 80, 48, 81, 114, 115, 49, 68, 60, 69, 102, 116, 178, 16, 21, 50, 117, 70, 179, 10]
custom_backend-1  | INFO:main:üîç [WORKSPACE DEBUG] No shared projects found for user b9ad451e-4c02-4008-9965-d5931ff02aa0. Investigating...
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   ‚ùå User b9ad451e-4c02-4008-9965-d5931ff02aa0 is not a member of any workspace!
custom_backend-1  | INFO:main:   üí° Add user to a workspace to enable shared project access
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:     172.18.0.10:47426 - "GET /api/custom/projects HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.10:47442 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:47456 - "GET /api/custom/features/check/chudo_market_themes HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.10:47446 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Generating HTML preview
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Slides count: 1
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Theme: dark-purple
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Template ID: avatar-service-slide
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Slide ID: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Metadata: {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Slide props keys: ['props', 'slideId', 'metadata', 'slideTitle', 'templateId', 'slideNumber']
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Actual props keys: ['title', 'content', 'subtitle', 'avatarAlt', 'avatarPath', 'titleColor', 'companyName', 'contentColor', 'subtitleColor', 'backgroundColor']
custom_backend-1  | INFO:main:üîç [ENDPOINT_POSITIONING_DEBUG] === ENDPOINT LEVEL POSITIONING ANALYSIS ===
custom_backend-1  | INFO:main:üîç [ENDPOINT_POSITIONING_DEBUG] Raw slide data received:
custom_backend-1  | INFO:main:  - Slide ID: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:main:  - Metadata: {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}
custom_backend-1  | INFO:main:  - Metadata type: <class 'dict'>
custom_backend-1  | INFO:main:üîç [ENDPOINT_POSITIONING_DEBUG] Element positions in metadata:
custom_backend-1  | INFO:main:  - Element positions: {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}
custom_backend-1  | INFO:main:  - Element positions keys: ['draggable-slide-1760049105947-lroy50so6-0', 'draggable-slide-1760049105947-lroy50so6-1']
custom_backend-1  | INFO:main:üîç [ENDPOINT_POSITIONING_DEBUG] Text Element at Endpoint:
custom_backend-1  | INFO:main:    - Element ID: draggable-slide-1760049105947-lroy50so6-0
custom_backend-1  | INFO:main:    - Position: {'x': 1, 'y': 1}
custom_backend-1  | INFO:main:    - X coordinate: 1
custom_backend-1  | INFO:main:    - Y coordinate: 1
custom_backend-1  | INFO:main:üîç [ENDPOINT_POSITIONING_DEBUG] Text Element at Endpoint:
custom_backend-1  | INFO:main:    - Element ID: draggable-slide-1760049105947-lroy50so6-1
custom_backend-1  | INFO:main:    - Position: {'x': 1, 'y': -116}
custom_backend-1  | INFO:main:    - X coordinate: 1
custom_backend-1  | INFO:main:    - Y coordinate: -116
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] title: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] content: '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] subtitle: '...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] avatarAlt: 'Avatar...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] avatarPath: '...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] titleColor: '#e91e63...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] companyName: 'Company name...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] contentColor: '#e91e63...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] subtitleColor: '#000000...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] backgroundColor: '#ffffff...'
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] Generating HTML content...
custom_backend-1  | INFO:app.services.html_template_service:Validated props for avatar-service-slide: ['title', 'subtitle', 'content']
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Generating HTML for template: avatar-service-slide, theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Props received:
custom_backend-1  | INFO:app.services.html_template_service:  - Props type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Props keys: ['title', 'subtitle', 'content']
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Metadata received: {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Slide ID received: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === TEXT ELEMENT POSITIONING ANALYSIS ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Input Data Check:
custom_backend-1  | INFO:app.services.html_template_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:  - Slide ID: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata content: {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Element Positions found:
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions content: {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions keys: ['draggable-slide-1760049105947-lroy50so6-0', 'draggable-slide-1760049105947-lroy50so6-1']
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Text Element Position:
custom_backend-1  | INFO:app.services.html_template_service:    - Element ID: draggable-slide-1760049105947-lroy50so6-0
custom_backend-1  | INFO:app.services.html_template_service:    - Position: {'x': 1, 'y': 1}
custom_backend-1  | INFO:app.services.html_template_service:    - X coordinate: 1
custom_backend-1  | INFO:app.services.html_template_service:    - Y coordinate: 1
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Text Element Position:
custom_backend-1  | INFO:app.services.html_template_service:    - Element ID: draggable-slide-1760049105947-lroy50so6-1
custom_backend-1  | INFO:app.services.html_template_service:    - Position: {'x': 1, 'y': -116}
custom_backend-1  | INFO:app.services.html_template_service:    - X coordinate: 1
custom_backend-1  | INFO:app.services.html_template_service:    - Y coordinate: -116
custom_backend-1  | INFO:app.services.html_template_service:  - title: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞...'
custom_backend-1  | INFO:app.services.html_template_service:  - subtitle: '...'
custom_backend-1  | INFO:app.services.html_template_service:  - content: '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è...'
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Context data prepared:
custom_backend-1  | INFO:app.services.html_template_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata: {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}
custom_backend-1  | INFO:app.services.html_template_service:  - Slide ID: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:app.services.html_template_service:  - Context keys: ['templateId', 'theme', 'metadata', 'slideId', 'title', 'subtitle', 'content']
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Context Data Check:
custom_backend-1  | INFO:app.services.html_template_service:  - Context metadata: {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T07:42:02.534Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': 1, 'y': 1}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}
custom_backend-1  | INFO:app.services.html_template_service:  - Context slideId: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚úÖ Using ACTUAL canvas dimensions from metadata!
custom_backend-1  | INFO:app.services.html_template_service:   Actual width: 852.01px
custom_backend-1  | INFO:app.services.html_template_service:   Actual height: 600.00px
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:üéØ [AVATAR-SERVICE] COORDINATE SCALING ANALYSIS
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:Template: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:Slide ID: slide-1760049105947-lroy50so6
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üìê Canvas Dimensions Analysis:
custom_backend-1  | INFO:app.services.html_template_service:  ACTUAL Editor Canvas (from metadata):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  852.01px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 600.00px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.420013 (852:600)
custom_backend-1  | INFO:app.services.html_template_service:    - Total Pixels: 511,204 (0.51 megapixels)
custom_backend-1  | INFO:app.services.html_template_service:    - Source: metadata.canvasDimensions
custom_backend-1  | INFO:app.services.html_template_service:  Design Editor Canvas (reference):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  1174px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 600px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.956667 (1.957:1)
custom_backend-1  | INFO:app.services.html_template_service:    - ‚ö†Ô∏è MISMATCH: Actual canvas is -27.43% different!
custom_backend-1  | INFO:app.services.html_template_service:  Video Canvas (Backend):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  1920px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 1080px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.777778 (1.778:1 - 16:9 standard)
custom_backend-1  | INFO:app.services.html_template_service:    - Total Pixels: 2,073,600 (2.07 megapixels)
custom_backend-1  | INFO:app.services.html_template_service:  Dimension Comparison:
custom_backend-1  | INFO:app.services.html_template_service:    - Width Ratio: 2.253501x larger
custom_backend-1  | INFO:app.services.html_template_service:    - Height Ratio: 1.800000x larger
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio Mismatch: 0.357765
custom_backend-1  | INFO:app.services.html_template_service:    - ‚ö†Ô∏è Non-uniform scaling required (different X/Y factors)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üìè Scale Factors (using ACTUAL dimensions):
custom_backend-1  | INFO:app.services.html_template_service:  - SCALE_X: 2.253501 (1920/852)
custom_backend-1  | INFO:app.services.html_template_service:  - SCALE_Y: 1.800000 (1080/600)
custom_backend-1  | INFO:app.services.html_template_service:  - Scale Factor Ratio: 0.798757 (Y is -20.12% larger)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üìç Element Positions to be Scaled:
custom_backend-1  | INFO:app.services.html_template_service:  Total elements: 2
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:  Element: draggable-slide-1760049105947-lroy50so6-0
custom_backend-1  | INFO:app.services.html_template_service:    Original (Editor):  x=1.00px, y=1.00px
custom_backend-1  | INFO:app.services.html_template_service:    Scaled (Video):     x=2.25px, y=1.80px
custom_backend-1  | INFO:app.services.html_template_service:    Calculation:        x=1.00√ó2.254=2.25, y=1.00√ó1.800=1.80custom_backend-1  | INFO:app.services.html_template_service:    Final Transform:    translate(2.25px, 1.80px)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:  Element: draggable-slide-1760049105947-lroy50so6-1
custom_backend-1  | INFO:app.services.html_template_service:    Original (Editor):  x=1.00px, y=-116.00px
custom_backend-1  | INFO:app.services.html_template_service:    Scaled (Video):     x=2.25px, y=-208.80px
custom_backend-1  | INFO:app.services.html_template_service:    Calculation:        x=1.00√ó2.254=2.25, y=-116.00√ó1.800=-208.80
custom_backend-1  | INFO:app.services.html_template_service:    Final Transform:    translate(2.25px, -208.80px)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === RENDERING TEMPLATE ===
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content generated successfully
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content length: 28274 characters
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === INJECTION FAILURE CHECK ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Raw HTML Output Analysis:
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚úÖ POSITIONING CSS FOUND in HTML
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Transform CSS found: 1 occurrences
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG]   1. transform: translate(2.2535012702292687px, 1.8000001831054875px)
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚úÖ positioned-element class found in HTML
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML snippet: <!DOCTYPE html>
custom_backend-1  | <html lang="en">
custom_backend-1  | <head>
custom_backend-1  |     <meta charset="UTF-8">
custom_backend-1  |     <meta name="viewport" content="width=device-width, initial-scale=1.0">
custom_backend-1  |     <title>Avatar Slide Template</title>
custom_backend-1  |
custom_backend-1  |     <link rel="preconnect" href="https://fonts.googleapis.com">
custom_backend-1  |     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
custom_backend-1  |     <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600;700&family=Martel+Sans:wght@400;600;700&family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
custom_backend-1  |
custom_backend-1  |     <style>
custom_backend-1  |         /* Reset and base styles */
custom_backend-1  |         html, body {
custom_backend-1  |             margin: 0;
custom_backend-1  |             padding: 0;
custom_backend-1  |             background: var(--bg-color, #110c35); /* Use theme background, not transparent */
custom_backend-1  |             width: 1920px;
custom_backend-1  |             height: 1080px;
custom_backend-1  |             overflow: hidden;
custom_backend-1  |             font-size: 16px; /* Reduced base font size for better scaling */
custom_backend-1  |         }
custom_backend-1  |
custom_backend-1  |         * {
custom_backend-1  |             mar...
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === FINAL OUTPUT CHECK ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Final HTML length: 28274 characters
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] HTML contains positioning: True
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] HTML contains slideId: True
custom_backend-1  | INFO:app.services.html_template_service:Generated clean HTML for video: avatar-service-slide
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] HTML content generated
custom_backend-1  | INFO:main:üîç [HTML_PREVIEW] HTML content length: 28274 characters
custom_backend-1  | INFO:     172.18.0.10:39774 - "POST /api/custom/slide-html/preview HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 181 - Raw details_data type: <class 'dict'>
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 181 - Already dict, after round_hours: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-09T22:31:45.947Z",
custom_backend-1  |         "updatedAt": "2025-10-10T07:42:02.534Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 852.0075073242188,
custom_backend-1  |           "height": 599.9999389648438,
custom_backend-1  |           "aspectRatio": 1.4200126566581885
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-0": {
custom_backend-1  |             "x": 1,
custom_backend-1  |             "y": 1
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-1": {
custom_backend-1  |             "x": 1,
custom_backend-1  |             "y": -116
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 181 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:main:üîç [DATA INTEGRITY] Project 181 - Preserved raw dict for VideoLessonPresentationDisplay to prevent slides‚ÜícontentBlocks corruption
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Sending slide-based response to frontend for Project 181:
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response component_name: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response details type: <class 'dict'>
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has slides: True
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has contentBlocks: False
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ FIXED: Slides array preserved with 1 slides
custom_backend-1  | INFO:     172.18.0.10:50400 - "GET /api/custom/projects/view/181 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.10:50388 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.10:50414 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 181
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-10T10:09:23.299186
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760049105947-lroy50so6', 'metadata': {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T10:09:21.144Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': -85.05303955078125, 'y': 86}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 4}], 'lessonTitle': 'Course on AI tools for teachers of the high school', 'hasVoiceover': True, 'currentSlideId': 'slide-1760049105947-lroy50so6', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 181 - Storing content to DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-09T22:31:45.947Z",
custom_backend-1  |         "updatedAt": "2025-10-10T10:09:21.144Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 852.0075073242188,
custom_backend-1  |           "height": 599.9999389648438,
custom_backend-1  |           "aspectRatio": 1.4200126566581885
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-0": {
custom_backend-1  |             "x": -85.05303955078125,
custom_backend-1  |             "y": 86
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-1": {
custom_backend-1  |             "x": 1,
custom_backend-1  |             "y": -116
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 181
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760049105947-lroy50so6', 'metadata': {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T10:09:21.144Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': -85.05303955078125, 'y': 86}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 4}], 'lessonTitle': 'Course on AI tools for teachers of the high school', 'hasVoiceover': True, 'currentSlideId': 'slide-1760049105947-lroy50so6', 'detectedLanguage': 'en'}, 181]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-10T10:09:23.373037
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 181, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Course on AI tools for teachers of the high school', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Course on AI tools for teachers of the high school', 'microproduct_content': {'theme': 'dark-purple', 'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760049105947-lroy50so6', 'metadata': {'version': '1.0', 'createdAt': '2025-10-09T22:31:45.947Z', 'updatedAt': '2025-10-10T10:09:21.144Z', 'canvasDimensions': {'width': 852.0075073242188, 'height': 599.9999389648438, 'aspectRatio': 1.4200126566581885}, 'elementPositions': {'draggable-slide-1760049105947-lroy50so6-0': {'x': -85.05303955078125, 'y': 86}, 'draggable-slide-1760049105947-lroy50so6-1': {'x': 1, 'y': -116}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 4}], 'lessonTitle': 'Course on AI tools for teachers of the high school', 'hasVoiceover': True, 'currentSlideId': 'slide-1760049105947-lroy50so6', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 9, 22, 30, 53, 459245, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-10T10:09:23.383494
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 181 - Retrieved content from DB: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-09T22:31:45.947Z",
custom_backend-1  |         "updatedAt": "2025-10-10T10:09:21.144Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 852.0075073242188,
custom_backend-1  |           "height": 599.9999389648438,
custom_backend-1  |           "aspectRatio": 1.4200126566581885
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-0": {
custom_backend-1  |             "x": -85.05303955078125,
custom_backend-1  |             "y": 86
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760049105947-lroy50so6-1": {
custom_backend-1  |             "x": 1,
custom_backend-1  |             "y": -116
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 4
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760049105947-lroy50so6",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 181 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 181
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=181 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Course on AI tools for teachers of the high school' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Course on AI tools for teachers of the high school' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='dark-purple') design_template_id=2 created_at=datetime.datetime(2025, 10, 9, 22, 30, 53, 459245, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-10T10:09:23.393132
custom_backend-1  | INFO:     172.18.0.10:45066 - "PUT /api/custom/projects/update/181 HTTP/1.1" 200 OK