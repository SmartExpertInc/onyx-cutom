‚úÖ Video lesson data saved successfully
1963-486b4c1c4456681e.js:1 Script - videoLessonData: undefined
1963-486b4c1c4456681e.js:1 Script - componentBasedSlideDeck: Object
1963-486b4c1c4456681e.js:1 Script - currentSlideId: slide-1760453924914-sawgi1jo8
1963-486b4c1c4456681e.js:1 Script - currentSlide: Object
1963-486b4c1c4456681e.js:1 Script - voiceoverText: undefined
1963-486b4c1c4456681e.js:1 Script - scriptContent: Create dynamic, powerful and informative videos with an avatar as your host. Instantly translate your video into over eighty languages, use engaging media to grab your audiences attention, or even simulate conversations between multiple avatars. All with an intuitive interface that anyone can use!
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Modal opened without existing voice selection
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] ========== VOICE FETCH STARTED ==========
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Fetching voices from Elai API...
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] API Endpoint: https://apis.elai.io/api/v1/voices
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] API Response Status: 200
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] API Response received
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Language groups count: 78
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Voices extracted:
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] - Total voices: 2179
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] - Male voices: 1209
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] - Female voices: 970
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] - Azure voices: 481
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] - ElevenLabs voices: 1456
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] - Premium voices: 1522
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] ========== VOICE FETCH COMPLETED ==========
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Voice item clicked: Object
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Play button clicked for voice: Object
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Starting audio playback from URL: https://d3u63mhbhkevz8.cloudfront.net/voices/azure...
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] ‚úÖ Audio playback started successfully
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] ========== APPLY VOICE STARTED ==========
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Applying voice to global context: Object
1963-486b4c1c4456681e.js:1 üé§ [VOICE_CONTEXT] ========== VOICE STATE UPDATE ==========
1963-486b4c1c4456681e.js:1 üé§ [VOICE_CONTEXT] Setting new voice: Object
1963-486b4c1c4456681e.js:1 üé§ [VOICE_CONTEXT] ‚úÖ Voice saved to localStorage
1963-486b4c1c4456681e.js:1 üé§ [VOICE_CONTEXT] ========== VOICE STATE UPDATE COMPLETED ==========
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] ‚úÖ Voice successfully applied to global context
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] ========== APPLY VOICE COMPLETED ==========
1963-486b4c1c4456681e.js:1 Script - videoLessonData: undefined
1963-486b4c1c4456681e.js:1 Script - componentBasedSlideDeck: Object
1963-486b4c1c4456681e.js:1 Script - currentSlideId: slide-1760453924914-sawgi1jo8
1963-486b4c1c4456681e.js:1 Script - currentSlide: Object
1963-486b4c1c4456681e.js:1 Script - voiceoverText: undefined
1963-486b4c1c4456681e.js:1 Script - scriptContent: Create dynamic, powerful and informative videos with an avatar as your host. Instantly translate your video into over eighty languages, use engaging media to grab your audiences attention, or even simulate conversations between multiple avatars. All with an intuitive interface that anyone can use!
1963-486b4c1c4456681e.js:1 üé§ [VIDEO_GENERATION] Voice context updated: Object
1963-486b4c1c4456681e.js:1 Script - videoLessonData: undefined
1963-486b4c1c4456681e.js:1 Script - componentBasedSlideDeck: Object
1963-486b4c1c4456681e.js:1 Script - currentSlideId: slide-1760453924914-sawgi1jo8
1963-486b4c1c4456681e.js:1 Script - currentSlide: Object
1963-486b4c1c4456681e.js:1 Script - voiceoverText: undefined
1963-486b4c1c4456681e.js:1 Script - scriptContent: Create dynamic, powerful and informative videos with an avatar as your host. Instantly translate your video into over eighty languages, use engaging media to grab your audiences attention, or even simulate conversations between multiple avatars. All with an intuitive interface that anyone can use!
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Modal opened with existing global voice selection: Object
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] ========== VOICE FETCH STARTED ==========
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Fetching voices from Elai API...
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] API Endpoint: https://apis.elai.io/api/v1/voices
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] API Response Status: 200
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] API Response received
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Language groups count: 78
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Voices extracted:
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] - Total voices: 2179
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] - Male voices: 1209
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] - Female voices: 970
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] - Azure voices: 481
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] - ElevenLabs voices: 1456
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] - Premium voices: 1522
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] ========== VOICE FETCH COMPLETED ==========
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Voice item clicked: Object
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] ========== APPLY VOICE STARTED ==========
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] Applying voice to global context: Objectcharacter: "Brian M"locale: "en-US"premium: undefinedprovider: "azure"tags: undefinedvoiceId: "en-US-BrianMultilingualNeural"[[Prototype]]: Object
1963-486b4c1c4456681e.js:1 üé§ [VOICE_CONTEXT] ========== VOICE STATE UPDATE ==========
1963-486b4c1c4456681e.js:1 üé§ [VOICE_CONTEXT] Setting new voice: Object
1963-486b4c1c4456681e.js:1 üé§ [VOICE_CONTEXT] ‚úÖ Voice saved to localStorage
1963-486b4c1c4456681e.js:1 üé§ [VOICE_CONTEXT] ========== VOICE STATE UPDATE COMPLETED ==========
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] ‚úÖ Voice successfully applied to global context
1963-486b4c1c4456681e.js:1 üé§ [VOICE_PICKER] ========== APPLY VOICE COMPLETED ==========
1963-486b4c1c4456681e.js:1 Script - videoLessonData: undefined
1963-486b4c1c4456681e.js:1 Script - componentBasedSlideDeck: Object
1963-486b4c1c4456681e.js:1 Script - currentSlideId: slide-1760453924914-sawgi1jo8
1963-486b4c1c4456681e.js:1 Script - currentSlide: Object
1963-486b4c1c4456681e.js:1 Script - voiceoverText: undefined
1963-486b4c1c4456681e.js:1 Script - scriptContent: Create dynamic, powerful and informative videos with an avatar as your host. Instantly translate your video into over eighty languages, use engaging media to grab your audiences attention, or even simulate conversations between multiple avatars. All with an intuitive interface that anyone can use!
1963-486b4c1c4456681e.js:1 üé§ [VIDEO_GENERATION] Voice context updated: Object
1963-486b4c1c4456681e.js:1 üé¨ [GENERATE_MODAL] Start generation button clicked
1963-486b4c1c4456681e.js:1 üé¨ [GENERATE_MODAL] onGenerationStart callback: async()=>{console.log("\uD83C\uDFAC [VIDEO_GENERATION] handleVideoGeneration called"),console.log("\uD83C\uDFAC [VIDEO_GENERATION] Global defaultAvatar:",Y);let e=null==Y?void 0:Y.avatar,t=null==Y?vo‚Ä¶
1963-486b4c1c4456681e.js:1 üé¨ [GENERATE_MODAL] Current generationStatus: idle
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] handleVideoGeneration called
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Global defaultAvatar: {avatar: {‚Ä¶}, selectedVariant: {‚Ä¶}}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Using selected avatar from global context: {id: '65841fc2c10c114a3d348cf7', code: 'gia', name: 'Gia', type: null, status: 2,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Generation started with data: {selectedAvatar: 'Gia', selectedVariant: 'Business', videoTitle: 'Create your first AI video', videoLessonData: 'Not available', componentBasedSlideDeck: 'Available',¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Starting video generation with avatar: {avatar: 'Gia', variant: 'Business', avatarCode: 'gia.business'}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Extracting slide data...
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_DOWNLOAD] Extracting slide data from current project...
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_DOWNLOAD] videoLessonData: undefined
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_DOWNLOAD] componentBasedSlideDeck: {slides: Array(1), lessonTitle: 'Step to analyze the market', hasVoiceover: true, currentSlideId: 'slide-1760453924914-sawgi1jo8', detectedLanguage: 'en'}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_DOWNLOAD] currentSlideId: slide-1760453924914-sawgi1jo8
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_DOWNLOAD] Found slide data in componentBasedSlideDeck: 1 slides
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_DOWNLOAD] Extracted voiceover texts from componentBasedSlideDeck: []
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Slide data extracted successfully
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Slides count: 1
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Theme: dark-purple
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Voiceover texts count: 0
1963-486b4c1c4456681e.js:1 üé§ [VIDEO_GENERATION] ========== PAYLOAD CONSTRUCTION STARTED ==========
1963-486b4c1c4456681e.js:1 üé§ [VIDEO_GENERATION] Voice data for payload: {hasSelectedVoice: true, voiceCharacter: 'Brian M', voiceId: 'en-US-BrianMultilingualNeural', voiceProvider: 'azure', voiceLocale: 'en-US',¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé§ [VIDEO_GENERATION] Final request payload: {projectName: 'Create your first AI video', voiceoverTextsCount: 1, slidesDataCount: 1, theme: 'dark-purple', avatarCode: 'gia.business',¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé§ [VIDEO_GENERATION] ========== PAYLOAD CONSTRUCTION COMPLETED ==========
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Request payload: {projectName: 'Create your first AI video', voiceoverTexts: Array(1), slidesData: Array(1), theme: 'dark-purple', avatarCode: 'gia.business',¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Final request payload: {projectName: 'Create your first AI video', voiceoverTextsCount: 1, voiceoverTexts: Array(1), slidesCount: 1, theme: 'dark-purple',¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Making API request to: /api/custom-projects-backend/presentations
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] API response status: 200
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] API response data: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 0, message: 'Presentation generation started - check status with job ID',¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Presentation job created successfully: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Closing GenerateModal and opening GenerationCompletedModal
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Starting polling for job completion...
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 10 Status: processing
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling job status for: a55d7e4d-6d65-4d7c-a45a-1ae126281800
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Status response: {success: true, jobId: 'a55d7e4d-6d65-4d7c-a45a-1ae126281800', status: 'failed', progress: 30, error: "Avatar video generation failed with both primary and fallback avatars: name 'request' is not defined",¬†‚Ä¶}
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Job progress: 30 Status: failed
1684-614c13b884d04a5e.js:1 üé¨ [VIDEO_GENERATION] Video generation failed: Avatar video generation failed with both primary and fallback avatars: name 'request' is not defined
(anonymous) @ 1684-614c13b884d04a5e.js:1
(anonymous) @ 1963-486b4c1c4456681e.js:1Understand this error
1684-614c13b884d04a5e.js:1 üé¨ [VIDEO_GENERATION] Status check error: Error: Avatar video generation failed with both primary and fallback avatars: name 'request' is not defined
    at 1963-486b4c1c4456681e.js:1:299223
(anonymous) @ 1684-614c13b884d04a5e.js:1
(anonymous) @ 1963-486b4c1c4456681e.js:1Understand this error
1963-486b4c1c4456681e.js:1 üé¨ [VIDEO_GENERATION] Polling timeout reached (10 minutes)


custom_backend-1  | INFO:main:[RESEARCH] USE_OPENAI_WEB_SEARCH=False
custom_backend-1  | INFO:app.services.pdf_generator:PDF Template Directory expected at: /app/templates
custom_backend-1  | INFO:app.services.video_generation_service:HTTP client initialized successfully
custom_backend-1  | INFO:main:Video generation service imported successfully
custom_backend-1  | INFO:app.services.video_composer_service:Professional Video Composer initialized
custom_backend-1  | INFO:app.services.presentation_service:Professional Presentation Service initialized
custom_backend-1  | INFO:main:Presentation service imported successfully
custom_backend-1  | INFO:     Started server process [1]
custom_backend-1  | INFO:     Waiting for application startup.
custom_backend-1  | INFO:main:Custom Backend starting...
custom_backend-1  | INFO:main:'projects' table ensured and updated.
custom_backend-1  | INFO:main:'microproduct_pipelines' table ensured.
custom_backend-1  | INFO:main:'projects' table ensured and updated with 'source_chat_session_id'.
custom_backend-1  | INFO:main:'projects' table updated with source context tracking columns.
custom_backend-1  | INFO:main:'projects' table updated with lesson plan columns.
custom_backend-1  | INFO:main:'design_templates' table ensured.
custom_backend-1  | INFO:app.core.database:Database tables created successfully
custom_backend-1  | INFO:main:Workspace database tables initialized successfully
custom_backend-1  | INFO:main:'trashed_projects' table ensured (soft-delete).
custom_backend-1  | INFO:main:'user_credits' table ensured.
custom_backend-1  | INFO:main:Updated credit_transactions table to support admin_removal type
custom_backend-1  | INFO:main:'credit_transactions' table ensured.
custom_backend-1  | INFO:main:User migration is available manually via /api/custom/admin/credits/migrate-users
custom_backend-1  | INFO:main:Added quality_tier column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default 'medium' tier
custom_backend-1  | INFO:main:Created index for quality_tier column
custom_backend-1  | INFO:main:Added custom_rate column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default custom_rate
custom_backend-1  | INFO:main:Created index for custom_rate column
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to projects table
custom_backend-1  | INFO:main:Created indexes for project-level custom_rate and quality_tier columns
custom_backend-1  | INFO:main:Ensured is_advanced, advanced_rates, and completion_times on project_folders
custom_backend-1  | INFO:main:Ensured is_advanced, advanced_rates, and completion_times on projects
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to trashed_projects table
custom_backend-1  | INFO:main:Applying critical fix: Ensuring order and completion_time columns are TEXT type
custom_backend-1  | INFO:main:Successfully set projects.order and projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set trashed_projects.order and trashed_projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set default values for empty order and completion_time fields
custom_backend-1  | INFO:main:Projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:Trashed_projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:'request_analytics' table ensured.
custom_backend-1  | INFO:main:AI parser tracking columns added to request_analytics table.
custom_backend-1  | INFO:main:Added is_standalone column to projects table.
custom_backend-1  | INFO:main:Added is_standalone column to trashed_projects table.
custom_backend-1  | INFO:main:Legacy support: is_standalone field defaults to NULL for existing products.
custom_backend-1  | INFO:main:Added course_id column to projects table.
custom_backend-1  | INFO:main:Added course_id column to trashed_projects table.
custom_backend-1  | INFO:main:Legacy support: course_id field defaults to NULL for existing products.
custom_backend-1  | INFO:main:'smartdrive_accounts' table ensured.
custom_backend-1  | INFO:main:'smartdrive_imports' table ensured.
custom_backend-1  | INFO:main:'user_connectors' table ensured.
custom_backend-1  | INFO:main:'offers' table ensured.
custom_backend-1  | INFO:main:Smart Drive database migrations completed successfully.
custom_backend-1  | INFO:main:'feature_definitions' table ensured.
custom_backend-1  | INFO:main:Migrated user_features.user_id column to TEXT type.
custom_backend-1  | INFO:main:'user_features' table ensured.
custom_backend-1  | INFO:main:Seeded 24 feature definitions.
custom_backend-1  | INFO:main:Deactivated 7 unused feature definitions.
custom_backend-1  | INFO:main:Created feature entries for 3 existing users with LMS defaults enabled.
custom_backend-1  | INFO:main:Added audit sharing columns to projects table.
custom_backend-1  | INFO:main:Added audit sharing columns to trashed_projects table.
custom_backend-1  | INFO:main:Updated 0 existing audits to use 'AI Audit' microproduct_type
custom_backend-1  | INFO:main:Updated trashed audits to use 'AI Audit' microproduct_type
custom_backend-1  | INFO:main:Database schema migration completed successfully.
custom_backend-1  | INFO:main:'lms_exports' table ensured.
custom_backend-1  | INFO:     Application startup complete.
custom_backend-1  | INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.10:55962 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:55966 - "GET /api/custom/features/check/workspace_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:55970 - "GET /api/custom/features/check/offers_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:55976 - "GET /api/custom/features/check/export_to_lms HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:55986 - "GET /api/custom/features/check/workspace_tab HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:55990 - "GET /api/custom/features/check/export_to_lms HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:56002 - "GET /api/custom/features/check/course_table HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:56004 - "GET /api/custom/features/check/col_quality_tier HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:56008 - "GET /api/custom/features/check/ai_audit_templates HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:56016 - "GET /api/custom/features/check/deloitte_banner HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:56024 - "GET /api/custom/features/check/event_posters HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:56042 - "GET /api/custom/projects/folders HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîç [WORKSPACE ACCESS] User b9ad451e-4c02-4008-9965-d5931ff02aa0 (email: makshm1307@gmail.com) projects query results:
custom_backend-1  | INFO:main:   - Owned projects: 175
custom_backend-1  | INFO:main:   - Shared projects: 0
custom_backend-1  | INFO:main:   - Folder filter: None
custom_backend-1  | INFO:main:   - Owned project IDs: [11, 9, 15, 18, 28, 27, 2, 1, 163, 88, 87, 4, 3, 12, 23, 24, 14, 29, 119, 140, 144, 19, 71, 61, 6, 30, 82, 118, 139, 120, 51, 31, 72, 141, 145, 121, 142, 146, 123, 148, 17, 13, 164, 73, 150, 32, 90, 22, 143, 122, 147, 104, 167, 33, 89, 52, 165, 103, 34, 74, 83, 92, 124, 149, 127, 111, 135, 166, 7, 8, 35, 53, 75, 91, 125, 36, 26, 76, 168, 170, 151, 93, 126, 20, 37, 54, 84, 171, 172, 94, 86, 38, 95, 105, 128, 173, 39, 96, 106, 174, 129, 101, 169, 40, 55, 160, 97, 107, 155, 130, 175, 159, 161, 41, 98, 108, 131, 177, 156, 162, 42, 43, 25, 58, 56, 133, 62, 109, 65, 132, 157, 110, 44, 57, 78, 134, 85, 158, 45, 66, 99, 100, 112, 46, 136, 181, 77, 79, 137, 47, 59, 176, 113, 180, 67, 80, 48, 81, 114, 115, 49, 68, 60, 69, 102, 116, 178, 16, 21, 50, 117, 70, 179, 10, 182]
custom_backend-1  | INFO:main:üîç [WORKSPACE DEBUG] No shared projects found for user b9ad451e-4c02-4008-9965-d5931ff02aa0. Investigating...
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   ‚ùå User b9ad451e-4c02-4008-9965-d5931ff02aa0 is not a member of any workspace!
custom_backend-1  | INFO:main:   üí° Add user to a workspace to enable shared project access
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:     172.18.0.10:56050 - "GET /api/custom/credits/me HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:56032 - "GET /api/custom/projects HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:56064 - "GET /api/custom/projects/folders HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîç [WORKSPACE ACCESS] User b9ad451e-4c02-4008-9965-d5931ff02aa0 (email: makshm1307@gmail.com) projects query results:
custom_backend-1  | INFO:main:   - Owned projects: 175
custom_backend-1  | INFO:main:   - Shared projects: 0
custom_backend-1  | INFO:main:   - Folder filter: None
custom_backend-1  | INFO:main:   - Owned project IDs: [11, 9, 15, 18, 28, 27, 2, 1, 163, 88, 87, 4, 3, 12, 23, 24, 14, 29, 119, 140, 144, 19, 71, 61, 6, 30, 82, 118, 139, 120, 51, 31, 72, 141, 145, 121, 142, 146, 123, 148, 17, 13, 164, 73, 150, 32, 90, 22, 143, 122, 147, 104, 167, 33, 89, 52, 165, 103, 34, 74, 83, 92, 124, 149, 127, 111, 135, 166, 7, 8, 35, 53, 75, 91, 125, 36, 26, 76, 168, 170, 151, 93, 126, 20, 37, 54, 84, 171, 172, 94, 86, 38, 95, 105, 128, 173, 39, 96, 106, 174, 129, 101, 169, 40, 55, 160, 97, 107, 155, 130, 175, 159, 161, 41, 98, 108, 131, 177, 156, 162, 42, 43, 25, 58, 56, 133, 62, 109, 65, 132, 157, 110, 44, 57, 78, 134, 85, 158, 45, 66, 99, 100, 112, 46, 136, 181, 77, 79, 137, 47, 59, 176, 113, 180, 67, 80, 48, 81, 114, 115, 49, 68, 60, 69, 102, 116, 178, 16, 21, 50, 117, 70, 179, 10, 182]
custom_backend-1  | INFO:main:üîç [WORKSPACE DEBUG] No shared projects found for user b9ad451e-4c02-4008-9965-d5931ff02aa0. Investigating...
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   ‚ùå User b9ad451e-4c02-4008-9965-d5931ff02aa0 is not a member of any workspace!
custom_backend-1  | INFO:main:   üí° Add user to a workspace to enable shared project access
custom_backend-1  | INFO:main:   - User workspace memberships: 0
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:main:   - No workspace memberships found - user needs to be added to a workspace
custom_backend-1  | INFO:     172.18.0.10:56076 - "GET /api/custom/projects HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:50070 - "GET /api/custom/projects/90/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50102 - "GET /api/custom/projects/89/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50078 - "GET /api/custom/features/check/col_quality_tier HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50088 - "GET /api/custom/features/check/course_table HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50094 - "GET /api/custom/projects/85/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:50112 - "GET /api/custom/projects/83/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50118 - "GET /api/custom/projects/82/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50108 - "GET /api/custom/projects/84/lesson-data HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 182 - Raw details_data type: <class 'dict'>
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 182 - Already dict, after round_hours: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">leH</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 182 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:main:üîç [DATA INTEGRITY] Project 182 - Preserved raw dict for VideoLessonPresentationDisplay to prevent slides‚ÜícontentBlocks corruption
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Sending slide-based response to frontend for Project 182:
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response component_name: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response details type: <class 'dict'>
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has slides: True
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has contentBlocks: False
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ FIXED: Slides array preserved with 1 slides
custom_backend-1  | INFO:     172.18.0.10:50138 - "GET /api/custom/projects/view/182 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.10:50134 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 182
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-14T14:58:32.122396
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">H</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Project 182 - Checking for courseOutlineTableHeaders in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Has courseOutlineTableHeaders: False
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ‚ùå courseOutlineTableHeaders NOT FOUND in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 182 - Storing content to DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">H</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 182
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">H</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 182]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-14T14:58:32.171246
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 182, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Step to analyze the market', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Step to analyze the market', 'microproduct_content': {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">H</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-14T14:58:32.185527
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Project 182 - Verifying saved content
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Saved content keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Has courseOutlineTableHeaders: False
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] ‚ö†Ô∏è courseOutlineTableHeaders NOT FOUND in saved database content!
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] This means the data was NOT persisted to database
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] Saved content contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 182 - Retrieved content from DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">H</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 182 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 182
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=182 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Step to analyze the market' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Step to analyze the market' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='cherry') design_template_id=2 created_at=datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-14T14:58:32.187261
custom_backend-1  | INFO:     172.18.0.10:34338 - "PUT /api/custom/projects/update/182 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 182
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-14T14:58:32.554958
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">eH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Project 182 - Checking for courseOutlineTableHeaders in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Has courseOutlineTableHeaders: False
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ‚ùå courseOutlineTableHeaders NOT FOUND in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 182 - Storing content to DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">eH</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 182
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">eH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 182]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-14T14:58:32.605472
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 182, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Step to analyze the market', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Step to analyze the market', 'microproduct_content': {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">eH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-14T14:58:32.609138
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Project 182 - Verifying saved content
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Saved content keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Has courseOutlineTableHeaders: False
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] ‚ö†Ô∏è courseOutlineTableHeaders NOT FOUND in saved database content!
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] This means the data was NOT persisted to database
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] Saved content contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 182 - Retrieved content from DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">eH</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 182 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 182
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=182 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Step to analyze the market' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Step to analyze the market' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='cherry') design_template_id=2 created_at=datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-14T14:58:32.611361
custom_backend-1  | INFO:     172.18.0.10:34340 - "PUT /api/custom/projects/update/182 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 182
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-14T14:58:32.716294
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">leH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Project 182 - Checking for courseOutlineTableHeaders in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Has courseOutlineTableHeaders: False
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ‚ùå courseOutlineTableHeaders NOT FOUND in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 182 - Storing content to DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">leH</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 182
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">leH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 182]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-14T14:58:32.767896
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 182, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Step to analyze the market', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Step to analyze the market', 'microproduct_content': {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">leH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-14T14:58:32.775014
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Project 182 - Verifying saved content
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Saved content keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Has courseOutlineTableHeaders: False
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] ‚ö†Ô∏è courseOutlineTableHeaders NOT FOUND in saved database content!
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] This means the data was NOT persisted to database
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] Saved content contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 182 - Retrieved content from DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">leH</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 182 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 182
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=182 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Step to analyze the market' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Step to analyze the market' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='cherry') design_template_id=2 created_at=datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-14T14:58:32.777368
custom_backend-1  | INFO:     172.18.0.10:34342 - "PUT /api/custom/projects/update/182 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 182
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-14T14:58:32.947276
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">lleH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 182
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-14T14:58:32.994099
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">alleH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Project 182 - Checking for courseOutlineTableHeaders in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Has courseOutlineTableHeaders: False
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ‚ùå courseOutlineTableHeaders NOT FOUND in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 182 - Storing content to DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">lleH</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 182
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">lleH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 182]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-14T14:58:33.013590
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 182, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Step to analyze the market', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Step to analyze the market', 'microproduct_content': {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">lleH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-14T14:58:33.018220
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Project 182 - Verifying saved content
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Saved content keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Has courseOutlineTableHeaders: False
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] ‚ö†Ô∏è courseOutlineTableHeaders NOT FOUND in saved database content!
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] This means the data was NOT persisted to database
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] Saved content contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 182 - Retrieved content from DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">lleH</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 182 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 182
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=182 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Step to analyze the market' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Step to analyze the market' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='cherry') design_template_id=2 created_at=datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-14T14:58:33.019716
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:34348 - "PUT /api/custom/projects/update/182 HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Project 182 - Checking for courseOutlineTableHeaders in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Has courseOutlineTableHeaders: False
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ‚ùå courseOutlineTableHeaders NOT FOUND in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 182 - Storing content to DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">alleH</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 182
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">alleH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 182]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-14T14:58:33.037508
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 182, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Step to analyze the market', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Step to analyze the market', 'microproduct_content': {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">alleH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-14T14:58:33.063255
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Project 182 - Verifying saved content
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Saved content keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Has courseOutlineTableHeaders: False
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] ‚ö†Ô∏è courseOutlineTableHeaders NOT FOUND in saved database content!
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] This means the data was NOT persisted to database
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] Saved content contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 182 - Retrieved content from DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">alleH</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 182 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 182
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=182 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Step to analyze the market' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Step to analyze the market' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='cherry') design_template_id=2 created_at=datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-14T14:58:33.065281
custom_backend-1  | INFO:     172.18.0.10:34362 - "PUT /api/custom/projects/update/182 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 182
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-14T14:58:33.089428
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">salleH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Project 182 - Checking for courseOutlineTableHeaders in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Has courseOutlineTableHeaders: False
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ‚ùå courseOutlineTableHeaders NOT FOUND in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 182 - Storing content to DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">salleH</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 182
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">salleH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 182]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-14T14:58:33.129252
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 182, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Step to analyze the market', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Step to analyze the market', 'microproduct_content': {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">salleH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-14T14:58:33.146004
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Project 182 - Verifying saved content
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Saved content keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Has courseOutlineTableHeaders: False
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] ‚ö†Ô∏è courseOutlineTableHeaders NOT FOUND in saved database content!
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] This means the data was NOT persisted to database
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] Saved content contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 182 - Retrieved content from DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">salleH</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 182 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 182
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=182 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Step to analyze the market' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Step to analyze the market' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='cherry') design_template_id=2 created_at=datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-14T14:58:33.147652
custom_backend-1  | INFO:     172.18.0.10:34372 - "PUT /api/custom/projects/update/182 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 182
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-14T14:58:33.169804
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">dsalleH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Project 182 - Checking for courseOutlineTableHeaders in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Has courseOutlineTableHeaders: False
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ‚ùå courseOutlineTableHeaders NOT FOUND in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 182 - Storing content to DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">dsalleH</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 182
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">dsalleH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 182]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-14T14:58:33.209023
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 182, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Step to analyze the market', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Step to analyze the market', 'microproduct_content': {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1">dsalleH</div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-14T14:58:33.212833
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Project 182 - Verifying saved content
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Saved content keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Has courseOutlineTableHeaders: False
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] ‚ö†Ô∏è courseOutlineTableHeaders NOT FOUND in saved database content!
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] This means the data was NOT persisted to database
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] Saved content contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 182 - Retrieved content from DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\">dsalleH</div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 182 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 182
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=182 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Step to analyze the market' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Step to analyze the market' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='cherry') design_template_id=2 created_at=datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-14T14:58:33.214251
custom_backend-1  | INFO:     172.18.0.10:34374 - "PUT /api/custom/projects/update/182 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 182
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-14T14:58:33.904232
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1"><br></div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Project 182 - Checking for courseOutlineTableHeaders in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Has courseOutlineTableHeaders: False
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ‚ùå courseOutlineTableHeaders NOT FOUND in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 182 - Storing content to DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\"><br></div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 182
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1"><br></div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 182]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-14T14:58:33.935247
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 182, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Step to analyze the market', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Step to analyze the market', 'microproduct_content': {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1"><br></div>'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760113581774-qa5zdt2gl', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-14T14:58:33.948689
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Project 182 - Verifying saved content
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Saved content keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Has courseOutlineTableHeaders: False
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] ‚ö†Ô∏è courseOutlineTableHeaders NOT FOUND in saved database content!
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] This means the data was NOT persisted to database
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] Saved content contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 182 - Retrieved content from DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\"><br></div>"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 182 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 182
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=182 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Step to analyze the market' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Step to analyze the market' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='cherry') design_template_id=2 created_at=datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-14T14:58:33.950795
custom_backend-1  | INFO:     172.18.0.10:34390 - "PUT /api/custom/projects/update/182 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] ===========================================
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Project ID: 182
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Timestamp: 2025-10-14T14:58:48.505185
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] Request data type: <class 'main.ProjectUpdateRequest'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductName: None
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent type: <class 'dict'>
custom_backend-1  | INFO:main:üîÑ [PROJECT UPDATE START] MicroProductContent data: {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1"><br></div>'}, {'slideId': 'slide-1760453924914-sawgi1jo8', 'slideNumber': 2, 'templateId': 'avatar-service-slide', 'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'subtitle': '', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'avatarPath': '', 'avatarAlt': 'Avatar', 'backgroundColor': '#ffffff', 'titleColor': '#e91e63', 'subtitleColor': '#000000', 'contentColor': '#e91e63', 'companyName': 'Company name'}, 'metadata': {'createdAt': '2025-10-14T14:58:44.914Z', 'version': '1.0'}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760453924914-sawgi1jo8', 'detectedLanguage': 'en'}
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Project 182 - Checking for courseOutlineTableHeaders in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Has courseOutlineTableHeaders: False
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ‚ùå courseOutlineTableHeaders NOT FOUND in payload
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] Payload contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER BACKEND] ==========================================
custom_backend-1  | INFO:main:üíæ [BACKEND SAVE] Project 182 - Storing content to DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\"><br></div>"
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "slideId": "slide-1760453924914-sawgi1jo8",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "backgroundColor": "#ffffff",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name"
custom_backend-1  |       },
custom_backend-1  |       "metadata": {
custom_backend-1  |         "createdAt": "2025-10-14T14:58:44.914Z",
custom_backend-1  |         "version": "1.0"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430"
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760453924914-sawgi1jo8",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Project ID: 182
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] User ID: b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Query type: UPDATE
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Table: projects
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update clauses: ['microproduct_content = $1']
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Update values: [{'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1"><br></div>'}, {'slideId': 'slide-1760453924914-sawgi1jo8', 'slideNumber': 2, 'templateId': 'avatar-service-slide', 'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'subtitle': '', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'avatarPath': '', 'avatarAlt': 'Avatar', 'backgroundColor': '#ffffff', 'titleColor': '#e91e63', 'subtitleColor': '#000000', 'contentColor': '#e91e63', 'companyName': 'Company name'}, 'metadata': {'createdAt': '2025-10-14T14:58:44.914Z', 'version': '1.0'}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞'}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760453924914-sawgi1jo8', 'detectedLanguage': 'en'}, 182]
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Full query: UPDATE projects SET microproduct_content = $1 WHERE id = $2 RETURNING id, onyx_user_id, project_name, product_type, microproduct_type, microproduct_name, microproduct_content, design_template_id, created_at, custom_rate, quality_tier, is_advanced, advanced_rates;
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION START] Timestamp: 2025-10-14T14:58:48.569609
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] ===========================================
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Query executed successfully
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Rows affected: True
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Returned data: {'id': 182, 'onyx_user_id': 'b9ad451e-4c02-4008-9965-d5931ff02aa0', 'project_name': 'Step to analyze the market', 'product_type': 'Video Lesson Presentation', 'microproduct_type': 'Video Lesson Presentation', 'microproduct_name': 'Step to analyze the market', 'microproduct_content': {'slides': [{'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': 'Hello', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760113581774-qa5zdt2gl', 'metadata': {'version': '1.0', 'createdAt': '2025-10-10T16:26:21.774Z', 'updatedAt': '2025-10-13T15:22:51.424Z', 'canvasDimensions': {'width': 719.9999389648438, 'height': 359.9999694824219, 'aspectRatio': 2}, 'elementPositions': {'draggable-slide-1760113581774-qa5zdt2gl-0': {'x': -40, 'y': -53}, 'draggable-slide-1760113581774-qa5zdt2gl-1': {'x': -24, 'y': 14}, 'draggable-slide-1760113581774-qa5zdt2gl-2': {'x': -30, 'y': -161}}}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2, 'voiceoverText': '<div bis_skin_checked="1"><br></div>'}, {'props': {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'companyName': 'Company name', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'backgroundColor': '#ffffff'}, 'slideId': 'slide-1760453924914-sawgi1jo8', 'metadata': {'version': '1.0', 'createdAt': '2025-10-14T14:58:44.914Z'}, 'slideTitle': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'templateId': 'avatar-service-slide', 'slideNumber': 2}], 'lessonTitle': 'Step to analyze the market', 'hasVoiceover': True, 'currentSlideId': 'slide-1760453924914-sawgi1jo8', 'detectedLanguage': 'en'}, 'design_template_id': 2, 'created_at': datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc), 'custom_rate': None, 'quality_tier': None, 'is_advanced': False, 'advanced_rates': None}
custom_backend-1  | INFO:main:üíæ [DATABASE TRANSACTION RESULT] Timestamp: 2025-10-14T14:58:48.574150
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Project 182 - Verifying saved content
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Saved content keys: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] Has courseOutlineTableHeaders: False
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] ‚ö†Ô∏è courseOutlineTableHeaders NOT FOUND in saved database content!
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] This means the data was NOT persisted to database
custom_backend-1  | WARNING:main:üéØ [TABLE HEADER DB VERIFY] Saved content contains: ['slides', 'lessonTitle', 'hasVoiceover', 'currentSlideId', 'detectedLanguage']
custom_backend-1  | INFO:main:üéØ [TABLE HEADER DB VERIFY] ==========================================
custom_backend-1  | INFO:main:üì• [BACKEND RETRIEVE] Project 182 - Retrieved content from DB: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "Hello",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760113581774-qa5zdt2gl",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-10T16:26:21.774Z",
custom_backend-1  |         "updatedAt": "2025-10-13T15:22:51.424Z",
custom_backend-1  |         "canvasDimensions": {
custom_backend-1  |           "width": 719.9999389648438,
custom_backend-1  |           "height": 359.9999694824219,
custom_backend-1  |           "aspectRatio": 2
custom_backend-1  |         },
custom_backend-1  |         "elementPositions": {
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-0": {
custom_backend-1  |             "x": -40,
custom_backend-1  |             "y": -53
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-1": {
custom_backend-1  |             "x": -24,
custom_backend-1  |             "y": 14
custom_backend-1  |           },
custom_backend-1  |           "draggable-slide-1760113581774-qa5zdt2gl-2": {
custom_backend-1  |             "x": -30,
custom_backend-1  |             "y": -161
custom_backend-1  |           }
custom_backend-1  |         }
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2,
custom_backend-1  |       "voiceoverText": "<div bis_skin_checked=\"1\"><br></div>"
custom_backend-1  |     },
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |         "content": "\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0440\u0430\u0437\u0431\u0435\u0440\u0451\u043c, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441 \u0442\u0451\u043f\u043b\u044b\u043c, \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u044e\u0449\u0438\u043c\u0441\u044f",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "companyName": "Company name",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1760453924914-sawgi1jo8",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-10-14T14:58:44.914Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 2
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Step to analyze the market",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1760453924914-sawgi1jo8",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üîß [BACKEND VALIDATION] Project 182 - About to validate with component: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üì§ [API RESPONSE] ===========================================
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Project ID: 182
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response status: 200 OK
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Response data: id=182 onyx_user_id='b9ad451e-4c02-4008-9965-d5931ff02aa0' project_name='Step to analyze the market' product_type='Video Lesson Presentation' microproduct_type='Video Lesson Presentation' microproduct_name='Step to analyze the market' microproduct_content=TrainingPlanDetails(mainTitle=None, sections=[], detectedLanguage='en', displayOptions=None, theme='cherry') design_template_id=2 created_at=datetime.datetime(2025, 10, 10, 16, 13, 34, 274092, tzinfo=datetime.timezone.utc) custom_rate=None quality_tier=None is_advanced=None advanced_rates=None completion_times=None
custom_backend-1  | INFO:main:üì§ [API RESPONSE] Timestamp: 2025-10-14T14:58:48.576632
custom_backend-1  | INFO:     172.18.0.10:47738 - "PUT /api/custom/projects/update/182 HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] ========== PRESENTATION REQUEST RECEIVED ==========
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] Received presentation request parameters:
custom_backend-1  | INFO:main:  - slide_url: None
custom_backend-1  | INFO:main:  - voiceover_texts_count: 1
custom_backend-1  | INFO:main:  - slides_data_count: 1
custom_backend-1  | INFO:main:  - theme: dark-purple
custom_backend-1  | INFO:main:  - avatar_code: gia.business
custom_backend-1  | INFO:main:  - use_avatar_mask: True
custom_backend-1  | INFO:main:  - duration: 30
custom_backend-1  | INFO:main:  - layout: picture_in_picture
custom_backend-1  | INFO:main:  - quality: high
custom_backend-1  | INFO:main:  - resolution: [1920, 1080]
custom_backend-1  | INFO:main:  - project_name: Create your first AI video
custom_backend-1  | INFO:main:üé§ [MAIN_ENDPOINT] Voice parameters received:
custom_backend-1  | INFO:main:  - voice_id: en-US-BrianMultilingualNeural
custom_backend-1  | INFO:main:  - voice_provider: azure
custom_backend-1  | INFO:main:üé§ [MAIN_ENDPOINT] ========== VOICE PARAMETERS LOGGED ==========
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] Creating PresentationRequest object...
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] PresentationRequest created with use_avatar_mask: True
custom_backend-1  | INFO:main:üé§ [MAIN_ENDPOINT] PresentationRequest created with voice_id: en-US-BrianMultilingualNeural, voice_provider: azure
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_SERVICE] ========== PRESENTATION CREATION STARTED ==========
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_SERVICE] Job ID: a55d7e4d-6d65-4d7c-a45a-1ae126281800
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_SERVICE] Voice parameters received:
custom_backend-1  | INFO:app.services.presentation_service:  - voice_id: en-US-BrianMultilingualNeural
custom_backend-1  | INFO:app.services.presentation_service:  - voice_provider: azure
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_SERVICE] ========== VOICE PARAMETERS LOGGED ==========
custom_backend-1  | INFO:app.services.presentation_service:Created presentation job: a55d7e4d-6d65-4d7c-a45a-1ae126281800
custom_backend-1  | INFO:main:Returning immediate response for job a55d7e4d-6d65-4d7c-a45a-1ae126281800
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Starting presentation processing for job: a55d7e4d-6d65-4d7c-a45a-1ae126281800
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Request details:
custom_backend-1  | INFO:app.services.presentation_service:  - Slide URL:
custom_backend-1  | INFO:app.services.presentation_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.presentation_service:  - Duration: 30s
custom_backend-1  | INFO:app.services.presentation_service:  - Quality: high
custom_backend-1  | INFO:app.services.presentation_service:  - Layout: picture_in_picture
custom_backend-1  | INFO:app.services.presentation_service:  - Resolution: (1920, 1080)
custom_backend-1  | INFO:app.services.presentation_service:  - Avatar Code: gia.business
custom_backend-1  | INFO:app.services.presentation_service:  - Voiceover Texts Count: 1
custom_backend-1  | INFO:app.services.presentation_service:  - Slides Data Provided: True
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_PROCESSING] Voice parameters:
custom_backend-1  | INFO:app.services.presentation_service:  - Voice ID: en-US-BrianMultilingualNeural
custom_backend-1  | INFO:app.services.presentation_service:  - Voice Provider: azure
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_PROCESSING] ========== VOICE PARAMETERS LOGGED ==========
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Slides data analysis:
custom_backend-1  | INFO:app.services.presentation_service:  Slide 1:
custom_backend-1  | INFO:app.services.presentation_service:    - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.presentation_service:    - Slide ID: slide-1760453924914-sawgi1jo8
custom_backend-1  | INFO:app.services.presentation_service:    - Props Keys: ['title', 'subtitle', 'content', 'avatarPath', 'avatarAlt', 'backgroundColor', 'titleColor', 'subtitleColor', 'contentColor', 'companyName']
custom_backend-1  | INFO:app.services.presentation_service:    - Title: –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞
custom_backend-1  | INFO:app.services.presentation_service:    - Subtitle:
custom_backend-1  | INFO:app.services.presentation_service:    - Content: –°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è...
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Voiceover texts:
custom_backend-1  | INFO:app.services.presentation_service:  Text 1: Welcome to this professional presentation. We'll be exploring key concepts and insights that will he...
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job a55d7e4d-6d65-4d7c-a45a-1ae126281800: queued‚Üíprocessing, 0.0%‚Üí5.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-10-14T14:59:15.951423
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Status changed: queued ‚Üí processing
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 0.0% ‚Üí 5.0%
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Attempting to start heartbeat for job a55d7e4d-6d65-4d7c-a45a-1ae126281800
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Current event loop: <Task pending name='Task-286' coro=<ProfessionalPresentationService._process_presentation() running at /app/app/services/presentation_service.py:317> cb=[_run_until_complete_cb() at /usr/local/lib/python3.9/asyncio/base_events.py:184]>
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Job exists in tracking: True
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Started heartbeat for job a55d7e4d-6d65-4d7c-a45a-1ae126281800 (interval: 30s)
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Step 1: Generating clean slide video for job a55d7e4d-6d65-4d7c-a45a-1ae126281800
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job a55d7e4d-6d65-4d7c-a45a-1ae126281800: processing‚Üíprocessing, 5.0%‚Üí10.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-10-14T14:59:15.952093
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 5.0% ‚Üí 10.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Using provided slide data with 1 slides
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Detailed slide data analysis:
custom_backend-1  | INFO:app.services.presentation_service:  üìÑ Slide 1 Details:
custom_backend-1  | INFO:app.services.presentation_service:    - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.presentation_service:    - Slide ID: slide-1760453924914-sawgi1jo8
custom_backend-1  | INFO:app.services.presentation_service:    - Props Type: <class 'dict'>
custom_backend-1  | INFO:app.services.presentation_service:    - Props Keys: ['title', 'subtitle', 'content', 'avatarPath', 'avatarAlt', 'backgroundColor', 'titleColor', 'subtitleColor', 'contentColor', 'companyName']
custom_backend-1  | INFO:app.services.presentation_service:    - Title: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞'
custom_backend-1  | INFO:app.services.presentation_service:    - Subtitle: ''
custom_backend-1  | INFO:app.services.presentation_service:    - Content: '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è...'
custom_backend-1  | INFO:app.services.presentation_service:    - Voiceover Text: 'N/A...'
custom_backend-1  | INFO:app.services.presentation_service:    - avatarPath:
custom_backend-1  | INFO:app.services.presentation_service:    - avatarAlt: Avatar
custom_backend-1  | INFO:app.services.presentation_service:    - backgroundColor: #ffffff
custom_backend-1  | INFO:app.services.presentation_service:    - titleColor: #e91e63
custom_backend-1  | INFO:app.services.presentation_service:    - subtitleColor: #000000
custom_backend-1  | INFO:app.services.presentation_service:    - contentColor: #e91e63
custom_backend-1  | INFO:app.services.presentation_service:    - companyName: Company name
custom_backend-1  | INFO:app.services.clean_video_generation_service:Clean Video Generation Service initialized
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] SINGLE-SLIDE MODE: Processing 1 slide
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Processing single slide presentation
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Generating clean slide video
custom_backend-1  | INFO:app.services.clean_video_generation_service:Generating video for avatar slide: avatar-service-slide
custom_backend-1  | INFO:     172.18.0.10:50080 - "POST /api/custom/presentations HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_assembly_service:Found FFmpeg at: ffmpeg
custom_backend-1  | INFO:app.services.video_assembly_service:Video Assembly Service initialized. FFmpeg: ffmpeg
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Creating video from 1 slides
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Parameters:
custom_backend-1  | INFO:app.services.video_assembly_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.video_assembly_service:  - Output path: output/clean_videos/avatar_slide_avatar-service-slide_20251014_145916.mp4
custom_backend-1  | INFO:app.services.video_assembly_service:  - Slide duration: 30
custom_backend-1  | INFO:app.services.video_assembly_service:  - Quality: high
custom_backend-1  | INFO:app.services.html_to_image_service:Using Playwright for HTML to PNG conversion (most reliable)
custom_backend-1  | INFO:app.services.html_to_image_service:HTML to Image Service initialized using: playwright
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Processing slide 1/1
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Slide 1 details:
custom_backend-1  | INFO:app.services.video_assembly_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.video_assembly_service:  - Props keys: ['slideId', 'slideNumber', 'templateId', 'props', 'metadata', 'slideTitle']
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideId: 'slide-1760453924914-sawgi1jo8...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideNumber: 2
custom_backend-1  | INFO:app.services.video_assembly_service:  - templateId: 'avatar-service-slide...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - props: {'title': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞', 'subtitle': '', 'content': '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è', 'avatarPath': '', 'avatarAlt': 'Avatar', 'backgroundColor': '#ffffff', 'titleColor': '#e91e63', 'subtitleColor': '#000000', 'contentColor': '#e91e63', 'companyName': 'Company name'}
custom_backend-1  | INFO:app.services.video_assembly_service:  - metadata: {'createdAt': '2025-10-14T14:58:44.914Z', 'version': '1.0'}
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideTitle: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞...'
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Converting slide 1 to PNG: /tmp/tmpq3_bljtm_slide_0.png
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Slide 1 metadata: {'createdAt': '2025-10-14T14:58:44.914Z', 'version': '1.0'}
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Converting slide to PNG
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Parameters:
custom_backend-1  | INFO:app.services.html_to_image_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_to_image_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.html_to_image_service:  - Output path: /tmp/tmpq3_bljtm_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:  - Props keys: ['title', 'subtitle', 'content', 'avatarPath', 'avatarAlt', 'backgroundColor', 'titleColor', 'subtitleColor', 'contentColor', 'companyName']
custom_backend-1  | INFO:app.services.html_to_image_service:  - Metadata: {'createdAt': '2025-10-14T14:58:44.914Z', 'version': '1.0'}
custom_backend-1  | INFO:app.services.html_to_image_service:  - title: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - subtitle: '...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - content: '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - avatarPath: '...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - avatarAlt: 'Avatar...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - backgroundColor: '#ffffff...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - titleColor: '#e91e63...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - subtitleColor: '#000000...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - contentColor: '#e91e63...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - companyName: 'Company name...'
custom_backend-1  | INFO:app.services.html_template_service:HTML Template Service initialized with template directory: /app/app/services/../../templates
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Generating HTML content...
custom_backend-1  | INFO:app.services.html_template_service:Validated props for avatar-service-slide: ['title', 'subtitle', 'content']
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Generating HTML for template: avatar-service-slide, theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Props received:
custom_backend-1  | INFO:app.services.html_template_service:  - Props type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Props keys: ['title', 'subtitle', 'content']
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Metadata received: {'createdAt': '2025-10-14T14:58:44.914Z', 'version': '1.0'}
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Slide ID received: None
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === TEXT ELEMENT POSITIONING ANALYSIS ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Input Data Check:
custom_backend-1  | INFO:app.services.html_template_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:  - Slide ID: None
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata content: {'createdAt': '2025-10-14T14:58:44.914Z', 'version': '1.0'}
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Element Positions found:
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions content: {}
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions keys: None
custom_backend-1  | WARNING:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚ö†Ô∏è NO ELEMENT POSITIONS FOUND IN METADATA
custom_backend-1  | INFO:app.services.html_template_service:  - title: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞...'
custom_backend-1  | INFO:app.services.html_template_service:  - subtitle: '...'
custom_backend-1  | INFO:app.services.html_template_service:  - content: '–°–µ–≥–æ–¥–Ω—è —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–µ—Ä–≤–∏—Å —Ç—ë–ø–ª—ã–º, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è...'
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Context data prepared:
custom_backend-1  | INFO:app.services.html_template_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata: {'createdAt': '2025-10-14T14:58:44.914Z', 'version': '1.0'}
custom_backend-1  | INFO:app.services.html_template_service:  - Slide ID: None
custom_backend-1  | INFO:app.services.html_template_service:  - Context keys: ['templateId', 'theme', 'metadata', 'slideId', 'title', 'subtitle', 'content']
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Context Data Check:
custom_backend-1  | INFO:app.services.html_template_service:  - Context metadata: {'createdAt': '2025-10-14T14:58:44.914Z', 'version': '1.0'}
custom_backend-1  | INFO:app.services.html_template_service:  - Context slideId: unknown-slide
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ö†Ô∏è No actual canvas dimensions in metadata, using design defaults
custom_backend-1  | INFO:app.services.html_template_service:   Fallback width: 1174px
custom_backend-1  | INFO:app.services.html_template_service:   Fallback height: 600px
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:üéØ [AVATAR-SERVICE] COORDINATE SCALING ANALYSIS
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:Template: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:Slide ID: None
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üìê Canvas Dimensions Analysis:
custom_backend-1  | INFO:app.services.html_template_service:  ACTUAL Editor Canvas (from metadata):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  1174.00px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 600.00px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.956667 (1174:600)
custom_backend-1  | INFO:app.services.html_template_service:    - Total Pixels: 704,400 (0.70 megapixels)
custom_backend-1  | INFO:app.services.html_template_service:    - Source: fallback defaults
custom_backend-1  | INFO:app.services.html_template_service:    - ‚ö†Ô∏è Using fallback - may cause positioning errors!
custom_backend-1  | INFO:app.services.html_template_service:  Design Editor Canvas (reference):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  1174px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 600px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.956667 (1.957:1)
custom_backend-1  | INFO:app.services.html_template_service:  Video Canvas (Backend):
custom_backend-1  | INFO:app.services.html_template_service:    - Width:  1920px
custom_backend-1  | INFO:app.services.html_template_service:    - Height: 1080px
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio: 1.777778 (1.778:1 - 16:9 standard)
custom_backend-1  | INFO:app.services.html_template_service:    - Total Pixels: 2,073,600 (2.07 megapixels)
custom_backend-1  | INFO:app.services.html_template_service:  Dimension Comparison:
custom_backend-1  | INFO:app.services.html_template_service:    - Width Ratio: 1.635434x larger
custom_backend-1  | INFO:app.services.html_template_service:    - Height Ratio: 1.800000x larger
custom_backend-1  | INFO:app.services.html_template_service:    - Aspect Ratio Mismatch: 0.178889
custom_backend-1  | INFO:app.services.html_template_service:    - ‚ö†Ô∏è Non-uniform scaling required (different X/Y factors)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üìè Scale Factors (using ACTUAL dimensions):
custom_backend-1  | INFO:app.services.html_template_service:  - SCALE_X: 1.635434 (1920/1174)
custom_backend-1  | INFO:app.services.html_template_service:  - SCALE_Y: 1.800000 (1080/600)
custom_backend-1  | INFO:app.services.html_template_service:  - Scale Factor Ratio: 1.100625 (Y is 10.06% larger)
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ö†Ô∏è No element positions found in metadata
custom_backend-1  | INFO:app.services.html_template_service:   Elements will use default layout positions
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
custom_backend-1  | INFO:app.services.html_template_service:
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === RENDERING TEMPLATE ===
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content generated successfully
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content length: 26847 characters
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === INJECTION FAILURE CHECK ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Raw HTML Output Analysis:
custom_backend-1  | ERROR:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚ùå NO POSITIONING CSS FOUND in HTML
custom_backend-1  | ERROR:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] This indicates positioning data was NOT injected
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] ‚úÖ positioned-element class found in HTML
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML snippet: <!DOCTYPE html>
custom_backend-1  | <html lang="en">
custom_backend-1  | <head>
custom_backend-1  |     <meta charset="UTF-8">
custom_backend-1  |     <meta name="viewport" content="width=device-width, initial-scale=1.0">
custom_backend-1  |     <title>Avatar Slide Template</title>
custom_backend-1  |
custom_backend-1  |     <link rel="preconnect" href="https://fonts.googleapis.com">
custom_backend-1  |     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
custom_backend-1  |     <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600;700&family=Martel+Sans:wght@400;600;700&family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
custom_backend-1  |
custom_backend-1  |     <style>
custom_backend-1  |         /* Reset and base styles */
custom_backend-1  |         html, body {
custom_backend-1  |             margin: 0;
custom_backend-1  |             padding: 0;
custom_backend-1  |             background: var(--bg-color, #110c35); /* Use theme background, not transparent */
custom_backend-1  |             width: 1920px;
custom_backend-1  |             height: 1080px;
custom_backend-1  |             overflow: hidden;
custom_backend-1  |             font-size: 16px; /* Reduced base font size for better scaling */
custom_backend-1  |         }
custom_backend-1  |
custom_backend-1  |         * {
custom_backend-1  |             mar...
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] === FINAL OUTPUT CHECK ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] Final HTML length: 26847 characters
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] HTML contains positioning: Falsecustom_backend-1  | INFO:app.services.html_template_service:üîç [TEXT_POSITIONING_DEBUG] HTML contains slideId: No slideId provided
custom_backend-1  | INFO:app.services.html_template_service:Generated clean HTML for video: avatar-service-slide
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] HTML content generated
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] HTML content length: 26847 characters
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Converting HTML to PNG...
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] =
========= HTML-TO-IMAGE CONVERSION STARTED ==========
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] T
imestamp: 2025-10-14 14:59:16
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] T
emplate ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] C
onversion method: playwright
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] T
arget dimensions: 1920x1080
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] O
utput path: /tmp/tmpq3_bljtm_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] H
TML content length: 26847 characters
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] H
TML preview (first 150 chars): <!DOCTYPE html>
custom_backend-1  | <html lang="en">
custom_backend-1  | <head>
custom_backend-1  |     <meta charset="UTF-8">
custom_backend-1  |     <meta name="viewport" content="width=device-width, initial-scale=1.0">
custom_backend-1  |     <tit...
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] =
== CONVERSION METHOD EXECUTION ===
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] A
ttempting Playwright conversion...
custom_backend-1  | INFO:app.services.html_to_image_service:Using Playwright for HTML to PNG conversion
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Heartbeat task started for job a55d7e4d-6d65-4d7c-a45a-1ae126281800
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Job a55d7e4d-6d65-4d7c-a45a-1ae126281800: status=processing, progress=10.0% (beat #1)
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Keeping connection alive - 2025-10-14T14:59:16.560114
custom_backend-1  | INFO:app.services.html_to_image_service:Using base URL for HTML rendering: http://localhost:8000
custom_backend-1  | INFO:     172.18.0.10:50082 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.html_to_image_service:Playwright conversion successful: 81064 bytes
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] ‚úÖ
 Playwright conversion successful in 2428.89ms
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] =
== FINAL VERIFICATION ===
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] ‚úÖ
 Output file created successfully
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] F
ile details:
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide]
 - path: /tmp/tmpq3_bljtm_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide]
 - size: 81064 bytes
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide]
 - modified: 2025-10-14 14:59:18
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide]
 - size category: MEDIUM
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide]
 - file header: 89504e470d0a1a0a0000000d49484452
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide]
 - valid PNG: True
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] =
== CONVERSION COMPLETED ===
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] T
otal processing time: 2429.35ms
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] M
ethod used: playwright
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] S
uccess status: True
custom_backend-1  | INFO:app.services.html_to_image_service:üñºÔ∏è [HTML_TO_IMAGE] [conv-1760453956-avatar-service-slide] F
ile size check: True
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] PNG conversion successful: /tmp/tmpq3_bljtm_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] PNG file size: 81064 bytes
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Generated PNG for slide 1: avatar-service-slide
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] PNG file size: 81064 bytes
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Saved debug slide image: output/presentations/slide_image_debug_1.png
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Successfully generated 1 PNG files
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] PNG files: ['/tmp/tmpq3_bljtm_slide_0.png']
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Creating video from PNGs...
custom_backend-1  | INFO:app.services.video_assembly_service:Creating video from 1 PNG images
custom_backend-1  | INFO:app.services.video_assembly_service:Running FFmpeg command: ffmpeg -y -f concat -safe 0 -i /tmp/tmp7vq19gr6.txt -vf fps=25,scale=1920:1080:force_original_aspect_ratio=decrease,pad=1920:1080:(ow-iw)/2:(oh-ih)/2:color=#110c35 -c:v libx264 -preset slow -crf 18 -pix_fmt yuv420p output/clean_videos/avatar_slide_avatar-service-slide_20251014_145916.mp4
custom_backend-1  | INFO:     172.18.0.10:49468 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:49474 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:49478 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:49494 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:49508 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:37894 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:37908 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:37916 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:37930 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:40076 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:40082 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:40094 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:40104 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_assembly_service:Video created successfully: output/clean_videos/avatar_slide_avatar-service-slide_20251014_145916.mp4 (308752 bytes)
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Video creation successful: output/clean_videos/avatar_slide_avatar-service-slide_20251014_145916.mp4
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Video file size: 308752 bytes
custom_backend-1  | INFO:app.services.clean_video_generation_service:Avatar slide video generated: output/clean_videos/avatar_slide_avatar-service-slide_20251014_145916.mp4 (308752 bytes)
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Slide video generated: output/clean_videos/avatar_slide_avatar-service-slide_20251014_145916.mp4
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job a55d7e4d-6d65-4d7c-a45a-1ae126281800: processing‚Üíprocessing, 10.0%‚Üí30.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-10-14T14:59:45.443872
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 10.0% ‚Üí 30.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Generating avatar video
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_AVATAR_VIDEO] Starting avatar video generation...
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_AVATAR_VIDEO] Parameters received:
custom_backend-1  | INFO:app.services.presentation_service:  - voiceover_texts_count: 1
custom_backend-1  | INFO:app.services.presentation_service:  - avatar_code: gia.business
custom_backend-1  | INFO:app.services.presentation_service:  - duration: 30
custom_backend-1  | INFO:app.services.presentation_service:  - use_avatar_mask: True
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_AVATAR_VIDEO] Using specified avatar: gia.business
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_AVATAR_VIDEO] Decision point: use_avatar_mask = True
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_AVATAR_VIDEO] DECISION: Using traditional Elai API generation
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_AVATAR_VIDEO] Video composition will use SimpleVideoComposer (OpenCV)
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_WITH_TRADITIONAL_METHOD] Starting traditional avatar generation method
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_WITH_TRADITIONAL_METHOD] Using Elai API + FFmpeg approach
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_WITH_TRADITIONAL_METHOD] Calling _try_generate_with_avatar...
custom_backend-1  | ERROR:app.services.presentation_service:Avatar video generation failed: name 'request' is not defined
custom_backend-1  | WARNING:app.services.presentation_service:Failed to generate video with avatar 'gia.business': name 'request' is not defined
custom_backend-1  | INFO:app.services.presentation_service:Trying with fallback avatar...
custom_backend-1  | ERROR:app.services.presentation_service:Avatar video generation failed: name 'request' is not defined
custom_backend-1  | ERROR:app.services.presentation_service:Failed to generate video with fallback avatar: name 'request' is not defined
custom_backend-1  | ERROR:app.services.presentation_service:Traditional avatar generation failed: Avatar video generation failed with both primary and fallback avatars: name 'request' is not defined
custom_backend-1  | ERROR:app.services.presentation_service:Avatar video generation failed: Avatar video generation failed with both primary and fallback avatars: name 'request' is not defined
custom_backend-1  | ERROR:app.services.presentation_service:Single slide processing failed: Avatar video generation failed with both primary and fallback avatars: name 'request' is not defined
custom_backend-1  | ERROR:app.services.presentation_service:Presentation processing failed: Avatar video generation failed with both primary and fallback avatars: name 'request' is not defined
custom_backend-1  | ERROR:app.services.presentation_service:üé¨ [PRESENTATION_FAILED] Presentation a55d7e4d-6d65-4d7c-a45a-1ae126281800 failed: Avatar video generation failed with both primary and fallback avatars: name 'request' is not defined
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job a55d7e4d-6d65-4d7c-a45a-1ae126281800: processing‚Üífailed, 30.0%‚Üí30.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-10-14T14:59:45.445155
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Status changed: processing ‚Üí failed
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Stopped heartbeat for job a55d7e4d-6d65-4d7c-a45a-1ae126281800
custom_backend-1  | ERROR:app.services.presentation_service:üé¨ [PRESENTATION_FAILED] Job a55d7e4d-6d65-4d7c-a45a-1ae126281800 marked as failed, heartbeat stopped
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Heartbeat task cancelled for job a55d7e4d-6d65-4d7c-a45a-1ae126281800 after 1 beats
custom_backend-1  | INFO:     172.18.0.10:40118 - "GET /api/custom/presentations/a55d7e4d-6d65-4d7c-a45a-1ae126281800 HTTP/1.1" 200 OK