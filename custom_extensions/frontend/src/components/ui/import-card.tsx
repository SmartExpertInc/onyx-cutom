import React from "react";
import Link from "next/link";
import { cn } from "@/lib/utils";

interface ImportCardProps {
  icon: React.ReactNode; // Changed to accept custom icon SVGs
  title: string;
  features: string[];
  href?: string;
  onClick?: (e: React.MouseEvent) => void;
  className?: string;
}

// Custom tick icon
const TickIcon: React.FC = () => (
  <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12.458 4.89355C12.535 4.94398 12.5562 5.04706 12.5059 5.12402L7.97266 12.0576C7.94602 12.0982 7.90302 12.1256 7.85449 12.1318C7.80635 12.138 7.75782 12.1225 7.72168 12.0898L4.78809 9.42285C4.72004 9.36099 4.71463 9.25562 4.77637 9.1875C4.83828 9.11939 4.94362 9.11486 5.01172 9.17676L7.36719 11.3174L7.80078 11.7119L8.12207 11.2207L12.2275 4.94141C12.278 4.86465 12.3811 4.84327 12.458 4.89355Z" fill="#71717A" stroke="#71717A"/>
  </svg>
);

// Custom icon components
export const UploadFileIcon: React.FC = () => (
  <svg width="60" height="61" viewBox="0 0 60 61" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M44.0625 9.875H15.9375C14.9667 9.875 14.1797 9.08797 14.1797 8.11719C14.1797 7.14641 14.9667 6.35938 15.9375 6.35938H44.0625C45.0333 6.35938 45.8203 7.14641 45.8203 8.11719C45.8203 9.08797 45.0333 9.875 44.0625 9.875ZM45.8203 16.3203C45.8203 15.3495 45.0333 14.5625 44.0625 14.5625H30C29.0292 14.5625 28.2422 15.3495 28.2422 16.3203C28.2422 17.2911 29.0292 18.0781 30 18.0781H44.0625C45.0333 18.0781 45.8203 17.2911 45.8203 16.3203ZM60 58.7422V25.9297C60 24.9589 59.213 24.1719 58.2422 24.1719H26.2533L22.0876 17.9234C21.7616 17.4344 21.2128 17.1406 20.625 17.1406H6.5625C5.59172 17.1406 4.80469 17.9277 4.80469 18.8984V24.1719H1.75781C0.787031 24.1719 0 24.9589 0 25.9297V58.7422C0 59.713 0.787031 60.5 1.75781 60.5H58.2422C59.213 60.5 60 59.713 60 58.7422Z" fill="#EFB4FB"/>
    <path d="M49.9219 0.5H10.0781C9.10734 0.5 8.32031 1.28703 8.32031 2.25781V17.1406H20.625C21.2127 17.1406 21.7616 17.4344 22.0876 17.9233L26.2533 24.1719H51.6797V2.25781C51.6797 1.28703 50.8927 0.5 49.9219 0.5ZM44.0625 18.0781H30C29.0292 18.0781 28.2422 17.2911 28.2422 16.3203C28.2422 15.3495 29.0292 14.5625 30 14.5625H44.0625C45.0333 14.5625 45.8203 15.3495 45.8203 16.3203C45.8203 17.2911 45.0333 18.0781 44.0625 18.0781ZM44.0625 9.875H15.9375C14.9667 9.875 14.1797 9.08797 14.1797 8.11719C14.1797 7.14641 14.9667 6.35938 15.9375 6.35938H44.0625C45.0333 6.35938 45.8203 7.14641 45.8203 8.11719C45.8203 9.08797 45.0333 9.875 44.0625 9.875ZM16.9922 54.6406H7.61719C6.64641 54.6406 5.85938 53.8536 5.85938 52.8828C5.85938 51.912 6.64641 51.125 7.61719 51.125H16.9922C17.963 51.125 18.75 51.912 18.75 52.8828C18.75 53.8536 17.963 54.6406 16.9922 54.6406ZM16.9922 47.6094H7.61719C6.64641 47.6094 5.85938 46.8223 5.85938 45.8516C5.85938 44.8808 6.64641 44.0938 7.61719 44.0938H16.9922C17.963 44.0938 18.75 44.8808 18.75 45.8516C18.75 46.8223 17.963 47.6094 16.9922 47.6094Z" fill="#D817FF"/>
    <rect x="14.0625" y="6.35938" width="32.9297" height="3.51562" rx="1.75781" fill="white"/>
    <rect x="27.1875" y="14.6797" width="19.8047" height="3.51562" rx="1.75781" fill="white"/>
    <rect x="5.85938" y="44.0938" width="13.3594" height="3.51562" rx="1.75781" fill="white"/>
    <rect x="5.85938" y="50.8906" width="13.3594" height="3.51562" rx="1.75781" fill="white"/>
  </svg>
);

export const KnowledgeBaseIcon: React.FC = () => (
  <svg width="60" height="61" viewBox="0 0 60 61" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M52.988 45.331C52.946 45.0987 52.824 44.8885 52.6431 44.7369C52.4623 44.5853 52.234 44.5018 51.998 44.501H41.3285C41.1535 44.4996 40.9813 44.5452 40.83 44.6332C40.6787 44.7212 40.5538 44.8482 40.4685 45.001L39.0086 47.5009C38.8321 47.8036 38.5797 48.055 38.2763 48.2304C37.9729 48.4057 37.6291 48.499 37.2787 48.5009H22.7193C22.3701 48.4988 22.0274 48.4066 21.7243 48.2331C21.4212 48.0597 21.1681 47.8109 20.9894 47.5109L19.5295 45.001C19.4442 44.8482 19.3193 44.7211 19.168 44.6332C19.0167 44.5452 18.8445 44.4995 18.6695 44.501H8C7.764 44.5018 7.53574 44.5853 7.35488 44.7369C7.17402 44.8885 7.052 45.0987 7.01 45.3309C7 45.391 7 53.5006 7 53.5006C7.00047 54.8265 7.52739 56.0979 8.46494 57.0355C9.40248 57.973 10.6739 58.4999 11.9998 58.5004H47.9982C49.3241 58.4999 50.5955 57.973 51.5331 57.0355C52.4706 56.0979 52.9975 54.8265 52.998 53.5006C52.998 53.5006 52.998 45.391 52.988 45.331ZM34.9988 54.5006H24.9992C24.7367 54.4966 24.4862 54.3895 24.3019 54.2024C24.1176 54.0153 24.0143 53.7632 24.0144 53.5006C24.0144 53.238 24.1177 52.9859 24.3019 52.7988C24.4862 52.6117 24.7367 52.5046 24.9993 52.5007H34.9988C35.2614 52.5047 35.5118 52.6118 35.6961 52.7989C35.8804 52.9859 35.9837 53.238 35.9837 53.5006C35.9837 53.7632 35.8804 54.0153 35.6961 54.2024C35.5118 54.3895 35.2614 54.4966 34.9988 54.5006Z" fill="#0F58F9"/>
    <path d="M20.3192 9.8722V22.5016C20.3187 22.6331 20.3443 22.7633 20.3944 22.8849C20.4445 23.0064 20.5181 23.1168 20.611 23.2098C20.704 23.3027 20.8144 23.3764 20.9359 23.4264C21.0575 23.4765 21.1877 23.5021 21.3191 23.5016H26.6789C26.8103 23.5021 26.9406 23.4765 27.0621 23.4265C27.1836 23.3764 27.2941 23.3027 27.387 23.2098C27.48 23.1168 27.5536 23.0064 27.6037 22.8849C27.6538 22.7633 27.6793 22.6331 27.6789 22.5016V9.8722H29.3687C29.5647 9.86754 29.7551 9.80609 29.9169 9.69532C30.0786 9.58454 30.2047 9.4292 30.2799 9.24815C30.3551 9.06709 30.3761 8.86811 30.3404 8.67535C30.3046 8.4826 30.2137 8.30435 30.0787 8.16226L24.709 2.79251C24.5202 2.60514 24.265 2.5 23.999 2.5C23.733 2.5 23.4778 2.60514 23.289 2.79251L17.9193 8.16226C17.7465 8.33928 17.6449 8.5737 17.6338 8.82082C17.6228 9.06794 17.703 9.3105 17.8593 9.50226C18.2516 10.0962 19.6171 9.81038 20.3192 9.8722Z" fill="#8FCDFA"/>
    <path d="M18.6697 42.5004C19.2029 42.4993 19.7266 42.6417 20.1858 42.9126C20.645 43.1836 21.0228 43.5731 21.2797 44.0404L22.7195 46.5003H37.2789L38.7388 43.9904C39.0004 43.5354 39.3779 43.1578 39.8328 42.8961C40.2878 42.6344 40.8039 42.4979 41.3287 42.5004H51.9982C52.1694 42.5022 52.34 42.5189 52.5082 42.5504L47.5584 13.6517C47.3578 12.4899 46.7531 11.4362 45.8511 10.6769C44.949 9.91763 43.8077 9.50147 42.6287 9.50195H41.6787V14.1517C42.2357 14.2169 42.7636 14.4358 43.2032 14.784C43.6429 15.1322 43.9769 15.5959 44.1679 16.1232C44.3588 16.6506 44.3993 17.2206 44.2846 17.7696C44.1699 18.3186 43.9046 18.8248 43.5185 19.2315L38.1188 24.6213C37.5608 25.1754 36.8084 25.4896 36.022 25.4971C35.2357 25.5045 34.4775 25.2046 33.909 24.6612L29.6792 20.4214V22.5014C29.6769 23.2963 29.3601 24.0579 28.798 24.62C28.2359 25.1821 27.4743 25.4989 26.6794 25.5012H21.3196C20.5247 25.4989 19.7631 25.1821 19.201 24.62C18.6389 24.0579 18.3221 23.2963 18.3198 22.5014V11.8518C17.7389 11.7894 17.1888 11.5596 16.7361 11.1904C16.2834 10.8211 15.9478 10.3283 15.7699 9.77188C14.9155 10.0563 14.1543 10.5675 13.5678 11.2508C12.9814 11.9342 12.5915 12.764 12.44 13.6517L7.49023 42.5504C7.65845 42.5189 7.8291 42.5022 8.00023 42.5004L18.6697 42.5004Z" fill="#0F58F9"/>
    <path d="M29.7094 16.7523C29.6333 16.9345 29.6126 17.1351 29.65 17.329C29.6873 17.5228 29.781 17.7014 29.9194 17.8422L35.2891 23.212C35.479 23.3973 35.7338 23.501 35.9991 23.501C36.2644 23.501 36.5192 23.3973 36.7091 23.212L42.0789 17.8422C42.2173 17.7015 42.3111 17.5229 42.3485 17.329C42.3858 17.1351 42.3651 16.9345 42.2888 16.7523C41.9361 15.8162 40.5616 16.2099 39.6789 16.1323V3.50294C39.6794 3.37149 39.6538 3.24125 39.6038 3.11972C39.5537 2.99819 39.48 2.88777 39.3871 2.79482C39.2941 2.70187 39.1837 2.62822 39.0622 2.57813C38.9407 2.52803 38.8104 2.50248 38.679 2.50294H33.3192C33.1878 2.50247 33.0575 2.52802 32.936 2.57811C32.8144 2.6282 32.704 2.70185 32.6111 2.7948C32.5181 2.88775 32.4445 2.99817 32.3944 3.11971C32.3443 3.24124 32.3187 3.37148 32.3192 3.50294V16.1324C31.4362 16.2113 30.0668 15.8135 29.7094 16.7523Z" fill="#8FCDFA"/>
  </svg>
);

export const ImportURLIcon: React.FC = () => (
  <svg width="60" height="47" viewBox="0 0 60 47" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M58.2422 0.648438H1.75781C0.77332 0.648438 0 1.42176 0 2.40625V11.1953L3.51562 14.7109H56.4844L60 11.1953V2.40625C60 1.42176 59.2267 0.648438 58.2422 0.648438Z" fill="#C1FDF7"/>
    <path d="M8.90625 7.67969C9.87703 7.67969 10.6641 6.89266 10.6641 5.92188C10.6641 4.95109 9.87703 4.16406 8.90625 4.16406C7.93547 4.16406 7.14844 4.95109 7.14844 5.92188C7.14844 6.89266 7.93547 7.67969 8.90625 7.67969ZM15.9375 7.67969C16.9083 7.67969 17.6953 6.89266 17.6953 5.92188C17.6953 4.95109 16.9083 4.16406 15.9375 4.16406C14.9667 4.16406 14.1797 4.95109 14.1797 5.92188C14.1797 6.89266 14.9667 7.67969 15.9375 7.67969ZM22.9688 7.67969C23.9395 7.67969 24.7266 6.89266 24.7266 5.92188C24.7266 4.95109 23.9395 4.16406 22.9688 4.16406C21.998 4.16406 21.2109 4.95109 21.2109 5.92188C21.2109 6.89266 21.998 7.67969 22.9688 7.67969ZM0 11.1953V44.5938C0 45.5782 0.77332 46.3516 1.75781 46.3516H11.4025C11.0727 45.1974 10.8947 44.0215 10.7859 42.8359H14.3354C14.4749 44.0324 14.7039 45.2184 15.1289 46.3516H21.5273C21.3868 45.2266 21.3634 44.0236 21.3164 42.8359H24.7814C24.8305 44.0324 24.9128 45.2184 25.078 46.3516H34.9219C35.0871 45.2184 35.1693 44.0324 35.2185 42.8359H38.6835C38.6365 44.0236 38.613 45.2266 38.4725 46.3516H44.9061C45.3093 45.2366 45.5323 44.0466 45.6688 42.8359H49.2154C49.1072 44.0358 48.9288 45.2155 48.5975 46.3516H58.2422C59.2267 46.3516 60 45.5782 60 44.5938V11.1953H0Z" fill="#4CFFF0"/>
    <path d="M47.7539 33.4141C47.7188 33.3789 47.7188 33.3436 47.7188 33.3085C47.6838 33.2383 47.6134 33.168 47.5782 33.0624C44.5195 26.3828 37.8046 21.7422 30 21.7422C22.1954 21.7422 15.4805 26.3828 12.4219 33.0624C12.3867 33.168 12.3163 33.2383 12.2814 33.3085C12.2814 33.3436 12.2814 33.3789 12.2462 33.4141C11.2264 35.7343 10.6641 38.371 10.6641 41.0781C10.6641 42.8711 10.9102 44.6289 11.4025 46.3516H15.129C14.4962 44.6642 14.1797 42.8711 14.1797 41.0781C14.1797 39.2147 14.4962 37.4569 15.0938 35.8047H21.5273C21.3164 37.5273 21.2108 39.3203 21.2108 41.0781C21.2108 42.8711 21.3164 44.6642 21.5273 46.3516H25.078C24.8321 44.6642 24.7266 42.8711 24.7266 41.0781C24.7266 39.1798 24.8321 37.422 25.078 35.8047H34.9219C35.1677 37.422 35.2733 39.1798 35.2733 41.0781C35.2733 42.8711 35.1677 44.6642 34.9219 46.3516H38.4725C38.6835 44.6642 38.7891 42.8711 38.7891 41.0781C38.7891 39.3203 38.6835 37.5273 38.4725 35.8047H44.9061C45.5038 37.4569 45.8202 39.2147 45.8202 41.0781C45.8202 42.9064 45.5037 44.6993 44.9061 46.3516H48.5975C49.0898 44.6642 49.3359 42.9064 49.3359 41.0781C49.3359 38.371 48.7736 35.7343 47.7539 33.4141ZM22.125 32.2891H16.8516C18.6445 29.6523 21.1757 27.578 24.1641 26.3828C23.2853 28.035 22.6173 30.0742 22.125 32.2891ZM25.7111 32.2891C26.8009 27.8241 28.5936 25.2578 30 25.2578C31.4064 25.2578 33.1991 27.8241 34.2889 32.2891H25.7111ZM37.875 32.2891C37.3828 30.0742 36.7148 28.035 35.8359 26.3828C38.8243 27.578 41.3555 29.6523 43.1484 32.2891H37.875Z" fill="white"/>
    <circle cx="9" cy="5.64844" r="2" fill="white"/>
    <circle cx="16" cy="5.64844" r="2" fill="white"/>
    <circle cx="23" cy="5.64844" r="2" fill="white"/>
  </svg>
);

const ImportCard = React.forwardRef<HTMLDivElement, ImportCardProps>(
  ({ icon, title, features, href, onClick, className }, ref) => {
    const cardContent = (
      <div
        ref={ref}
        className={cn(
          "group rounded-lg relative overflow-hidden transition-all duration-200 w-full h-full min-w-[380px]",
          "bg-white border-2 border-[#E0E0E0] shadow-md",
          "hover:bg-[#F2F8FF] hover:border-[#0F58F9] hover:shadow-xl",
          "active:bg-[#F2F8FF] active:border-[#0F58F9] active:shadow-xl",
          "cursor-pointer hover:[transform:scale(1.025)] active:[transform:scale(1.025)]",
          className
        )}
      >
        <div className="relative p-6 h-full flex flex-col items-center">
          {/* Icon section with opacity states */}
          <div className="flex items-center justify-center h-16 relative mb-4 opacity-50 group-hover:opacity-100 group-active:opacity-100 transition-opacity duration-200">
            {icon}
          </div>
          
          {/* Title */}
          <h3 
            className="text-2xl font-semibold text-center leading-tight tracking-[0.01em] transition-all duration-200 mb-4"
            style={{ color: '#797979' }}
          >
            {title}
          </h3>
          
          {/* Features list */}
          <div className="flex flex-row flex-wrap justify-center gap-x-4 gap-y-2">
            {features.map((feature, index) => (
              <div key={index} className="flex items-center gap-2 text-sm whitespace-nowrap" style={{ color: '#797979' }}>
                <TickIcon />
                <span>{feature}</span>
              </div>
            ))}
          </div>
        </div>
      </div>
    );

    if (href) {
      return (
        <Link href={href} onClick={onClick}>
          {cardContent}
        </Link>
      );
    }

    return (
      <div onClick={onClick}>
        {cardContent}
      </div>
    );
  }
);

ImportCard.displayName = "ImportCard";

export { ImportCard };

