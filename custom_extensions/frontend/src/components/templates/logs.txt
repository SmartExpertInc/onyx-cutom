frontend:
üé® Font styles applied to Chudo and Forta themes
page-ce99881ee81e0da1.js:1 üì• [FETCH DATA] Received from backend: {instanceData: {‚Ä¶}, instanceDataStringified: '{\n  "name": "Video Lesson Presentation",\n  "slug":‚Ä¶,\n  "custom_rate": null,\n  "quality_tier": null\n}', details: {‚Ä¶}, detailsStringified: '{\n  "lessonTitle": "AI Tools for Teachers",\n  "sli‚Ä¶ "hasVoiceover": true,\n  "theme": "dark-purple"\n}', componentName: 'VideoLessonPresentationDisplay',¬†‚Ä¶}
page-ce99881ee81e0da1.js:1 üîç RAW SLIDES DATA FROM BACKEND:
page-ce99881ee81e0da1.js:1 üìÑ Slide 1 (avatar-service-slide): {slideId: 'slide-1755874749050-nrvg5z753', templateId: 'avatar-service-slide', props: {‚Ä¶}}
page-ce99881ee81e0da1.js:1 ‚úÖ Component-based slides loaded with theme: {slideCount: 1, theme: 'dark-purple', themeColors: {‚Ä¶}, templates: Array(1)}
page-ce99881ee81e0da1.js:1 üé¨ Exposed slide data to window for video generation: {deck: {‚Ä¶}}
page-ce99881ee81e0da1.js:1 üé≠ [AVATAR_MANAGER] Fetching avatars from API...
page-ce99881ee81e0da1.js:1 üé≠ [AVATAR_MANAGER] Response status: 200
page-ce99881ee81e0da1.js:1 üé≠ [AVATAR_MANAGER] Avatar data received: {success: true, avatars: Array(65)}
page-ce99881ee81e0da1.js:1 üé≠ [AVATAR_MANAGER] Found avatars: 65
page-ce99881ee81e0da1.js:1 üé≠ [AVATAR_MANAGER] Selected first avatar: Mikhailo
page-ce99881ee81e0da1.js:1 üé≠ [AVATAR_MANAGER] Default avatar set successfully
63:1 Failed to decode downloaded font: https://dev4.contentbuilder.ai/fonts/fonnts.com-Mont_Thin.ttfUnderstand this warning
63:1 OTS parsing error: invalid sfntVersion: 1008813135Understand this warning
684-061671409fcbce74.js:1 ‚ùå Failed to preload Mont thin font from /fonts/fonnts.com-Mont_Thin.ttf
window.console.error @ 684-061671409fcbce74.js:1
a.onerror @ layout-1e76a94cbd5c836b.js:1Understand this error
684-061671409fcbce74.js:1 ‚ö†Ô∏è Some Mont fonts failed to preload: Error: Failed to preload Mont thin font
    at a.onerror (layout-1e76a94cbd5c836b.js:1:738)
window.console.error @ 684-061671409fcbce74.js:1
r @ layout-1e76a94cbd5c836b.js:1
await in r
(anonymous) @ layout-1e76a94cbd5c836b.js:1
(anonymous) @ layout-1e76a94cbd5c836b.js:1
oq @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
um @ 4bd1b696-4bfbcd47340ed67c.js:1
uh @ 4bd1b696-4bfbcd47340ed67c.js:1
iS @ 4bd1b696-4bfbcd47340ed67c.js:1
(anonymous) @ 4bd1b696-4bfbcd47340ed67c.js:1
w @ 684-061671409fcbce74.js:1Understand this error
layout-1e76a94cbd5c836b.js:1 üé® Fonts initialized successfully for Chudo and Forta themes
63:1 Failed to decode downloaded font: https://dev4.contentbuilder.ai/fonts/fonnts.com-Mont_Bold.ttfUnderstand this warning
63:1 OTS parsing error: invalid sfntVersion: 1008813135Understand this warning
684-061671409fcbce74.js:1 ‚ùå Failed to preload Mont bold font from /fonts/fonnts.com-Mont_Bold.ttf
window.console.error @ 684-061671409fcbce74.js:1
a.onerror @ layout-1e76a94cbd5c836b.js:1Understand this error
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Starting professional video generation process...
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Environment check:
page-ce99881ee81e0da1.js:1   - CUSTOM_BACKEND_URL: /api/custom-projects-backend
page-ce99881ee81e0da1.js:1   - NEXT_PUBLIC_CUSTOM_BACKEND_URL: /api/custom-projects-backend
page-ce99881ee81e0da1.js:1   - Window location: https://dev4.contentbuilder.ai/custom-projects-ui/projects/view/63
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Step 1: Extracting voiceover text from slides...
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Extracting voiceover texts from DOM...
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Found voiceover elements: 0
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] No voiceover elements found, extracting from slide content...
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Slide title 1: AI Tools for Teachers
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Slide title 2: Hello4
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Slide title 3: Welcome to the Course on AI Tools for Teachers
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Skipping problematic title: Voiceover
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Skipping non-English title: –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Skipping problematic title: Presentation Themes
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Final extracted voiceover texts: (3)¬†['AI Tools for Teachers', 'Hello4', 'Welcome to the Course on AI Tools for Teachers']
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Extracted voiceover texts: (3)¬†['AI Tools for Teachers', 'Hello4', 'Welcome to the Course on AI Tools for Teachers']
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Step 2: Getting current slide URL...
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Slide URL for capture: https://dev4.contentbuilder.ai/custom-projects-ui/projects/view/63
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Step 3: Extracting slide data...
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Extracting slide data from current project...
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Found slide data in window object: 1 slides
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Extracted slide data: {slides: Array(1), theme: 'dark-purple'}
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Step 3b: Creating professional presentation (with slide data + avatar + merging)...
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation creation response: {success: true, jobId: 'c0f79e35-4c44-4295-aa69-3c8bd2434d91', status: 'processing', progress: 0, message: 'Presentation generation started - check status with job ID',¬†‚Ä¶}
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation job created with ID: c0f79e35-4c44-4295-aa69-3c8bd2434d91
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Step 4: Monitoring professional presentation progress...
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] This includes: slide capture ‚Üí avatar generation ‚Üí video merging
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Starting to monitor professional presentation progress for job: c0f79e35-4c44-4295-aa69-3c8bd2434d91
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status check response: {success: true, jobId: 'c0f79e35-4c44-4295-aa69-3c8bd2434d91', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status: processing Progress: 10%
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation progress: 10%
63:1 Failed to decode downloaded font: https://dev4.contentbuilder.ai/fonts/fonnts.com-Mont_Regular.ttfUnderstand this warning
63:1 OTS parsing error: invalid sfntVersion: 1008813135Understand this warning
684-061671409fcbce74.js:1 ‚ùå Failed to preload Mont regular font from /fonts/fonnts.com-Mont_Regular.ttf
window.console.error @ 684-061671409fcbce74.js:1
a.onerror @ layout-1e76a94cbd5c836b.js:1Understand this error
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status check response: {success: true, jobId: 'c0f79e35-4c44-4295-aa69-3c8bd2434d91', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status: processing Progress: 10%
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation progress: 10%
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status check response: {success: true, jobId: 'c0f79e35-4c44-4295-aa69-3c8bd2434d91', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status: processing Progress: 10%
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation progress: 10%
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status check response: {success: true, jobId: 'c0f79e35-4c44-4295-aa69-3c8bd2434d91', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status: processing Progress: 10%
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation progress: 10%
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status check response: {success: true, jobId: 'c0f79e35-4c44-4295-aa69-3c8bd2434d91', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status: processing Progress: 10%
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation progress: 10%
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status check response: {success: true, jobId: 'c0f79e35-4c44-4295-aa69-3c8bd2434d91', status: 'processing', progress: 10, error: null,¬†‚Ä¶}
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status: processing Progress: 10%
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation progress: 10%
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status check response: {success: true, jobId: 'c0f79e35-4c44-4295-aa69-3c8bd2434d91', status: 'failed', progress: 40, error: "Failed to create avatar video: Failed to create video: name 'json' is not defined",¬†‚Ä¶}
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation status: failed Progress: 40%
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Professional presentation progress: 40%
684-061671409fcbce74.js:1 üé¨ [VIDEO_DOWNLOAD] Error checking professional presentation status: Error: Failed to create avatar video: Failed to create video: name 'json' is not defined
    at m (page-ce99881ee81e0da1.js:1:214221)
    at async x (page-ce99881ee81e0da1.js:1:216686)
window.console.error @ 684-061671409fcbce74.js:1
m @ page-ce99881ee81e0da1.js:1
await in m
x @ page-ce99881ee81e0da1.js:1
await in x
iX @ 4bd1b696-4bfbcd47340ed67c.js:1
(anonymous) @ 4bd1b696-4bfbcd47340ed67c.js:1
nS @ 4bd1b696-4bfbcd47340ed67c.js:1
i2 @ 4bd1b696-4bfbcd47340ed67c.js:1
s7 @ 4bd1b696-4bfbcd47340ed67c.js:1
s5 @ 4bd1b696-4bfbcd47340ed67c.js:1Understand this error
684-061671409fcbce74.js:1 üé¨ [VIDEO_DOWNLOAD] Video generation failed with error: Error: Failed to create avatar video: Failed to create video: name 'json' is not defined
    at m (page-ce99881ee81e0da1.js:1:214221)
    at async x (page-ce99881ee81e0da1.js:1:216686)
window.console.error @ 684-061671409fcbce74.js:1
x @ page-ce99881ee81e0da1.js:1
await in x
iX @ 4bd1b696-4bfbcd47340ed67c.js:1
(anonymous) @ 4bd1b696-4bfbcd47340ed67c.js:1
nS @ 4bd1b696-4bfbcd47340ed67c.js:1
i2 @ 4bd1b696-4bfbcd47340ed67c.js:1
s7 @ 4bd1b696-4bfbcd47340ed67c.js:1
s5 @ 4bd1b696-4bfbcd47340ed67c.js:1Understand this error
684-061671409fcbce74.js:1 üé¨ [VIDEO_DOWNLOAD] Error type: object
window.console.error @ 684-061671409fcbce74.js:1
x @ page-ce99881ee81e0da1.js:1
await in x
iX @ 4bd1b696-4bfbcd47340ed67c.js:1
(anonymous) @ 4bd1b696-4bfbcd47340ed67c.js:1
nS @ 4bd1b696-4bfbcd47340ed67c.js:1
i2 @ 4bd1b696-4bfbcd47340ed67c.js:1
s7 @ 4bd1b696-4bfbcd47340ed67c.js:1
s5 @ 4bd1b696-4bfbcd47340ed67c.js:1Understand this error
684-061671409fcbce74.js:1 üé¨ [VIDEO_DOWNLOAD] Error constructor: Error
window.console.error @ 684-061671409fcbce74.js:1
x @ page-ce99881ee81e0da1.js:1
await in x
iX @ 4bd1b696-4bfbcd47340ed67c.js:1
(anonymous) @ 4bd1b696-4bfbcd47340ed67c.js:1
nS @ 4bd1b696-4bfbcd47340ed67c.js:1
i2 @ 4bd1b696-4bfbcd47340ed67c.js:1
s7 @ 4bd1b696-4bfbcd47340ed67c.js:1
s5 @ 4bd1b696-4bfbcd47340ed67c.js:1Understand this error
684-061671409fcbce74.js:1 üé¨ [VIDEO_DOWNLOAD] Error stack: Error: Failed to create avatar video: Failed to create video: name 'json' is not defined
    at m (https://dev4.contentbuilder.ai/custom-projects-ui/_next/static/chunks/app/projects/view/%5BprojectId%5D/page-ce99881ee81e0da1.js:1:214221)
    at async x (https://dev4.contentbuilder.ai/custom-projects-ui/_next/static/chunks/app/projects/view/%5BprojectId%5D/page-ce99881ee81e0da1.js:1:216686)
window.console.error @ 684-061671409fcbce74.js:1
x @ page-ce99881ee81e0da1.js:1
await in x
iX @ 4bd1b696-4bfbcd47340ed67c.js:1
(anonymous) @ 4bd1b696-4bfbcd47340ed67c.js:1
nS @ 4bd1b696-4bfbcd47340ed67c.js:1
i2 @ 4bd1b696-4bfbcd47340ed67c.js:1
s7 @ 4bd1b696-4bfbcd47340ed67c.js:1
s5 @ 4bd1b696-4bfbcd47340ed67c.js:1Understand this error
684-061671409fcbce74.js:1 üé¨ [VIDEO_DOWNLOAD] Error message: Failed to create avatar video: Failed to create video: name 'json' is not defined
window.console.error @ 684-061671409fcbce74.js:1
x @ page-ce99881ee81e0da1.js:1
await in x
iX @ 4bd1b696-4bfbcd47340ed67c.js:1
(anonymous) @ 4bd1b696-4bfbcd47340ed67c.js:1
nS @ 4bd1b696-4bfbcd47340ed67c.js:1
i2 @ 4bd1b696-4bfbcd47340ed67c.js:1
s7 @ 4bd1b696-4bfbcd47340ed67c.js:1
s5 @ 4bd1b696-4bfbcd47340ed67c.js:1Understand this error
684-061671409fcbce74.js:1 üé¨ [VIDEO_DOWNLOAD] Error name: Error
window.console.error @ 684-061671409fcbce74.js:1
x @ page-ce99881ee81e0da1.js:1
await in x
iX @ 4bd1b696-4bfbcd47340ed67c.js:1
(anonymous) @ 4bd1b696-4bfbcd47340ed67c.js:1
nS @ 4bd1b696-4bfbcd47340ed67c.js:1
i2 @ 4bd1b696-4bfbcd47340ed67c.js:1
s7 @ 4bd1b696-4bfbcd47340ed67c.js:1
s5 @ 4bd1b696-4bfbcd47340ed67c.js:1Understand this error
page-ce99881ee81e0da1.js:1 üé¨ [VIDEO_DOWNLOAD] Calling onError with message: Failed to create avatar video: Failed to create video: name 'json' is not defined
684-061671409fcbce74.js:1 Video generation error: Failed to create avatar video: Failed to create video: name 'json' is not defined

backend:
custom_backend-1  | INFO:app.services.pdf_generator:PDF Template Directory expected at: /app/templates
custom_backend-1  | INFO:app.services.video_generation_service:HTTP client initialized successfully
custom_backend-1  | INFO:main:Video generation service imported successfully
custom_backend-1  | INFO:app.services.video_composer_service:Professional Video Composer initialized
custom_backend-1  | INFO:app.services.presentation_service:Professional Presentation Service initialized
custom_backend-1  | INFO:main:Presentation service imported successfully
custom_backend-1  | INFO:     Started server process [1]
custom_backend-1  | INFO:     Waiting for application startup.
custom_backend-1  | INFO:main:Custom Backend starting...
custom_backend-1  | INFO:main:'projects' table ensured and updated.
custom_backend-1  | INFO:main:'microproduct_pipelines' table ensured.
custom_backend-1  | INFO:main:'projects' table ensured and updated with 'source_chat_session_id'.
custom_backend-1  | INFO:main:'design_templates' table ensured.
custom_backend-1  | INFO:main:'trashed_projects' table ensured (soft-delete).
custom_backend-1  | INFO:main:'user_credits' table ensured.
custom_backend-1  | INFO:main:Attempting to connect to Onyx database: postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/onyx_db
custom_backend-1  | INFO:main:Trying to connect to: postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/onyx_db
custom_backend-1  | WARNING:main:Failed to connect to postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/onyx_db: database "onyx_db" does not exist
custom_backend-1  | INFO:main:Trying to connect to: postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/postgres
custom_backend-1  | INFO:main:Found 3 Onyx users to migrate
custom_backend-1  | INFO:main:Populated user_credits table with 3 existing Onyx users (100 credits each).
custom_backend-1  | INFO:main:Added quality_tier column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default 'medium' tier
custom_backend-1  | INFO:main:Created index for quality_tier column
custom_backend-1  | INFO:main:Added custom_rate column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default custom_rate
custom_backend-1  | INFO:main:Created index for custom_rate column
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to projects table
custom_backend-1  | INFO:main:Created indexes for project-level custom_rate and quality_tier columns
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to trashed_projects table
custom_backend-1  | INFO:main:Applying critical fix: Ensuring order and completion_time columns are TEXT type
custom_backend-1  | INFO:main:Successfully set projects.order and projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set trashed_projects.order and trashed_projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set default values for empty order and completion_time fields
custom_backend-1  | INFO:main:Projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:Trashed_projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:'request_analytics' table ensured.
custom_backend-1  | INFO:main:AI parser tracking columns added to request_analytics table.
custom_backend-1  | INFO:main:Added is_standalone column to projects table.
custom_backend-1  | INFO:main:Added is_standalone column to trashed_projects table.
custom_backend-1  | INFO:main:Legacy support: is_standalone field defaults to NULL for existing products.
custom_backend-1  | INFO:main:Database schema migration completed successfully.
custom_backend-1  | INFO:     Application startup complete.
custom_backend-1  | INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 63 - Raw details_data type: <class 'dict'>, value: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "Welcome to the Course on AI Tools for Teachers",
custom_backend-1  |         "content": "In this course, we will explore various AI tools that can enhance teaching and learning experiences in high school settings.",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "voiceoverText": "Welcome to the course on AI tools for teachers! In this session, we will dive into the exciting world of artificial intelligence and how it can transform the educational landscape for high school teachers. By the end of this course, you will be equipped with practical knowledge and tools to enhance your teaching methods and engage your students effectively.",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1755874749050-nrvg5z753",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "createdAt": "2025-08-22T14:59:09.050Z",
custom_backend-1  |         "updatedAt": "2025-08-25T12:17:40.339Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 1,
custom_backend-1  |       "voiceoverText": "Welcome to the course on AI tools for teachers! In this session, we will dive into the exciting world of artificial intelligence and how it can transform the educational landscape for high school teachers. By the end of this course, you will be equipped with practical knowledge and tools to enhance your teaching methods and engage your students effectively."
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "AI Tools for Teachers",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide_1_intro",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 63 - Already dict, after round_hours: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "Welcome to the Course on AI Tools for Teachers",
custom_backend-1  |         "content": "In this course, we will explore various AI tools that can enhance teaching and learning experiences in high school settings.",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "voiceoverText": "Welcome to the course on AI tools for teachers! In this session, we will dive into the exciting world of artificial intelligence and how it can transform the educational landscape for high school teachers. By the end of this course, you will be equipped with practical knowledge and tools to enhance your teaching methods and engage your students effectively.",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1755874749050-nrvg5z753",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "createdAt": "2025-08-22T14:59:09.050Z",
custom_backend-1  |         "updatedAt": "2025-08-25T12:17:40.339Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 1,
custom_backend-1  |       "voiceoverText": "Welcome to the course on AI tools for teachers! In this session, we will dive into the exciting world of artificial intelligence and how it can transform the educational landscape for high school teachers. By the end of this course, you will be equipped with practical knowledge and tools to enhance your teaching methods and engage your students effectively."
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "AI Tools for Teachers",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide_1_intro",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 63 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:     172.18.0.12:47654 - "GET /api/custom/projects/view/63 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:47664 - "GET /api/custom/projects HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.12:47670 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.presentation_service:Created presentation job: c0f79e35-4c44-4295-aa69-3c8bd2434d91
custom_backend-1  | INFO:main:Returning immediate response for job c0f79e35-4c44-4295-aa69-3c8bd2434d91
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Starting presentation processing for job: c0f79e35-4c44-4295-aa69-3c8bd2434d91
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Request details:
custom_backend-1  | INFO:app.services.presentation_service:  - Slide URL: https://dev4.contentbuilder.ai/custom-projects-ui/projects/view/63
custom_backend-1  | INFO:app.services.presentation_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.presentation_service:  - Duration: 30s
custom_backend-1  | INFO:app.services.presentation_service:  - Quality: high
custom_backend-1  | INFO:app.services.presentation_service:  - Layout: side_by_side
custom_backend-1  | INFO:app.services.presentation_service:  - Resolution: (1920, 1080)
custom_backend-1  | INFO:app.services.presentation_service:  - Avatar Code: None
custom_backend-1  | INFO:app.services.presentation_service:  - Voiceover Texts Count: 3
custom_backend-1  | INFO:app.services.presentation_service:  - Slides Data Provided: True
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Slides data analysis:
custom_backend-1  | INFO:app.services.presentation_service:  Slide 1:
custom_backend-1  | INFO:app.services.presentation_service:    - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.presentation_service:    - Slide ID: slide-1755874749050-nrvg5z753
custom_backend-1  | INFO:app.services.presentation_service:    - Props Keys: ['title', 'content', 'subtitle', 'avatarAlt', 'avatarPath', 'titleColor', 'contentColor', 'subtitleColor', 'voiceoverText', 'backgroundColor']
custom_backend-1  | INFO:app.services.presentation_service:    - Title: Welcome to the Course on AI Tools for Teachers
custom_backend-1  | INFO:app.services.presentation_service:    - Subtitle:
custom_backend-1  | INFO:app.services.presentation_service:    - Content: In this course, we will explore various AI tools that can enhance teaching and learning experiences ...
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Voiceover texts:
custom_backend-1  | INFO:app.services.presentation_service:  Text 1: AI Tools for Teachers...
custom_backend-1  | INFO:app.services.presentation_service:  Text 2: Hello4...
custom_backend-1  | INFO:app.services.presentation_service:  Text 3: Welcome to the Course on AI Tools for Teachers...
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Step 1: Generating clean slide video for job c0f79e35-4c44-4295-aa69-3c8bd2434d91
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Using provided slide data with 1 slides
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Detailed slide data analysis:
custom_backend-1  | INFO:app.services.presentation_service:  üìÑ Slide 1 Details:
custom_backend-1  | INFO:app.services.presentation_service:    - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.presentation_service:    - Slide ID: slide-1755874749050-nrvg5z753
custom_backend-1  | INFO:app.services.presentation_service:    - Props Type: <class 'dict'>
custom_backend-1  | INFO:app.services.presentation_service:    - Props Keys: ['title', 'content', 'subtitle', 'avatarAlt', 'avatarPath', 'titleColor', 'contentColor', 'subtitleColor', 'voiceoverText', 'backgroundColor']
custom_backend-1  | INFO:app.services.presentation_service:    - Title: 'Welcome to the Course on AI Tools for Teachers'custom_backend-1  | INFO:app.services.presentation_service:    - Subtitle: ''
custom_backend-1  | INFO:app.services.presentation_service:    - Content: 'In this course, we will explore various AI tools that can enhance teaching and learning experiences in high school settings....'
custom_backend-1  | INFO:app.services.presentation_service:    - Voiceover Text: 'Welcome to the course on AI tools for teachers! In this session, we will dive into the exciting world of artificial intelligence and how it can transform the educational landscape for high school teac...'
custom_backend-1  | INFO:app.services.presentation_service:    - avatarAlt: Avatar
custom_backend-1  | INFO:app.services.presentation_service:    - avatarPath:
custom_backend-1  | INFO:app.services.presentation_service:    - titleColor: #e91e63
custom_backend-1  | INFO:app.services.presentation_service:    - contentColor: #e91e63
custom_backend-1  | INFO:app.services.presentation_service:    - subtitleColor: #000000
custom_backend-1  | INFO:app.services.presentation_service:    - backgroundColor: #ffffff
custom_backend-1  | INFO:app.services.clean_video_generation_service:Clean Video Generation Service initialized
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Calling clean video generation service:
custom_backend-1  | INFO:app.services.presentation_service:  - Slides count: 1
custom_backend-1  | INFO:app.services.presentation_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.presentation_service:  - Duration: 30
custom_backend-1  | INFO:app.services.presentation_service:  - Quality: high
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Using single slide generation
custom_backend-1  | INFO:app.services.clean_video_generation_service:Generating video for avatar slide: avatar-service-slide
custom_backend-1  | INFO:     172.18.0.12:56992 - "POST /api/custom/presentations HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_assembly_service:Found FFmpeg at: ffmpeg
custom_backend-1  | INFO:app.services.video_assembly_service:Video Assembly Service initialized. FFmpeg: ffmpeg
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Creating video from 1 slides
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Parameters:
custom_backend-1  | INFO:app.services.video_assembly_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.video_assembly_service:  - Output path: output/clean_videos/avatar_slide_avatar-service-slide_20250825_131741.mp4
custom_backend-1  | INFO:app.services.video_assembly_service:  - Slide duration: 30
custom_backend-1  | INFO:app.services.video_assembly_service:  - Quality: high
custom_backend-1  | INFO:     172.18.0.12:56998 - "GET /api/custom/presentations/c0f79e35-4c44-4295-aa69-3c8bd2434d91 HTTP/1.1" 200 OK
custom_backend-1  | WARNING:app.services.html_to_image_service:No advanced HTML to image libraries found, using simple fallback
custom_backend-1  | INFO:app.services.html_to_image_service:HTML to Image Service initialized using: simple
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Processing slide 1/1
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Slide 1 details:
custom_backend-1  | INFO:app.services.video_assembly_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.video_assembly_service:  - Props keys: ['slideId', 'slideNumber', 'slideTitle', 'templateId', 'props', 'voiceoverText', 'metadata']
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideId: 'slide-1755874749050-nrvg5z753...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideNumber: 1
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideTitle: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - templateId: 'avatar-service-slide...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - props: {'title': 'Welcome to the Course on AI Tools for Teachers', 'content': 'In this course, we will explore various AI tools that can enhance teaching and learning experiences in high school settings.', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'voiceoverText': 'Welcome to the course on AI tools for teachers! In this session, we will dive into the exciting world of artificial intelligence and how it can transform the educational landscape for high school teachers. By the end of this course, you will be equipped with practical knowledge and tools to enhance your teaching methods and engage your students effectively.', 'backgroundColor': '#ffffff'}
custom_backend-1  | INFO:app.services.video_assembly_service:  - voiceoverText: 'Welcome to the course on AI tools for teachers! In this session, we will dive into the exciting world of artificial intelligence and how it can transform the educational landscape for high school teac...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - metadata: {'createdAt': '2025-08-22T14:59:09.050Z', 'updatedAt': '2025-08-25T12:17:40.339Z'}
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Converting slide 1 to PNG: /tmp/tmp8f24at2y_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Converting slide to PNG
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Parameters:
custom_backend-1  | INFO:app.services.html_to_image_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_to_image_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.html_to_image_service:  - Output path: /tmp/tmp8f24at2y_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:  - Props keys: ['slideId', 'slideNumber', 'slideTitle', 'templateId', 'props', 'voiceoverText', 'metadata']
custom_backend-1  | INFO:app.services.html_to_image_service:  - slideId: 'slide-1755874749050-nrvg5z753...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - slideNumber: 1
custom_backend-1  | INFO:app.services.html_to_image_service:  - slideTitle: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - templateId: 'avatar-service-slide...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - props: {'title': 'Welcome to the Course on AI Tools for Teachers', 'content': 'In this course, we will explore various AI tools that can enhance teaching and learning experiences in high school settings.', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'voiceoverText': 'Welcome to the course on AI tools for teachers! In this session, we will dive into the exciting world of artificial intelligence and how it can transform the educational landscape for high school teachers. By the end of this course, you will be equipped with practical knowledge and tools to enhance your teaching methods and engage your students effectively.', 'backgroundColor': '#ffffff'}
custom_backend-1  | INFO:app.services.html_to_image_service:  - voiceoverText: 'Welcome to the course on AI tools for teachers! In this session, we will dive into the exciting world of artificial intelligence and how it can transform the educational landscape for high school teac...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - metadata: {'createdAt': '2025-08-22T14:59:09.050Z', 'updatedAt': '2025-08-25T12:17:40.339Z'}
custom_backend-1  | INFO:app.services.html_template_service:HTML Template Service initialized with template directory: /app/app/services/../../templates
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Generating HTML content...
custom_backend-1  | WARNING:app.services.html_template_service:Unknown template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:Validated props for avatar-service-slide: ['slideId', 'slideNumber', 'slideTitle', 'templateId', 'props', 'voiceoverText', 'metadata']
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Generating HTML for template: avatar-service-slide, theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Props received:
custom_backend-1  | INFO:app.services.html_template_service:  - Props type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Props keys: ['slideId', 'slideNumber', 'slideTitle', 'templateId', 'props', 'voiceoverText', 'metadata']
custom_backend-1  | INFO:app.services.html_template_service:  - slideId: 'slide-1755874749050-nrvg5z753...'
custom_backend-1  | INFO:app.services.html_template_service:  - slideNumber: 1
custom_backend-1  | INFO:app.services.html_template_service:  - slideTitle: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å - —ç—Ç–æ –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—Ö–∞...'
custom_backend-1  | INFO:app.services.html_template_service:  - templateId: 'avatar-service-slide...'
custom_backend-1  | INFO:app.services.html_template_service:  - props: {'title': 'Welcome to the Course on AI Tools for Teachers', 'content': 'In this course, we will explore various AI tools that can enhance teaching and learning experiences in high school settings.', 'subtitle': '', 'avatarAlt': 'Avatar', 'avatarPath': '', 'titleColor': '#e91e63', 'contentColor': '#e91e63', 'subtitleColor': '#000000', 'voiceoverText': 'Welcome to the course on AI tools for teachers! In this session, we will dive into the exciting world of artificial intelligence and how it can transform the educational landscape for high school teachers. By the end of this course, you will be equipped with practical knowledge and tools to enhance your teaching methods and engage your students effectively.', 'backgroundColor': '#ffffff'}
custom_backend-1  | INFO:app.services.html_template_service:  - voiceoverText: 'Welcome to the course on AI tools for teachers! In this session, we will dive into the exciting world of artificial intelligence and how it can transform the educational landscape for high school teac...'
custom_backend-1  | INFO:app.services.html_template_service:  - metadata: {'createdAt': '2025-08-22T14:59:09.050Z', 'updatedAt': '2025-08-25T12:17:40.339Z'}
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] Context data prepared:
custom_backend-1  | INFO:app.services.html_template_service:  - Template ID: avatar-service-slide
custom_backend-1  | INFO:app.services.html_template_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:  - Context keys: ['templateId', 'theme', 'slideId', 'slideNumber', 'slideTitle', 'props', 'voiceoverText', 'metadata']
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content generated successfully
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content length: 17389 characters
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML snippet: <!DOCTYPE html>
custom_backend-1  | <html lang="en">
custom_backend-1  | <head>
custom_backend-1  |     <meta charset="UTF-8">
custom_backend-1  |     <meta name="viewport" content="width=device-width, initial-scale=1.0">
custom_backend-1  |     <title>Avatar Slide Template</title>
custom_backend-1  |
custom_backend-1  |     <link rel="preconnect" href="https://fonts.googleapis.com">
custom_backend-1  |     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
custom_backend-1  |     <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600;700&family=Martel+Sans:wght@400;600;700&family=Inter:wght@400;500;600;700&family=Roboto:wght@400;50...
custom_backend-1  | INFO:app.services.html_template_service:Generated clean HTML for video: avatar-service-slide
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] HTML content generated
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] HTML content length: 17389 characters
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] Converting HTML to PNG...
custom_backend-1  | INFO:app.services.html_to_image_service:Converting HTML to PNG for template: avatar-service-slide using simple
custom_backend-1  | INFO:app.services.html_to_image_service:Simple fallback conversion: 11742 bytes
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] PNG conversion successful: /tmp/tmp8f24at2y_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [HTML_TO_IMAGE] PNG file size: 11742 bytes
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Generated PNG for slide 1: avatar-service-slide
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] PNG file size: 11742 bytes
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Successfully generated 1 PNG files
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] PNG files: ['/tmp/tmp8f24at2y_slide_0.png']
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Creating video from PNGs...
custom_backend-1  | INFO:app.services.video_assembly_service:Creating video from 1 PNG images
custom_backend-1  | INFO:app.services.video_assembly_service:Running FFmpeg command: ffmpeg -y -f concat -safe 0 -i /tmp/tmpy5luhuhh.txt -vf fps=25,scale=1920:1080:force_original_aspect_ratio=decrease,pad=1920:1080:(ow-iw)/2:(oh-ih)/2 -c:v libx264 -preset slow -crf 18 -pix_fmt yuv420p output/clean_videos/avatar_slide_avatar-service-slide_20250825_131741.mp4
custom_backend-1  | INFO:     172.18.0.12:39074 - "GET /api/custom/presentations/c0f79e35-4c44-4295-aa69-3c8bd2434d91 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:47604 - "GET /api/custom/presentations/c0f79e35-4c44-4295-aa69-3c8bd2434d91 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:46148 - "GET /api/custom/presentations/c0f79e35-4c44-4295-aa69-3c8bd2434d91 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:39936 - "GET /api/custom/presentations/c0f79e35-4c44-4295-aa69-3c8bd2434d91 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:46354 - "GET /api/custom/presentations/c0f79e35-4c44-4295-aa69-3c8bd2434d91 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_assembly_service:Video created successfully: output/clean_videos/avatar_slide_avatar-service-slide_20250825_131741.mp4 (140406 bytes)
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Video creation successful: output/clean_videos/avatar_slide_avatar-service-slide_20250825_131741.mp4
custom_backend-1  | INFO:app.services.video_assembly_service:üé¨ [VIDEO_ASSEMBLY] Video file size: 140406 bytes
custom_backend-1  | INFO:app.services.clean_video_generation_service:Avatar slide video generated: output/clean_videos/avatar_slide_avatar-service-slide_20250825_131741.mp4 (140406 bytes)
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Clean video generation result:
custom_backend-1  | INFO:app.services.presentation_service:  - Success: True
custom_backend-1  | INFO:app.services.presentation_service:  - Video Path: output/clean_videos/avatar_slide_avatar-service-slide_20250825_131741.mp4
custom_backend-1  | INFO:app.services.presentation_service:  - File Size: 140406
custom_backend-1  | INFO:app.services.presentation_service:  - Duration: 30
custom_backend-1  | INFO:app.services.presentation_service:  - Error: None
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Clean video generation successful: output/clean_videos/avatar_slide_avatar-service-slide_20250825_131741.mp4
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Step 2: Generating avatar video for job c0f79e35-4c44-4295-aa69-3c8bd2434d91
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Avatar generation parameters:
custom_backend-1  | INFO:app.services.presentation_service:  - Voiceover texts count: 3
custom_backend-1  | INFO:app.services.presentation_service:  - Avatar code: None
custom_backend-1  | INFO:app.services.presentation_service:  - Duration: 30
custom_backend-1  | INFO:app.services.presentation_service:  - Voiceover text 1: AI Tools for Teachers...
custom_backend-1  | INFO:app.services.presentation_service:  - Voiceover text 2: Hello4...
custom_backend-1  | INFO:app.services.presentation_service:  - Voiceover text 3: Welcome to the Course on AI Tools for Teachers...
custom_backend-1  | INFO:app.services.presentation_service:Generating avatar video with 3 voiceover texts
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:app.services.presentation_service:Selected avatar: gia (Gia)
custom_backend-1  | INFO:app.services.presentation_service:Auto-selected avatar: gia
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Starting video creation from texts
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Parameters:
custom_backend-1  | INFO:app.services.video_generation_service:  - Project name: Avatar Video
custom_backend-1  | INFO:app.services.video_generation_service:  - Voiceover texts count: 3
custom_backend-1  | INFO:app.services.video_generation_service:  - Avatar code: gia
custom_backend-1  | INFO:app.services.video_generation_service:  - Voiceover text 1: AI Tools for Teachers...
custom_backend-1  | INFO:app.services.video_generation_service:  - Voiceover text 2: Hello4...
custom_backend-1  | INFO:app.services.video_generation_service:  - Voiceover text 3: Welcome to the Course on AI Tools for Teachers...
custom_backend-1  | INFO:app.services.video_generation_service:Cleaned voiceover text 1: AI Tools for Teachers...
custom_backend-1  | INFO:app.services.video_generation_service:Cleaned voiceover text 2: Hello4...
custom_backend-1  | INFO:app.services.video_generation_service:Cleaned voiceover text 3: Welcome to the Course on AI Tools for Teachers...
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Searching for avatar with code: gia
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Available avatars count: 65
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Found avatar: Gia (code: gia)
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Preparing 3 slides for Elai API
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Creating slide 1 with text: AI Tools for Teachers...
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Creating slide 2 with text: Hello4...
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Creating slide 3 with text: Welcome to the Course on AI Tools for Teachers...
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Preparing video request
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Video request configuration:
custom_backend-1  | INFO:app.services.video_generation_service:  - Name: Avatar Video
custom_backend-1  | INFO:app.services.video_generation_service:  - Slides count: 3
custom_backend-1  | INFO:app.services.video_generation_service:  - Format: 16_9
custom_backend-1  | INFO:app.services.video_generation_service:  - Resolution: FullHD
custom_backend-1  | INFO:app.services.video_generation_service:  - Avatar canvas URL: N/A...
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Video request JSON payload:
custom_backend-1  | ERROR:app.services.video_generation_service:Error creating video: name 'json' is not defined
custom_backend-1  | ERROR:app.services.presentation_service:Avatar video generation failed: Failed to create avatar video: Failed to create video: name 'json' is not defined
custom_backend-1  | ERROR:app.services.presentation_service:Presentation c0f79e35-4c44-4295-aa69-3c8bd2434d91 failed: Failed to create avatar video: Failed to create video: name 'json' is not defined
custom_backend-1  | INFO:     172.18.0.12:50026 - "GET /api/custom/presentations/c0f79e35-4c44-4295-aa69-3c8bd2434d91 HTTP/1.1" 200 OK