backend:
custom_backend-1  | INFO:app.services.pdf_generator:PDF Template Directory expected at: /app/templates
custom_backend-1  | INFO:app.services.video_generation_service:HTTP client initialized successfully
custom_backend-1  | INFO:main:Video generation service imported successfully
custom_backend-1  | INFO:app.services.video_composer_service:Professional Video Composer initialized
custom_backend-1  | INFO:app.services.presentation_service:Professional Presentation Service initialized
custom_backend-1  | INFO:main:Presentation service imported successfully
custom_backend-1  | INFO:     Started server process [1]
custom_backend-1  | INFO:     Waiting for application startup.
custom_backend-1  | INFO:main:Custom Backend starting...
custom_backend-1  | INFO:main:'projects' table ensured and updated.
custom_backend-1  | INFO:main:'microproduct_pipelines' table ensured.
custom_backend-1  | INFO:main:'projects' table ensured and updated with 'source_chat_session_id'.
custom_backend-1  | INFO:main:'design_templates' table ensured.
custom_backend-1  | INFO:main:'trashed_projects' table ensured (soft-delete).
custom_backend-1  | INFO:main:'user_credits' table ensured.
custom_backend-1  | INFO:main:Attempting to connect to Onyx database: postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/onyx_db
custom_backend-1  | INFO:main:Trying to connect to: postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/onyx_db
custom_backend-1  | WARNING:main:Failed to connect to postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/onyx_db: database "onyx_db" does not exist
custom_backend-1  | INFO:main:Trying to connect to: postgresql://postgres:ookBossyauptyetPaxTy@relational_db:5432/postgres
custom_backend-1  | INFO:main:Found 3 Onyx users to migrate
custom_backend-1  | INFO:main:Populated user_credits table with 3 existing Onyx users (100 credits each).
custom_backend-1  | INFO:main:Added quality_tier column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default 'medium' tier
custom_backend-1  | INFO:main:Created index for quality_tier column
custom_backend-1  | INFO:main:Added custom_rate column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default custom_rate
custom_backend-1  | INFO:main:Created index for custom_rate column
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to projects table
custom_backend-1  | INFO:main:Created indexes for project-level custom_rate and quality_tier columns
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to trashed_projects table
custom_backend-1  | INFO:main:Applying critical fix: Ensuring order and completion_time columns are TEXT type
custom_backend-1  | INFO:main:Successfully set projects.order and projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set trashed_projects.order and trashed_projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set default values for empty order and completion_time fields
custom_backend-1  | INFO:main:Projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:Trashed_projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:'request_analytics' table ensured.
custom_backend-1  | INFO:main:AI parser tracking columns added to request_analytics table.
custom_backend-1  | INFO:main:Added is_standalone column to projects table.
custom_backend-1  | INFO:main:Added is_standalone column to trashed_projects table.
custom_backend-1  | INFO:main:Legacy support: is_standalone field defaults to NULL for existing products.
custom_backend-1  | INFO:main:Database schema migration completed successfully.
custom_backend-1  | INFO:     Application startup complete.
custom_backend-1  | INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 63 - Raw details_data type: <class 'dict'>, value: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "Welcome to the Course on AI Tools for Teachers",
custom_backend-1  |         "content": "In this course, we will explore various AI tools that can enhance teaching and learning experiences in high school settings.",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "voiceoverText": "",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1756200059325-fttq238ab",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "createdAt": "2025-08-26T09:20:59.325Z",
custom_backend-1  |         "updatedAt": "2025-08-26T09:21:09.310Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 1,
custom_backend-1  |       "voiceoverText": ""
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "AI Tools for Teachers",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide_1_intro",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 63 - Already dict, after round_hours: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "Welcome to the Course on AI Tools for Teachers",
custom_backend-1  |         "content": "In this course, we will explore various AI tools that can enhance teaching and learning experiences in high school settings.",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "voiceoverText": "",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1756200059325-fttq238ab",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "createdAt": "2025-08-26T09:20:59.325Z",
custom_backend-1  |         "updatedAt": "2025-08-26T09:21:09.310Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 1,
custom_backend-1  |       "voiceoverText": ""
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "AI Tools for Teachers",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide_1_intro",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 63 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:     172.18.0.12:36644 - "GET /api/custom/projects/view/63 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.12:36648 - "GET /api/custom/projects HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.12:36654 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üé¨ [SLIDE_VIDEO] Generating slide-only video
custom_backend-1  | INFO:main:üé¨ [SLIDE_VIDEO] Slides count: 1
custom_backend-1  | INFO:main:üé¨ [SLIDE_VIDEO] Theme: dark-purple
custom_backend-1  | ERROR:main:üé¨ [SLIDE_VIDEO] Error generating slide-only video: __init__() missing 2 required positional arguments: 'slide_url' and 'voiceover_texts'
custom_backend-1  | INFO:     172.18.0.12:36340 - "POST /api/custom/slide-video/generate HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 63 - Raw details_data type: <class 'dict'>, value: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "Welcome to the Course on AI Tools for Teachers",
custom_backend-1  |         "content": "In this course, we will explore various AI tools that can enhance teaching and learning experiences in high school settings.",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "voiceoverText": "",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1756200059325-fttq238ab",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "createdAt": "2025-08-26T09:20:59.325Z",
custom_backend-1  |         "updatedAt": "2025-08-26T09:21:09.310Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 1,
custom_backend-1  |       "voiceoverText": ""
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "AI Tools for Teachers",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide_1_intro",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 63 - Already dict, after round_hours: {
custom_backend-1  |   "theme": "dark-purple",
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "Welcome to the Course on AI Tools for Teachers",
custom_backend-1  |         "content": "In this course, we will explore various AI tools that can enhance teaching and learning experiences in high school settings.",
custom_backend-1  |         "subtitle": "",
custom_backend-1  |         "avatarAlt": "Avatar",
custom_backend-1  |         "avatarPath": "",
custom_backend-1  |         "titleColor": "#e91e63",
custom_backend-1  |         "contentColor": "#e91e63",
custom_backend-1  |         "subtitleColor": "#000000",
custom_backend-1  |         "voiceoverText": "",
custom_backend-1  |         "backgroundColor": "#ffffff"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1756200059325-fttq238ab",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "createdAt": "2025-08-26T09:20:59.325Z",
custom_backend-1  |         "updatedAt": "2025-08-26T09:21:09.310Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 - \u044d\u0442\u043e \u043e\u0441\u043d\u043e\u0432\u0430 \u0443\u0441\u043f\u0435\u0445\u0430",
custom_backend-1  |       "templateId": "avatar-service-slide",
custom_backend-1  |       "slideNumber": 1,
custom_backend-1  |       "voiceoverText": ""
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "AI Tools for Teachers",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide_1_intro",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 63 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:     172.18.0.12:60826 - "GET /api/custom/projects/view/63 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.12:60828 - "GET /api/custom/projects HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 65 avatars
custom_backend-1  | INFO:     172.18.0.12:60838 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üé¨ [SLIDE_VIDEO] Generating slide-only video
custom_backend-1  | INFO:main:üé¨ [SLIDE_VIDEO] Slides count: 1
custom_backend-1  | INFO:main:üé¨ [SLIDE_VIDEO] Theme: dark-purple
custom_backend-1  | ERROR:main:üé¨ [SLIDE_VIDEO] Error generating slide-only video: __init__() missing 2 required positional arguments: 'slide_url' and 'voiceover_texts'
custom_backend-1  | INFO:     172.18.0.12:33554 - "POST /api/custom/slide-video/generate HTTP/1.1" 200 OK

frontend:
üé® Font styles applied to Chudo and Forta themes
page-8b1acb0ce1d4a7e9.js:1 üì• [FETCH DATA] Received from backend: {instanceData: {‚Ä¶}, instanceDataStringified: '{\n  "name": "Video Lesson Presentation",\n  "slug":‚Ä¶,\n  "custom_rate": null,\n  "quality_tier": null\n}', details: {‚Ä¶}, detailsStringified: '{\n  "lessonTitle": "AI Tools for Teachers",\n  "sli‚Ä¶ "hasVoiceover": true,\n  "theme": "dark-purple"\n}', componentName: 'VideoLessonPresentationDisplay',¬†‚Ä¶}
page-8b1acb0ce1d4a7e9.js:1 üîç RAW SLIDES DATA FROM BACKEND:
page-8b1acb0ce1d4a7e9.js:1 üìÑ Slide 1 (avatar-service-slide): {slideId: 'slide-1756200059325-fttq238ab', templateId: 'avatar-service-slide', props: {‚Ä¶}}
page-8b1acb0ce1d4a7e9.js:1 ‚úÖ Component-based slides loaded with theme: {slideCount: 1, theme: 'dark-purple', themeColors: {‚Ä¶}, templates: Array(1)}
page-8b1acb0ce1d4a7e9.js:1 üé¨ Exposed slide data to window for video generation: {deck: {‚Ä¶}}
page-8b1acb0ce1d4a7e9.js:1 üé≠ [AVATAR_MANAGER] Fetching avatars from API...
page-8b1acb0ce1d4a7e9.js:1 üé≠ [AVATAR_MANAGER] Response status: 200
page-8b1acb0ce1d4a7e9.js:1 üé≠ [AVATAR_MANAGER] Avatar data received: {success: true, avatars: Array(65)}
page-8b1acb0ce1d4a7e9.js:1 üé≠ [AVATAR_MANAGER] Found avatars: 65
page-8b1acb0ce1d4a7e9.js:1 üé≠ [AVATAR_MANAGER] Selected first avatar: Mikhailo
page-8b1acb0ce1d4a7e9.js:1 üé≠ [AVATAR_MANAGER] Default avatar set successfully
page-8b1acb0ce1d4a7e9.js:1 üé¨ [SLIDE_VIDEO] Starting slide-only video generation...
page-8b1acb0ce1d4a7e9.js:1 üé¨ [SLIDE_VIDEO] Extracting slide data from current project...
page-8b1acb0ce1d4a7e9.js:1 üé¨ [SLIDE_VIDEO] Found slide data in window object: 1 slides
page-8b1acb0ce1d4a7e9.js:1 üé¨ [SLIDE_VIDEO] Slide data extracted successfully
page-8b1acb0ce1d4a7e9.js:1 üé¨ [SLIDE_VIDEO] Slides count: 1
page-8b1acb0ce1d4a7e9.js:1 üé¨ [SLIDE_VIDEO] Theme: dark-purple
page-8b1acb0ce1d4a7e9.js:1 üé¨ [SLIDE_VIDEO] Request payload: {slides: Array(1), theme: 'dark-purple'}
684-061671409fcbce74.js:1 üé¨ [SLIDE_VIDEO] Video generation failed: Error: Failed to generate slide-only video: __init__() missing 2 required positional arguments: 'slide_url' and 'voiceover_texts'
    at h (page-8b1acb0ce1d4a7e9.js:1:221447)
push.6905.window.console.error @ 684-061671409fcbce74.js:1
h @ page-8b1acb0ce1d4a7e9.js:1
await in h
iX @ 4bd1b696-4bfbcd47340ed67c.js:1
(anonymous) @ 4bd1b696-4bfbcd47340ed67c.js:1
nS @ 4bd1b696-4bfbcd47340ed67c.js:1
i2 @ 4bd1b696-4bfbcd47340ed67c.js:1
s7 @ 4bd1b696-4bfbcd47340ed67c.js:1
s5 @ 4bd1b696-4bfbcd47340ed67c.js:1Understand this error
684-061671409fcbce74.js:1 Video generation error: Failed to generate slide-only video: __init__() missing 2 required positional arguments: 'slide_url' and 'voiceover_texts'
push.6905.window.console.error @ 684-061671409fcbce74.js:1
onError @ page-8b1acb0ce1d4a7e9.js:1
h @ page-8b1acb0ce1d4a7e9.js:1
await in h
iX @ 4bd1b696-4bfbcd47340ed67c.js:1
(anonymous) @ 4bd1b696-4bfbcd47340ed67c.js:1
nS @ 4bd1b696-4bfbcd47340ed67c.js:1
i2 @ 4bd1b696-4bfbcd47340ed67c.js:1
s7 @ 4bd1b696-4bfbcd47340ed67c.js:1
s5 @ 4bd1b696-4bfbcd47340ed67c.js:1Understand this error
layout-1e76a94cbd5c836b.js:1 ‚úÖ Mont thin font preloaded successfully