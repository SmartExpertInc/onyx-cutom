custom_backend-1  | An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
custom_backend-1  | /usr/local/lib/python3.9/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.25) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
custom_backend-1  |   warnings.warn(message, FutureWarning)
custom_backend-1  | INFO:main:[RESEARCH] USE_OPENAI_WEB_SEARCH=False
custom_backend-1  | INFO:app.services.pdf_generator:PDF Template Directory expected at: /app/templates
custom_backend-1  | INFO:main:Video generation service imported successfully
custom_backend-1  | INFO:app.services.video_composer_service:Professional Video Composer initialized
custom_backend-1  | WARNING:app.services.presentation_service:‚ö†Ô∏è [DATABASE] PresentationService running without persistence (memory only)
custom_backend-1  | INFO:app.services.presentation_service:‚úÖ Professional Presentation Service initialized
custom_backend-1  | INFO:main:Presentation service imported successfully
custom_backend-1  | INFO:     Started server process [1]
custom_backend-1  | INFO:     Waiting for application startup.
custom_backend-1  | INFO:main:Custom Backend starting...
custom_backend-1  | INFO:main:'projects' table ensured and updated.
custom_backend-1  | INFO:main:'microproduct_pipelines' table ensured.
custom_backend-1  | INFO:main:'projects' table ensured and updated with 'source_chat_session_id'.
custom_backend-1  | INFO:main:'projects' table updated with source context tracking columns.
custom_backend-1  | INFO:main:'projects' table updated with lesson plan columns.
custom_backend-1  | INFO:main:'projects' table updated with product_json_onyx_id column for products-as-context feature.custom_backend-1  | INFO:main:'design_templates' table ensured.
custom_backend-1  | INFO:app.core.database:Database tables created successfully
custom_backend-1  | INFO:main:Workspace database tables initialized successfully
custom_backend-1  | INFO:main:'trashed_projects' table ensured (soft-delete).
custom_backend-1  | INFO:main:'user_credits' table ensured.
custom_backend-1  | INFO:main:'user_entitlement_overrides' table ensured.
custom_backend-1  | INFO:main:'user_connectors' table ensured.
custom_backend-1  | INFO:main:'user_entitlement_base' table ensured.
custom_backend-1  | INFO:main:'user_email_cache' table ensured.
custom_backend-1  | INFO:main:'user_storage_usage' table ensured.
custom_backend-1  | INFO:main:'credits_reference' table ensured.
custom_backend-1  | INFO:main:Loaded 9 credits reference values into global dict: {'course_outline': 5, 'presentation_under_10': 7, 'presentation_10_20': 15, 'presentation_30': 17, 'presentation_40': 20, 'presentation_50': 25, 'onepager': 7, 'quiz': 7, 'video_lesson_per_minute': 10}
custom_backend-1  | INFO:main:Updated credit_transactions table to support admin_removal type
custom_backend-1  | INFO:main:'credit_transactions' table ensured.
custom_backend-1  | INFO:main:'user_billing_addons' table ensured.
custom_backend-1  | INFO:main:'credit_grant_events' table ensured.
custom_backend-1  | INFO:main:'processed_stripe_events' table ensured.
custom_backend-1  | INFO:main:'user_billing_addons' table ensured.
custom_backend-1  | INFO:main:'credit_grant_events' table ensured.
custom_backend-1  | INFO:main:'processed_stripe_events' table ensured.
custom_backend-1  | INFO:main:User migration is available manually via /api/custom/admin/credits/migrate-users
custom_backend-1  | INFO:main:Added quality_tier column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default 'medium' tier
custom_backend-1  | INFO:main:Created index for quality_tier column
custom_backend-1  | INFO:main:Added custom_rate column to project_folders table
custom_backend-1  | INFO:main:Updated existing folders with default custom_rate
custom_backend-1  | INFO:main:Created index for custom_rate column
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to projects table
custom_backend-1  | INFO:main:Created indexes for project-level custom_rate and quality_tier columns
custom_backend-1  | INFO:main:Ensured is_advanced, advanced_rates, and completion_times on project_folders
custom_backend-1  | INFO:main:Ensured is_advanced, advanced_rates, and completion_times on projects
custom_backend-1  | INFO:main:Added custom_rate and quality_tier columns to trashed_projects table
custom_backend-1  | INFO:main:Applying critical fix: Ensuring order and completion_time columns are TEXT type
custom_backend-1  | INFO:main:Successfully set projects.order and projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set trashed_projects.order and trashed_projects.completion_time to TEXT type
custom_backend-1  | INFO:main:Successfully set default values for empty order and completion_time fields
custom_backend-1  | INFO:main:Projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:Trashed_projects table schema verification:
custom_backend-1  | INFO:main:  completion_time: text (nullable: YES)
custom_backend-1  | INFO:main:  folder_id: integer (nullable: YES)
custom_backend-1  | INFO:main:  order: text (nullable: YES)
custom_backend-1  | INFO:main:  source_chat_session_id: uuid (nullable: YES)
custom_backend-1  | INFO:main:'request_analytics' table ensured.
custom_backend-1  | INFO:main:AI parser tracking columns added to request_analytics table.
custom_backend-1  | INFO:main:Added is_standalone column to projects table.
custom_backend-1  | INFO:main:Added is_standalone column to trashed_projects table.
custom_backend-1  | INFO:main:Legacy support: is_standalone field defaults to NULL for existing products.
custom_backend-1  | INFO:main:Added course_id column to projects table.
custom_backend-1  | INFO:main:Added course_id column to trashed_projects table.
custom_backend-1  | INFO:main:Legacy support: course_id field defaults to NULL for existing products.
custom_backend-1  | INFO:main:'smartdrive_accounts' table ensured.
custom_backend-1  | INFO:main:'smartdrive_imports' table ensured.
custom_backend-1  | INFO:main:'user_connectors' table ensured.
custom_backend-1  | INFO:main:'offers' table ensured.
custom_backend-1  | INFO:main:Smart Drive database migrations completed successfully.
custom_backend-1  | INFO:main:'feature_definitions' table ensured.
custom_backend-1  | INFO:main:Migrated user_features.user_id column to TEXT type.
custom_backend-1  | INFO:main:'user_features' table ensured.
custom_backend-1  | INFO:main:'presentation_jobs' table ensured - video jobs will persist across restarts ‚úÖ
custom_backend-1  | INFO:main:Seeded 40 feature definitions.
custom_backend-1  | INFO:main:Deactivated 7 unused feature definitions.
custom_backend-1  | INFO:main:Created feature entries for 3 existing users with LMS defaults enabled.
custom_backend-1  | INFO:main:Added audit sharing columns to projects table.
custom_backend-1  | INFO:main:Added audit sharing columns to trashed_projects table.
custom_backend-1  | INFO:main:Updated 0 existing audits to use 'AI Audit' microproduct_type
custom_backend-1  | INFO:main:Updated trashed audits to use 'AI Audit' microproduct_type
custom_backend-1  | INFO:main:Database schema migration completed successfully.
custom_backend-1  | INFO:main:'lms_exports' table ensured.
custom_backend-1  | INFO:     Application startup complete.
custom_backend-1  | INFO:     Uvicorn running on http://0.0.0.0:8001 (Press CTRL+C to quit)
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 63 avatars
custom_backend-1  | INFO:     172.18.0.10:35208 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 303 - Raw details_data type: <class 'dict'>
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 303 - Already dict, after round_hours: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "Add your text here",
custom_backend-1  |         "logoPath": "",
custom_backend-1  |         "pageNumber": "06",
custom_backend-1  |         "definitions": [
custom_backend-1  |           "Using data to access a victim's account and withdrawing money or making an online transaction, e.g. buying a product or service.",
custom_backend-1  |           "Using data to open fake bank accounts or credit cards in the name of the victim and using them to cash out illegal checks, etc.",
custom_backend-1  |           "Using the victim's computer systems to install viruses and worms and disseminating phishing emails further to their contacts.",
custom_backend-1  |           "Using data from some systems to gain access to high value organizational data such as banking information, employee credentials, social security numbers, etc."
custom_backend-1  |         ],
custom_backend-1  |         "rightImageAlt": "Add your text here",
custom_backend-1  |         "rightImagePath": "/static_design_images/presentation_c7d45edb-e5ce-41f8-8e9e-01d4571e98e8.mp4",
custom_backend-1  |         "profileImageAlt": "Add your text here",
custom_backend-1  |         "profileImagePath": "",
custom_backend-1  |         "rightImagePrompt": "Add your text here"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1762941741300-n6w30oktf",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-11-12T10:02:21.300Z",
custom_backend-1  |         "updatedAt": "2025-11-12T18:28:29.051Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "Add your text here",
custom_backend-1  |       "templateId": "phishing-definition-slide",
custom_backend-1  |       "slideNumber": 17
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1762941741300-n6w30oktf",
custom_backend-1  |   "templateVersion": "v2",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 303 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:main:üîç [DATA INTEGRITY] Project 303 - Preserved raw dict for VideoLessonPresentationDisplay to prevent slides‚ÜícontentBlocks corruption
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Sending slide-based response to frontend for Project 303:
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response component_name: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response details type: <class 'dict'>
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has slides: True
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has contentBlocks: False
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ FIXED: Slides array preserved with 1 slides
custom_backend-1  | INFO:     172.18.0.10:35200 - "GET /api/custom/projects/view/303 HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üîç [STATIC FILE REQUEST] Incoming request for static file
custom_backend-1  | INFO:main:üîç [STATIC FILE REQUEST] Path: /static_design_images/presentation_c7d45edb-e5ce-41f8-8e9e-01d4571e98e8.mp4
custom_backend-1  | INFO:main:üîç [STATIC FILE REQUEST] Method: GET
custom_backend-1  | INFO:main:üîç [STATIC FILE REQUEST] Headers: {'host': 'dev4.contentbuilder.ai', 'x-real-ip': '10.247.229.1', 'x-forwarded-for': '185.72.184.37, 10.247.229.1', 'x-forwarded-proto': 'http', 'connection': 'close', 'x-forwarded-host': 'dev4.contentbuilder.ai', 'x-forwarded-port': '443', 'sec-ch-ua-platform': '"Windows"', 'accept-encoding': 'identity;q=1, *;q=0', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36', 'sec-ch-ua': '"Chromium";v="142", "Google Chrome";v="142", "Not_A Brand";v="99"', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'video', 'referer': 'https://dev4.contentbuilder.ai/custom-projects-ui/projects-2-new/view/303', 'accept-language': 'uk,uk-UA;q=0.9,ru;q=0.8,en-US;q=0.7,en;q=0.6', 'cookie': '__stripe_mid=41861a28-d48e-4211-9c74-6eab62002f4bb5eab1; _ga=GA1.1.411882127.1753466229; _tt_enable_cookie=1; _ttp=01K11BPMD2GM8N77BEFFDYNKQD_.tt.1; _hjSessionUser_3387502=eyJpZCI6IjBjNjRmNjMxLTkyZGYtNTBjMS04YmMwLWM3NmM1YmUwNjAzYyIsImNyZWF0ZWQiOjE3NTM0NjYyMjkyMTQsImV4aXN0aW5nIjp0cnVlfQ==; _fbp=fb.1.1753466229538.177417628678499348; _ga_9JGTWBJV2Y=GS2.1.s1753466299$o1$g0$t1753466307$j52$l0$h0; ttcsid=1757689130601::iSv93bIYUfLRLoQrG7ST.2.1757689130601; AMP_MKTG_72d6a2f394=JTdCJTIycmVmZXJyZXIlMjIlM0ElMjJodHRwcyUzQSUyRiUyRnd3dy5nb29nbGUuY29tJTJGJTIyJTJDJTIycmVmZXJyaW5nX2RvbWFpbiUyMiUzQSUyMnd3dy5nb29nbGUuY29tJTIyJTdE; ttcsid_CIO2AJBC77UFNL1VNMNG=1757689130600::zGD18yjCjAumJpKzguWC.2.1757689150688; ttcsid_CITEDCRC77U0GPJ5ACD0=1757689130601::dlIAgPg3NsQJBmYBzl4_.2.1757689150688; AMP_72d6a2f394=JTdCJTIyZGV2aWNlSWQlMjIlM0ElMjI4ZjNmNjhhZi05N2FlLTRhNTAtYTY5NS04NmY1M2M3ZjUzYzElMjIlMkMlMjJzZXNzaW9uSWQlMjIlM0ExNzU3Njg5MTMxNTc0JTJDJTIyb3B0T3V0JTIyJTNBZmFsc2UlMkMlMjJsYXN0RXZlbnRUaW1lJTIyJTNBMTc1NzY4OTEzMTU4NiUyQyUyMmxhc3RFdmVudElkJTIyJTNBNSU3RA==; _ga_P1E09663VT=GS2.1.s1757689130$o2$g1$t1757689163$j27$l0$h0; _hjSessionUser_3401173=eyJpZCI6ImE0MWY4YWQ5LTFkYTQtNWY0OC05NWQ4LWFhMzk5NmExMTczMSIsImNyZWF0ZWQiOjE3NTc2ODkxNzA2OTIsImV4aXN0aW5nIjp0cnVlfQ==; fastapiusersauth=nEW1cdBlgHbpx0M0RAW1fkhWNYcrTP3F-lQXfcqBWAI', 'range': 'bytes=0-1048575', 'if-none-match': '"b3a789cf30e9a9f84086c11ab2bec5e8"', 'if-modified-since': 'Wed, 12 Nov 2025 18:28:28 GMT'}
custom_backend-1  | INFO:main:üîç [STATIC FILE REQUEST] Expected file path: static_design_images/presentation_c7d45edb-e5ce-41f8-8e9e-01d4571e98e8.mp4
custom_backend-1  | INFO:main:üîç [STATIC FILE REQUEST] File exists: True
custom_backend-1  | INFO:main:üîç [STATIC FILE REQUEST] File size on disk: 1979430 bytes
custom_backend-1  | INFO:main:üîç [STATIC FILE REQUEST] File first 20 bytes: b'\x00\x00\x00 ftypisom\x00\x00\x02\x00isom'custom_backend-1  | INFO:main:üîç [STATIC FILE RESPONSE] Response status: 304
custom_backend-1  | INFO:main:üîç [STATIC FILE RESPONSE] Response headers: {'etag': '"b3a789cf30e9a9f84086c11ab2bec5e8"'}custom_backend-1  | WARNING:main:WARNING: [STATIC FILE RESPONSE WARNING] No Content-Length header
custom_backend-1  | WARNING:main:WARNING: [STATIC FILE RESPONSE WARNING] No Content-Type header
custom_backend-1  | INFO:     172.18.0.10:35228 - "GET /static_design_images/presentation_c7d45edb-e5ce-41f8-8e9e-01d4571e98e8.mp4 HTTP/1.0" 304 Not Modified
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 63 avatars
custom_backend-1  | INFO:     172.18.0.10:35224 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 303 - Raw details_data type: <class 'dict'>
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 303 - Already dict, after round_hours: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "Add your text here",
custom_backend-1  |         "logoPath": "",
custom_backend-1  |         "pageNumber": "06",
custom_backend-1  |         "definitions": [
custom_backend-1  |           "Using data to access a victim's account and withdrawing money or making an online transaction, e.g. buying a product or service.",
custom_backend-1  |           "Using data to open fake bank accounts or credit cards in the name of the victim and using them to cash out illegal checks, etc.",
custom_backend-1  |           "Using the victim's computer systems to install viruses and worms and disseminating phishing emails further to their contacts.",
custom_backend-1  |           "Using data from some systems to gain access to high value organizational data such as banking information, employee credentials, social security numbers, etc."
custom_backend-1  |         ],
custom_backend-1  |         "rightImageAlt": "Add your text here",
custom_backend-1  |         "rightImagePath": "/static_design_images/presentation_c7d45edb-e5ce-41f8-8e9e-01d4571e98e8.mp4",
custom_backend-1  |         "profileImageAlt": "Add your text here",
custom_backend-1  |         "profileImagePath": "",
custom_backend-1  |         "rightImagePrompt": "Add your text here"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1762941741300-n6w30oktf",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-11-12T10:02:21.300Z",
custom_backend-1  |         "updatedAt": "2025-11-12T18:28:29.051Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "Add your text here",
custom_backend-1  |       "templateId": "phishing-definition-slide",
custom_backend-1  |       "slideNumber": 17
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1762941741300-n6w30oktf",
custom_backend-1  |   "templateVersion": "v2",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 303 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:main:üîç [DATA INTEGRITY] Project 303 - Preserved raw dict for VideoLessonPresentationDisplay to prevent slides‚ÜícontentBlocks corruption
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Sending slide-based response to frontend for Project 303:
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response component_name: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response details type: <class 'dict'>
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has slides: True
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has contentBlocks: False
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ FIXED: Slides array preserved with 1 slides
custom_backend-1  | INFO:     172.18.0.10:37652 - "GET /api/custom/projects/view/303 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 63 avatars
custom_backend-1  | INFO:     172.18.0.10:37644 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 63 avatars
custom_backend-1  | INFO:     172.18.0.10:35698 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] ========== PRESENTATION REQUEST RECEIVED ==========
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] Received presentation request parameters:
custom_backend-1  | INFO:main:  - slide_url: None
custom_backend-1  | INFO:main:  - voiceover_texts_count: 1
custom_backend-1  | INFO:main:  - slides_data_count: 1
custom_backend-1  | INFO:main:  - transitions_count: 0
custom_backend-1  | INFO:main:  - theme: dark-purple
custom_backend-1  | INFO:main:  - avatar_code: gia.business
custom_backend-1  | INFO:main:  - use_avatar_mask: True
custom_backend-1  | INFO:main:  - slide_only: False
custom_backend-1  | INFO:main:  - duration: 30
custom_backend-1  | INFO:main:  - layout: picture_in_picture
custom_backend-1  | INFO:main:  - quality: high
custom_backend-1  | INFO:main:  - resolution: [1920, 1080]
custom_backend-1  | INFO:main:  - project_name: Create your first AI video
custom_backend-1  | INFO:main:üé§ [MAIN_ENDPOINT] Voice parameters received:
custom_backend-1  | INFO:main:  - voice_id: en-US-TonyNeural
custom_backend-1  | INFO:main:  - voice_provider: azure
custom_backend-1  | INFO:main:üé§ [MAIN_ENDPOINT] ========== VOICE PARAMETERS LOGGED ==========
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:[ENTITLEMENTS] Found 0 active addon(s) for user b9ad451e-4c02-4008-9965-d5931ff02aa0
custom_backend-1  | INFO:main:[ENTITLEMENTS] Base limits: connectors=0, storage=1GB
custom_backend-1  | INFO:main:[ENTITLEMENTS] Final limits (with addons): connectors=0, storage=1GB
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] Creating PresentationRequest object...
custom_backend-1  | INFO:main:üé¨ [MAIN_ENDPOINT] PresentationRequest created with use_avatar_mask: True
custom_backend-1  | INFO:main:üé§ [MAIN_ENDPOINT] PresentationRequest created with voice_id: en-US-TonyNeural, voice_provider: azure
custom_backend-1  | INFO:main:üéûÔ∏è [MAIN_ENDPOINT] PresentationRequest created with 0 transitions
custom_backend-1  | INFO:main:üêõ [MAIN_ENDPOINT] PresentationRequest created with slide_only: False
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_SERVICE] ========== PRESENTATION CREATION STARTED ==========
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_SERVICE] Job ID: 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_SERVICE] Voice parameters received:
custom_backend-1  | INFO:app.services.presentation_service:  - voice_id: en-US-TonyNeural
custom_backend-1  | INFO:app.services.presentation_service:  - voice_provider: azure
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_SERVICE] ========== VOICE PARAMETERS LOGGED ==========
custom_backend-1  | INFO:app.services.presentation_service:Created presentation job: 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:main:Returning immediate response for job 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Starting presentation processing for job: 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Request details:
custom_backend-1  | INFO:app.services.presentation_service:  - Slide URL:
custom_backend-1  | INFO:app.services.presentation_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.presentation_service:  - Duration: 30s
custom_backend-1  | INFO:app.services.presentation_service:  - Quality: high
custom_backend-1  | INFO:app.services.presentation_service:  - Layout: picture_in_picture
custom_backend-1  | INFO:app.services.presentation_service:  - Resolution: (1920, 1080)
custom_backend-1  | INFO:app.services.presentation_service:  - Avatar Code: gia.business
custom_backend-1  | INFO:app.services.presentation_service:  - Voiceover Texts Count: 1
custom_backend-1  | INFO:app.services.presentation_service:  - Slides Data Provided: True
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_PROCESSING] Voice parameters:
custom_backend-1  | INFO:app.services.presentation_service:  - Voice ID: en-US-TonyNeural
custom_backend-1  | INFO:app.services.presentation_service:  - Voice Provider: azure
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_PROCESSING] ========== VOICE PARAMETERS LOGGED ==========
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Slides data analysis:
custom_backend-1  | INFO:app.services.presentation_service:  Slide 1:
custom_backend-1  | INFO:app.services.presentation_service:    - Template ID: phishing-definition-slide
custom_backend-1  | INFO:app.services.presentation_service:    - Slide ID: slide-1762941741300-n6w30oktf
custom_backend-1  | INFO:app.services.presentation_service:    - Props Keys: ['title', 'logoPath', 'pageNumber', 'definitions', 'rightImageAlt', 'rightImagePath', 'profileImageAlt', 'profileImagePath', 'rightImagePrompt']
custom_backend-1  | INFO:app.services.presentation_service:    - Title: Add your text here
custom_backend-1  | INFO:app.services.presentation_service:    - Subtitle: N/A
custom_backend-1  | INFO:app.services.presentation_service:    - Content: N/A...
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Voiceover texts:
custom_backend-1  | INFO:app.services.presentation_service:  Text 1: Welcome to this professional presentation. We'll be exploring key concepts and insights that will he...
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748: queued‚Üíprocessing, 0.0%‚Üí5.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-11-12T20:06:53.334307
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Status changed: queued ‚Üí processing
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 0.0% ‚Üí 5.0%
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Attempting to start heartbeat for job 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Current event loop: <Task pending name='Task-65' coro=<ProfessionalPresentationService._process_presentation() running at /app/app/services/presentation_service.py:417> cb=[_run_until_complete_cb() at /usr/local/lib/python3.9/asyncio/base_events.py:184]>
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Job exists in tracking: True
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Started heartbeat for job 5870f000-3c8e-4eee-a2db-a7223e0c4748 (interval: 30s)
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Step 1: Generating clean slide video for job 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748: processing‚Üíprocessing, 5.0%‚Üí10.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-11-12T20:06:53.335969
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 5.0% ‚Üí 10.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Using provided slide data with 1 slides
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] Detailed slide data analysis:
custom_backend-1  | INFO:app.services.presentation_service:  üìÑ Slide 1 Details:
custom_backend-1  | INFO:app.services.presentation_service:    - Template ID: phishing-definition-slide
custom_backend-1  | INFO:app.services.presentation_service:    - Slide ID: slide-1762941741300-n6w30oktf
custom_backend-1  | INFO:app.services.presentation_service:    - Props Type: <class 'dict'>
custom_backend-1  | INFO:     172.18.0.10:35706 - "POST /api/custom/presentations HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.presentation_service:    - Props Keys: ['title', 'logoPath', 'pageNumber', 'definitions', 'rightImageAlt', 'rightImagePath', 'profileImageAlt', 'profileImagePath', 'rightImagePrompt']
custom_backend-1  | INFO:app.services.presentation_service:    - Title: 'Add your text here'
custom_backend-1  | INFO:app.services.presentation_service:    - Subtitle: 'N/A'
custom_backend-1  | INFO:app.services.presentation_service:    - Content: 'N/A...'
custom_backend-1  | INFO:app.services.presentation_service:    - Voiceover Text: 'N/A...'
custom_backend-1  | INFO:app.services.presentation_service:    - logoPath:
custom_backend-1  | INFO:app.services.presentation_service:    - pageNumber: 06
custom_backend-1  | INFO:app.services.presentation_service:    - definitions: ["Using data to access a victim's account and withdrawing money or making an online transaction, e.g. buying a product or service.", 'Using data to open fake bank accounts or credit cards in the name of the victim and using them to cash out illegal checks, etc.', "Using the victim's computer systems to install viruses and worms and disseminating phishing emails further to their contacts.", 'Using data from some systems to gain access to high value organizational data such as banking information, employee credentials, social security numbers, etc.']
custom_backend-1  | INFO:app.services.presentation_service:    - rightImageAlt: Add your text here
custom_backend-1  | INFO:app.services.presentation_service:    - rightImagePath: /static_design_images/presentation_c7d45edb-e5ce-41f8-8e9e-01d4571e98e8.mp4
custom_backend-1  | INFO:app.services.presentation_service:    - profileImageAlt: Add your text here
custom_backend-1  | INFO:app.services.presentation_service:    - profileImagePath:
custom_backend-1  | INFO:app.services.presentation_service:    - rightImagePrompt: Add your text here
custom_backend-1  | INFO:app.services.clean_video_generation_service:Clean Video Generation Service initialized
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [PRESENTATION_PROCESSING] SINGLE-SLIDE MODE: Processing 1 slide
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Processing single slide presentation
custom_backend-1  | INFO:app.services.presentation_service:üé® [SINGLE_SLIDE] Using Elai background color: #0F58F9
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Step 1: Generating avatar video (to determine duration)
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_AVATAR_VIDEO] Starting avatar video generation...
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_AVATAR_VIDEO] Parameters received:
custom_backend-1  | INFO:app.services.presentation_service:  - voiceover_texts_count: 1
custom_backend-1  | INFO:app.services.presentation_service:  - avatar_code: gia.business
custom_backend-1  | INFO:app.services.presentation_service:  - duration: 30
custom_backend-1  | INFO:app.services.presentation_service:  - use_avatar_mask: True
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_AVATAR_VIDEO] Using specified avatar: gia.business
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_AVATAR_VIDEO] Decision point: use_avatar_mask = True
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_AVATAR_VIDEO] DECISION: Using traditional Elai API generation
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_AVATAR_VIDEO] Video composition will use SimpleVideoComposer (OpenCV)
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_WITH_TRADITIONAL_METHOD] Starting traditional avatar generation method
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_WITH_TRADITIONAL_METHOD] Using Elai API + FFmpeg approach
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_WITH_TRADITIONAL_METHOD] Calling _try_generate_with_avatar...
custom_backend-1  | INFO:app.services.presentation_service:üé§ [PRESENTATION_SERVICE] Calling video generation with voice parameters: voice_id=en-US-TonyNeural, voice_provider=azure
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Starting video creation from texts
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Parameters:
custom_backend-1  | INFO:app.services.video_generation_service:  - Project name: Avatar Video
custom_backend-1  | INFO:app.services.video_generation_service:  - Voiceover texts count: 1
custom_backend-1  | INFO:app.services.video_generation_service:  - Avatar code: gia.business
custom_backend-1  | INFO:app.services.video_generation_service:  - Voice ID: en-US-TonyNeural
custom_backend-1  | INFO:app.services.video_generation_service:  - Voice Provider: azure
custom_backend-1  | INFO:app.services.video_generation_service:  - Voiceover text 1: Welcome to this professional presentation. We'll be exploring key concepts and insights that will help you understand the material better....
custom_backend-1  | INFO:app.services.video_generation_service:Cleaned voiceover text 1: Welcome to this professional presentation. We'll be exploring key concepts and insights that will he... (length: 138 chars)
custom_backend-1  | INFO:app.services.video_generation_service:üìä [TEXT_TRUNCATION] Final total length: 138 chars
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Heartbeat task started for job 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748: status=processing, progress=10.0% (beat #1)
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Keeping connection alive - 2025-11-12T20:06:53.397203
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 63 avatars
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Searching for avatar with code: gia.business
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Available avatars count: 63
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Looking for avatar 'gia' with variant 'business'
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Found avatar: Gia with variant: Business
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Avatar details:
custom_backend-1  | INFO:app.services.video_generation_service:  - Name: Gia
custom_backend-1  | INFO:app.services.video_generation_service:  - Code: gia
custom_backend-1  | INFO:app.services.video_generation_service:  - Canvas: None
custom_backend-1  | INFO:app.services.video_generation_service:  - Gender: female
custom_backend-1  | ERROR:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Avatar 'Gia' has empty canvas URL
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Looking for alternative avatar with valid canvas...
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Found alternative avatar: Mikhailo (code: mikhailo_test)
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Using alternative avatar: Mikhailo (code: mikhailo_test)
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Avatar validation:
custom_backend-1  | INFO:app.services.video_generation_service:  - Avatar code: mikhailo_test
custom_backend-1  | INFO:app.services.video_generation_service:  - Selected variant: Business
custom_backend-1  | INFO:app.services.video_generation_service:  - Avatar canvas URL: https://d3u63mhbhkevz8.cloudfront.net/common/gia/business/gia_business.png
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Canvas URL validation passed: https://d3u63mhbhkevz8.cloudfront.net/common/gia/b...
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Using Elai background color: #0F58F9
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Preparing video request with CORRECT 1080x1080 dimensions
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Video request configuration:
custom_backend-1  | INFO:app.services.video_generation_service:  - Name: Avatar Video
custom_backend-1  | INFO:app.services.video_generation_service:  - Format: 1:1 aspect ratio (CORRECT)
custom_backend-1  | INFO:app.services.video_generation_service:  - Resolution: 1080p (CORRECT)
custom_backend-1  | INFO:app.services.video_generation_service:  - Avatar scale: 0.3x0.3 (appropriate for 1080x1080)
custom_backend-1  | INFO:app.services.video_generation_service:  - Avatar canvas URL: https://d3u63mhbhkevz8.cloudfront.net/custom/mikhael/mikhailo.png...
custom_backend-1  | INFO:app.services.video_generation_service:  - Background color: #0F58F9
custom_backend-1  | INFO:app.services.video_generation_service:üìä [PAYLOAD_VALIDATION] Starting payload validation
custom_backend-1  | INFO:app.services.video_generation_service:üìä [PAYLOAD_VALIDATION] Payload size: 916 bytes (0.89 KB)custom_backend-1  | INFO:app.services.video_generation_service:‚úÖ [PAYLOAD_VALIDATION] Payload validation passed
custom_backend-1  | INFO:app.services.video_generation_service:üìä [PAYLOAD_VALIDATION] Statistics:
custom_backend-1  | INFO:app.services.video_generation_service:  - Texts: 1
custom_backend-1  | INFO:app.services.video_generation_service:  - Total text length: 138 chars
custom_backend-1  | INFO:app.services.video_generation_service:  - Payload size: 916 bytes (0.89 KB)
custom_backend-1  | INFO:app.services.video_generation_service:  - Slides: 1
custom_backend-1  | INFO:app.services.video_generation_service:üìä [ELAI_VIDEO_GENERATION] Payload statistics:
custom_backend-1  | INFO:app.services.video_generation_service:  - Size: 916 bytes (0.89 KB)
custom_backend-1  | INFO:app.services.video_generation_service:  - Texts: 1
custom_backend-1  | INFO:app.services.video_generation_service:  - Total text length: 138 chars
custom_backend-1  | INFO:app.services.video_generation_service:  - Slides: 1
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Making API call to Elai
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] API endpoint: https://apis.elai.io/api/v1/videos
custom_backend-1  | INFO:httpx:HTTP Request: POST https://apis.elai.io/api/v1/videos "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] API response status: 200
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] API response headers: {'date': 'Wed, 12 Nov 2025 20:06:54 GMT', 'content-type': 'application/json; charset=utf-8', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'content-encoding': 'gzip', 'vary': 'Origin', 'access-control-allow-credentials': 'true', 'access-control-expose-headers': 'content-disposition', 'etag': 'W/"a68c-QRjpAZAkCQK25WsSR9RYpemp+hM"', 'strict-transport-security': 'max-age=7776000; includeSubDomains', 'x-content-type-options': 'nosniff', 'cf-cache-status': 'DYNAMIC', 'set-cookie': '__cf_bm=JoxNcwGYWbzNqiCYjGGLc243PTsujVGTT260Rcdo_Vg-1762978014-1.0.1.1-YnLaZDJ7vD_CQxMPHPwhoVW7LuBTkir9dY0IgPpg5YPgzxBMrJscjOkAcpMDbGKLFsjHiOBsSxccKAmLM1.Yt1906hP5MeisqnxX3aD718I; path=/; expires=Wed, 12-Nov-25 20:36:54 GMT; domain=.elai.io; HttpOnly; Secure; SameSite=None', 'server': 'cloudflare', 'cf-ray': '99d8a70c68c767a2-SJC'}
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] API response successful
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Video data received:
custom_backend-1  | INFO:app.services.video_generation_service:  - Video ID: 6914e8de8353e8e37c1f0f43
custom_backend-1  | INFO:app.services.video_generation_service:üé¨ [ELAI_VIDEO_GENERATION] Video created successfully: 6914e8de8353e8e37c1f0f43
custom_backend-1  | INFO:app.services.presentation_service:Avatar video created with ID: 6914e8de8353e8e37c1f0f43
custom_backend-1  | INFO:httpx:HTTP Request: POST https://apis.elai.io/api/v1/videos/render/6914e8de8353e8e37c1f0f43 "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Video render started for 6914e8de8353e8e37c1f0f43
custom_backend-1  | INFO:app.services.presentation_service:Waiting for avatar video completion: 6914e8de8353e8e37c1f0f43custom_backend-1  | INFO:app.services.presentation_service:üíì [AVATAR_WAITING] Starting avatar video wait loop with 30s intervals
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/videos/6914e8de8353e8e37c1f0f43 "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Video 6914e8de8353e8e37c1f0f43 status: validating, progress: 80%
custom_backend-1  | INFO:app.services.presentation_service:üíì [AVATAR_WAITING] Avatar video status: validating, Progress: 80%
custom_backend-1  | INFO:app.services.presentation_service:üíì [AVATAR_WAITING] Elapsed time: 0.3s
custom_backend-1  | INFO:     172.18.0.10:35714 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:35730 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53972 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53984 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53994 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:54002 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:54006 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:35954 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:35964 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:35966 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:35968 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:35984 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:34142 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:34154 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748: status=processing, progress=10.0% (beat #2)
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Keeping connection alive - 2025-11-12T20:07:23.425577
custom_backend-1  | INFO:     172.18.0.10:34170 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/videos/6914e8de8353e8e37c1f0f43 "HTTP/1.1 200 OK"
custom_backend-1  | INFO:     172.18.0.10:34172 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_generation_service:Video 6914e8de8353e8e37c1f0f43 status: rendering, progress: 50%
custom_backend-1  | INFO:app.services.presentation_service:üíì [AVATAR_WAITING] Avatar video status: rendering, Progress: 50%
custom_backend-1  | INFO:app.services.presentation_service:üíì [AVATAR_WAITING] Elapsed time: 30.7s
custom_backend-1  | INFO:     172.18.0.10:34186 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:46602 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:46608 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:46622 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:46628 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:46634 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:59512 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:59524 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:59536 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:59542 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:59554 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:46646 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:46652 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748: status=processing, progress=10.0% (beat #3)
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Keeping connection alive - 2025-11-12T20:07:53.458527
custom_backend-1  | INFO:     172.18.0.10:46668 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:46674 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/videos/6914e8de8353e8e37c1f0f43 "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Video 6914e8de8353e8e37c1f0f43 status: rendering, progress: 50%
custom_backend-1  | INFO:app.services.presentation_service:üíì [AVATAR_WAITING] Avatar video status: rendering, Progress: 50%
custom_backend-1  | INFO:app.services.presentation_service:üíì [AVATAR_WAITING] Elapsed time: 61.1s
custom_backend-1  | INFO:     172.18.0.10:46690 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:51798 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:51804 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:51808 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:51812 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:51820 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53214 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53230 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53244 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53260 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53274 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:44342 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:44350 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748: status=processing, progress=10.0% (beat #4)
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Keeping connection alive - 2025-11-12T20:08:23.486307
custom_backend-1  | INFO:     172.18.0.10:44360 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:44362 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/videos/6914e8de8353e8e37c1f0f43 "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Video 6914e8de8353e8e37c1f0f43 status: ready, progress: 100%
custom_backend-1  | INFO:app.services.presentation_service:üíì [AVATAR_WAITING] Avatar video status: ready, Progress: 100%
custom_backend-1  | INFO:app.services.presentation_service:üíì [AVATAR_WAITING] Elapsed time: 91.5s
custom_backend-1  | INFO:app.services.presentation_service:Downloading avatar video: https://apis.elai.io/public/video/6914e8de8353e8e37c1f0f43.mp4?s=eb4f4ca8ebd55f14bce3c852e83d87bdd5ce1c400f3b5a9a2004ec82cbe2c159
custom_backend-1  | INFO:app.services.presentation_service:Avatar video downloaded: output/presentations/avatar_6914e8de8353e8e37c1f0f43.mp4
custom_backend-1  | INFO:app.services.presentation_service:Avatar video downloaded: output/presentations/avatar_6914e8de8353e8e37c1f0f43.mp4
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [_GENERATE_WITH_TRADITIONAL_METHOD] Traditional method completed: output/presentations/avatar_6914e8de8353e8e37c1f0f43.mp4
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748: processing‚Üíprocessing, 10.0%‚Üí40.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-11-12T20:08:27.235342
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 10.0% ‚Üí 40.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Avatar video generated: output/presentations/avatar_6914e8de8353e8e37c1f0f43.mp4
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [DURATION_EXTRACT] Extracting duration from: output/presentations/avatar_6914e8de8353e8e37c1f0f43.mp4
custom_backend-1  | INFO:     172.18.0.10:44372 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [DURATION_EXTRACT] Extracted duration: 8.20 seconds
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Avatar video duration: 8.20 seconds
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Frame optimization: Using avatar duration instead of requested 30s
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Step 2: Generating slide video with matching duration (8.20s)
custom_backend-1  | INFO:app.services.clean_video_generation_service:Generating video for avatar slide: phishing-definition-slide
custom_backend-1  | INFO:app.services.video_assembly_service:Found FFmpeg at: ffmpeg
custom_backend-1  | INFO:app.services.video_assembly_service:Video Assembly Service initialized. FFmpeg: ffmpeg
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] Creating video from 1 slides
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] Parameters:
custom_backend-1  | INFO:app.services.video_assembly_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.video_assembly_service:  - Output path: output/clean_videos/avatar_slide_phishing-definition-slide_20251112_200828.mp4
custom_backend-1  | INFO:app.services.video_assembly_service:  - Slide duration: 8.2
custom_backend-1  | INFO:app.services.video_assembly_service:  - Quality: high
custom_backend-1  | INFO:app.services.html_to_image_service:Using Playwright for HTML to PNG conversion (most reliable)
custom_backend-1  | INFO:app.services.html_to_image_service:HTML to Image Service initialized using: playwright
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] Processing slide 1/1
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] Slide 1 details:
custom_backend-1  | INFO:app.services.video_assembly_service:  - Template ID: phishing-definition-slide
custom_backend-1  | INFO:app.services.video_assembly_service:  - Props keys: ['props', 'slideId', 'metadata', 'slideTitle', 'templateId', 'slideNumber', 'avatarPosition', 'elaiBackgroundColor']
custom_backend-1  | INFO:app.services.video_assembly_service:  - props: {'title': 'Add your text here', 'logoPath': '', 'pageNumber': '06', 'definitions': ["Using data to access a victim's account and withdrawing money or making an online transaction, e.g. buying a product or service.", 'Using data to open fake bank accounts or credit cards in the name of the victim and using them to cash out illegal checks, etc.', "Using the victim's computer systems to install viruses and worms and disseminating phishing emails further to their contacts.", 'Using data from some systems to gain access to high value organizational data such as banking information, employee credentials, social security numbers, etc.'], 'rightImageAlt': 'Add your text here', 'rightImagePath': '/static_design_images/presentation_c7d45edb-e5ce-41f8-8e9e-01d4571e98e8.mp4', 'profileImageAlt': 'Add your text here', 'profileImagePath': '', 'rightImagePrompt': 'Add your text here'}
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideId: 'slide-1762941741300-n6w30oktf...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - metadata: {'version': '1.0', 'createdAt': '2025-11-12T10:02:21.300Z', 'updatedAt': '2025-11-12T18:28:29.051Z'}
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideTitle: 'Add your text here...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - templateId: 'phishing-definition-slide...'
custom_backend-1  | INFO:app.services.video_assembly_service:  - slideNumber: 17
custom_backend-1  | INFO:app.services.video_assembly_service:  - avatarPosition: {'x': 96, 'y': 675, 'width': 256, 'height': 256, 'shape': 'circle'}
custom_backend-1  | INFO:app.services.video_assembly_service:  - elaiBackgroundColor: '#0F58F9...'
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] Converting slide 1 to PNG: /tmp/tmp7fzx_xj5_slide_0.png
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] Slide 1 metadata: {'version': '1.0', 'createdAt': '2025-11-12T10:02:21.300Z', 'updatedAt': '2025-11-12T18:28:29.051Z'}
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] Converting slide to PNG
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] Parameters:
custom_backend-1  | INFO:app.services.html_to_image_service:  - Template ID: phishing-definition-slide
custom_backend-1  | INFO:app.services.html_to_image_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.html_to_image_service:  - Output path: /tmp/tmp7fzx_xj5_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service:  - Props keys: ['title', 'logoPath', 'pageNumber', 'definitions', 'rightImageAlt', 'rightImagePath', 'profileImageAlt', 'profileImagePath', 'rightImagePrompt']
custom_backend-1  | INFO:app.services.html_to_image_service:  - Metadata: {'version': '1.0', 'createdAt': '2025-11-12T10:02:21.300Z', 'updatedAt': '2025-11-12T18:28:29.051Z'}
custom_backend-1  | INFO:app.services.html_to_image_service:  - title: 'Add your text here...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - logoPath: '...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - pageNumber: '06...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - definitions: ["Using data to access a victim's account and withdrawing money or making an online transaction, e.g. buying a product or service.", 'Using data to open fake bank accounts or credit cards in the name of the victim and using them to cash out illegal checks, etc.', "Using the victim's computer systems to install viruses and worms and disseminating phishing emails further to their contacts.", 'Using data from some systems to gain access to high value organizational data such as banking information, employee credentials, social security numbers, etc.']
custom_backend-1  | INFO:app.services.html_to_image_service:  - rightImageAlt: 'Add your text here...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - rightImagePath: '/static_design_images/presentation_c7d45edb-e5ce-41f8-8e9e-01d4571e98e8.mp4...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - profileImageAlt: 'Add your text here...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - profileImagePath: '...'
custom_backend-1  | INFO:app.services.html_to_image_service:  - rightImagePrompt: 'Add your text here...'
custom_backend-1  | INFO:app.services.html_template_service:HTML Template Service initialized with template directory: /app/app/services/../../templates
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] Generating HTML content...
custom_backend-1  | WARNING:app.services.html_template_service:Unknown template ID: phishing-definition-slide
custom_backend-1  | INFO:app.services.html_template_service:Validated props for phishing-definition-slide: ['title', 'logoPath', 'pageNumber', 'definitions', 'rightImageAlt', 'rightImagePath', 'profileImageAlt', 'profileImagePath', 'rightImagePrompt']
custom_backend-1  | INFO:app.services.html_template_service:[HTML_TEMPLATE] Generating HTML for template: phishing-definition-slide, theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:[HTML_TEMPLATE] Props received:
custom_backend-1  | INFO:app.services.html_template_service:  - Props type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Props keys: ['title', 'logoPath', 'pageNumber', 'definitions', 'rightImageAlt', 'rightImagePath', 'profileImageAlt', 'profileImagePath', 'rightImagePrompt']
custom_backend-1  | INFO:app.services.html_template_service: [HTML_TEMPLATE] Metadata received: {'version': '1.0', 'createdAt': '2025-11-12T10:02:21.300Z', 'updatedAt': '2025-11-12T18:28:29.051Z'}
custom_backend-1  | INFO:app.services.html_template_service: [HTML_TEMPLATE] Slide ID received: None
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] === TEXT ELEMENT POSITIONING ANALYSIS ===
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] Input Data Check:
custom_backend-1  | INFO:app.services.html_template_service:  - Template ID: phishing-definition-slide
custom_backend-1  | INFO:app.services.html_template_service:  - Slide ID: None
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata content: {'version': '1.0', 'createdAt': '2025-11-12T10:02:21.300Z', 'updatedAt': '2025-11-12T18:28:29.051Z'}
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] Element Positions found:
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions type: <class 'dict'>
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions content: {}
custom_backend-1  | INFO:app.services.html_template_service:  - Element positions keys: None
custom_backend-1  | WARNING:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] WARNING: NO ELEMENT POSITIONS FOUND IN METADATA
custom_backend-1  | INFO:app.services.html_template_service:  - title: 'Add your text here...'
custom_backend-1  | INFO:app.services.html_template_service:  - logoPath: '...'
custom_backend-1  | INFO:app.services.html_template_service:  - pageNumber: '06...'
custom_backend-1  | INFO:app.services.html_template_service:  - definitions: ["Using data to access a victim's account and withdrawing money or making an online transaction, e.g. buying a product or service.", 'Using data to open fake bank accounts or credit cards in the name of the victim and using them to cash out illegal checks, etc.', "Using the victim's computer systems to install viruses and worms and disseminating phishing emails further to their contacts.", 'Using data from some systems to gain access to high value organizational data such as banking information, employee credentials, social security numbers, etc.']
custom_backend-1  | INFO:app.services.html_template_service:  - rightImageAlt: 'Add your text here...'
custom_backend-1  | INFO:app.services.html_template_service:  - rightImagePath: '/static_design_images/presentation_c7d45edb-e5ce-41f8-8e9e-01d4571e98e8.mp4...'
custom_backend-1  | INFO:app.services.html_template_service:  - profileImageAlt: 'Add your text here...'
custom_backend-1  | INFO:app.services.html_template_service:  - profileImagePath: '...'
custom_backend-1  | INFO:app.services.html_template_service:  - rightImagePrompt: 'Add your text here...'
custom_backend-1  | INFO:app.services.html_template_service: [HTML_TEMPLATE] Context data prepared:
custom_backend-1  | INFO:app.services.html_template_service:  - Template ID: phishing-definition-slide
custom_backend-1  | INFO:app.services.html_template_service:  - Theme: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:  - Metadata: {'version': '1.0', 'createdAt': '2025-11-12T10:02:21.300Z', 'updatedAt': '2025-11-12T18:28:29.051Z'}
custom_backend-1  | INFO:app.services.html_template_service:  - Slide ID: None
custom_backend-1  | INFO:app.services.html_template_service:  - Context keys: ['templateId', 'theme', 'metadata', 'slideId', 'title', 'logoPath', 'pageNumber', 'definitions', 'rightImageAlt', 'rightImagePath', 'profileImageAlt', 'profileImagePath', 'rightImagePrompt']
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] Context Data Check:
custom_backend-1  | INFO:app.services.html_template_service:  - Context metadata: {'version': '1.0', 'createdAt': '2025-11-12T10:02:21.300Z', 'updatedAt': '2025-11-12T18:28:29.051Z'}
custom_backend-1  | INFO:app.services.html_template_service:  - Context slideId: unknown-slide
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] === RENDERING TEMPLATE ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEMPLATE_RENDER] === RENDERING TEMPLATE ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEMPLATE_RENDER] Theme being applied: dark-purple
custom_backend-1  | INFO:app.services.html_template_service:üîç [TEMPLATE_RENDER] Template ID: phishing-definition-slide
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content generated successfully
custom_backend-1  | INFO:app.services.html_template_service:üé¨ [HTML_TEMPLATE] HTML content length: 136430 characters
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] === THEME CLASS VERIFICATION ===
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] ‚úÖ Theme class 'theme-dark-purple' found in HTML
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] ‚úÖ CSS variables (--bg-color) defined in HTML
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] Body tag: <body class="theme-dark-purple">
custom_backend-1  | INFO:app.services.html_template_service:üîç [THEME_VERIFICATION] ‚úÖ Body tag has theme class!
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] === INJECTION FAILURE CHECK ===
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] Raw HTML Output Analysis:
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] SUCCESS: POSITIONING CSS FOUND in HTML
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] Transform CSS found: 12 occurrences
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG]   1. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG]   2. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG]   3. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG]   4. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG]   5. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG]   6. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG]   7. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG]   8. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG]   9. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG]   10. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG]   11. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG]   12. transform: translate(-50%, -50%)
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] SUCCESS: positioned-element class found in HTML
custom_backend-1  | INFO:app.services.html_template_service: [HTML_TEMPLATE] HTML snippet: <!DOCTYPE html>
custom_backend-1  | <html lang="en">
custom_backend-1  | <head>
custom_backend-1  |     <meta charset="UTF-8">
custom_backend-1  |     <meta name="viewport" content="width=device-width, initial-scale=1.0">
custom_backend-1  |     <title>Avatar Slide Template</title>
custom_backend-1  |
custom_backend-1  |     <link rel="preconnect" href="https://fonts.googleapis.com">
custom_backend-1  |     <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
custom_backend-1  |     <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@400;600;700&family=Martel+Sans:wght@400;600;700&family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
custom_backend-1  |
custom_backend-1  |     <style>
custom_backend-1  |         /* Reset and base styles */
custom_backend-1  |         html, body {
custom_backend-1  |             margin: 0;
custom_backend-1  |             padding: 0;
custom_backend-1  |             background: var(--bg-color, #110c35); /* Use theme background, not transparent */
custom_backend-1  |             width: 1920px;
custom_backend-1  |             height: 1080px;
custom_backend-1  |             overflow: hidden;
custom_backend-1  |             font-size: 16px; /* Reduced base font size for better scaling */
custom_backend-1  |         }
custom_backend-1  |
custom_backend-1  |         * {
custom_backend-1  |             mar...
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] === FINAL OUTPUT CHECK ===
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] Final HTML length: 136430 characters
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] HTML contains positioning: True
custom_backend-1  | INFO:app.services.html_template_service: [TEXT_POSITIONING_DEBUG] HTML contains slideId: No slideId provided
custom_backend-1  | INFO:app.services.html_template_service:Generated clean HTML for video: phishing-definition-slide
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] HTML content generated
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] HTML content length: 136430 characters
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] Converting HTML to PNG...
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] ========== HTML-TO-IMAGE CONVERSION STARTED ==========
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] Timestamp: 2025-11-12 20:08:28
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] Template ID: phishing-definition-slide
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] Conversion method: playwright
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] Target dimensions: 1920x1080
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] Output path: /tmp/tmp7fzx_xj5_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] HTML content length: 136430 characters
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] HTML preview (first 150 chars): <!DOCTYPE html>
custom_backend-1  | <html lang="en">
custom_backend-1  | <head>
custom_backend-1  |     <meta charset="UTF-8">
custom_backend-1  |     <meta name="viewport" content="width=device-width, initial-scale=1.0">
custom_backend-1  |     <tit...
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] === CONVERSION METHOD EXECUTION ===
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] Attempting Playwright conversion...
custom_backend-1  | INFO:app.services.html_to_image_service:Using Playwright for HTML to PNG conversion (dimensions: 1920x1080)
custom_backend-1  | INFO:     172.18.0.10:38928 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Using base URL for HTML rendering: http://localhost:8000
custom_backend-1  | INFO:     172.18.0.10:38932 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Setting page content (HTML length: 136430 chars)...
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Page content set successfully (DOM ready)
custom_backend-1  | INFO:     172.18.0.10:38934 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Initial render delay completed
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Waiting for images to load...
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Images loaded successfully
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Waiting for fonts to load...
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Fonts loaded successfully
custom_backend-1  | INFO:     172.18.0.10:38942 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Final render delay completed
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Taking screenshot at 1920x1080...
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Screenshot captured successfully
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Closing browser context...
custom_backend-1  | INFO:     172.18.0.10:38946 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] Browser closed successfully
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] ‚úÖ Conversion successful: 79141 bytes
custom_backend-1  | INFO:app.services.html_to_image_service:üé¨ [PLAYWRIGHT] ‚úÖ Valid PNG signature confirmed
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] SUCCESS: Playwright conversion successful in 8922.78ms
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] === FINAL VERIFICATION ===
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] SUCCESS: Output file created successfully
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] File details:
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide]   - path: /tmp/tmp7fzx_xj5_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide]   - size: 79141 bytes
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide]   - modified: 2025-11-12 20:08:37
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide]   - size category: MEDIUM
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide]   - file header: 89504e470d0a1a0a0000000d49484452
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide]   - valid PNG: True
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] === CONVERSION COMPLETED ===
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] Total processing time: 8923.02ms
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] Method used: playwright
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] Success status: True
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] [conv-1762978108-phishing-definition-slide] File size check: True
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] PNG conversion successful: /tmp/tmp7fzx_xj5_slide_0.png
custom_backend-1  | INFO:app.services.html_to_image_service: [HTML_TO_IMAGE] PNG file size: 79141 bytes
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] Generated PNG for slide 1: phishing-definition-slide
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] PNG file size: 79141 bytes
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] Saved debug slide image: output/presentations/slide_image_debug_1.png
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] Successfully generated 1 PNG files
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] PNG files: ['/tmp/tmp7fzx_xj5_slide_0.png']
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] Creating video from PNGs...
custom_backend-1  | INFO:app.services.video_assembly_service:Creating video from 1 PNG images
custom_backend-1  | INFO:app.services.video_assembly_service:Running FFmpeg command: ffmpeg -y -f concat -safe 0 -i /tmp/tmppksbdked.txt -vf fps=25,scale=1920:1080:force_original_aspect_ratio=decrease,pad=1920:1080:(ow-iw)/2:(oh-ih)/2:color=#110c35 -c:v libx264 -preset slow -crf 18 -pix_fmt yuv420p output/clean_videos/avatar_slide_phishing-definition-slide_20251112_200828.mp4
custom_backend-1  | INFO:     172.18.0.10:44296 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:44312 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:44328 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:44340 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:44352 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:49832 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:49834 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:49848 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:49858 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:49860 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:54290 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:54294 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:54304 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:54314 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:54318 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50470 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50478 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50486 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50496 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50504 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50470 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50482 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50490 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50506 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50508 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:42998 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:43010 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:43016 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:43020 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:43026 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:36862 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:36864 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:36880 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:36896 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:36902 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:37638 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:37642 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:37654 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:37658 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:37664 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:60426 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:60428 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:60430 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:60434 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:60440 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50494 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50510 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50512 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:50518 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_assembly_service:Video created successfully: output/clean_videos/avatar_slide_phishing-definition-slide_20251112_200828.mp4 (186729 bytes)
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] Video creation successful: output/clean_videos/avatar_slide_phishing-definition-slide_20251112_200828.mp4
custom_backend-1  | INFO:app.services.video_assembly_service: [VIDEO_ASSEMBLY] Video file size: 186729 bytes
custom_backend-1  | INFO:app.services.clean_video_generation_service:Avatar slide video generated: output/clean_videos/avatar_slide_phishing-definition-slide_20251112_200828.mp4 (186729 bytes)
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Slide video generated: output/clean_videos/avatar_slide_phishing-definition-slide_20251112_200828.mp4
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [UPLOADED_VIDEO] Single slide: No uploaded video detected, using slide video only
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748: processing‚Üíprocessing, 40.0%‚Üí70.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-11-12T20:10:16.854282
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 40.0% ‚Üí 70.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Composing final video
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Using custom avatar position from template: {'x': 96, 'y': 675, 'width': 256, 'height': 256, 'shape': 'circle'}
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Starting video composition: picture_in_picture
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Input files:
custom_backend-1  | INFO:app.services.video_composer_service:  - Slide video: output/clean_videos/avatar_slide_phishing-definition-slide_20251112_200828.mp4
custom_backend-1  | INFO:app.services.video_composer_service:  - Avatar video: output/presentations/avatar_6914e8de8353e8e37c1f0f43.mp4
custom_backend-1  | INFO:app.services.video_composer_service:  - Output path: output/presentations/presentation_5870f000-3c8e-4eee-a2db-a7223e0c4748.mp4
custom_backend-1  | INFO:app.services.video_composer_service:  - Resolution: (1920, 1080)
custom_backend-1  | INFO:app.services.video_composer_service:  - Quality: high
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748: status=processing, progress=70.0% (beat #5)
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Keeping connection alive - 2025-11-12T20:10:16.884862
custom_backend-1  | INFO:     172.18.0.10:50528 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Video analysis:
custom_backend-1  | INFO:app.services.video_composer_service:  - Slide duration: 16.4s, dimensions: (1920, 1080)
custom_backend-1  | INFO:app.services.video_composer_service:  - Avatar duration: 8.2s, dimensions: (1920, 1080)
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Using SimpleVideoComposer (OpenCV-based)
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Eliminating dual-approach complexitycustom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] SimpleVideoComposer initialized
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Avatar template: {'width': 935, 'height': 843, 'x': 925, 'y': 118}
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Using avatar position: {'x': 96, 'y': 675, 'width': 256, 'height': 256, 'shape': 'circle'}
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Starting video composition
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Input files:
custom_backend-1  | INFO:app.services.simple_video_composer:  - Slide video: output/clean_videos/avatar_slide_phishing-definition-slide_20251112_200828.mp4
custom_backend-1  | INFO:app.services.simple_video_composer:  - Avatar video: output/presentations/avatar_6914e8de8353e8e37c1f0f43.mp4
custom_backend-1  | INFO:app.services.simple_video_composer:  - Output path: output/presentations/presentation_5870f000-3c8e-4eee-a2db-a7223e0c4748.mp4
custom_backend-1  | WARNING:app.services.simple_video_composer:No video stream found in output/clean_videos/avatar_slide_phishing-definition-slide_20251112_200828.mp4
custom_backend-1  | WARNING:app.services.simple_video_composer:No video stream found in output/presentations/avatar_6914e8de8353e8e37c1f0f43.mp4
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Video properties:
custom_backend-1  | INFO:app.services.simple_video_composer:  - Slide: {'width': 1920, 'height': 1080, 'fps': 25.0, 'duration': 10.0}
custom_backend-1  | INFO:app.services.simple_video_composer:  - Avatar: {'width': 1920, 'height': 1080, 'fps': 25.0, 'duration': 10.0}
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition using avatar config: {'x': 96, 'y': 675, 'width': 256, 'height': 256, 'shape': 'circle'}
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Avatar shape: CIRCLE (circular mask)
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Starting frame-by-frame composition
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition setup:
custom_backend-1  | INFO:app.services.simple_video_composer:  - Output dimensions: 1920x1080
custom_backend-1  | INFO:app.services.simple_video_composer:  - Output FPS: 25.0
custom_backend-1  | INFO:app.services.simple_video_composer:  - Slide frames: 410
custom_backend-1  | INFO:app.services.simple_video_composer:  - Avatar frames: 205
custom_backend-1  | INFO:app.services.simple_video_composer:  - Total frames to process: 205 (using min to optimize)
custom_backend-1  | WARNING:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] ‚ö†Ô∏è Frame count mismatch detected!
custom_backend-1  | WARNING:app.services.simple_video_composer:  - Slide frames: 410
custom_backend-1  | WARNING:app.services.simple_video_composer:  - Avatar frames: 205
custom_backend-1  | WARNING:app.services.simple_video_composer:  - Difference: 205 frames (50.0%)
custom_backend-1  | WARNING:app.services.simple_video_composer:  - This may cause sync issues. Consider matching durations when creating videos.
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Processing frames with CROPPING (not resizing) to maintain avatar aspect ratio...
custom_backend-1  | INFO:     172.18.0.10:58990 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] ‚úÖ Using CIRCULAR avatar (border: 0px)
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 0%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 0%
custom_backend-1  | INFO:     172.18.0.10:59006 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:59016 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 5%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 5%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 10%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 10%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 15%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 15%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 20%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 20%
custom_backend-1  | INFO:     172.18.0.10:59024 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 25%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 25%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 30%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 30%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 35%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 35%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 40%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 40%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 45%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 45%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 50%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 50%
custom_backend-1  | INFO:     172.18.0.10:59026 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 55%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 55%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 60%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 60%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 65%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 65%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 70%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 70%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 75%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 75%
custom_backend-1  | INFO:     172.18.0.10:53830 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 80%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 80%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 85%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 85%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 90%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 90%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 95%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 95%
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Composition progress: 100%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition progress: 100%
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Frame composition completed: 205 frames processed
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Output video created: 2580908 bytes
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Adding audio to composed video with BROWSER-COMPATIBLE encoding
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] FFmpeg audio command (FIXED): ffmpeg -i temp/simple_compositions/temp_composition_1762978218.mp4 -i output/presentations/avatar_6914e8de8353e8e37c1f0f43.mp4 -c:v libx264 -profile:v baseline -level 3.0 -pix_fmt yuv420p -movflags +faststart -c:a aac -map 0:v:0 -map 1:a:0 -shortest -y output/presentations/presentation_5870f000-3c8e-4eee-a2db-a7223e0c4748.mp4
custom_backend-1  | INFO:     172.18.0.10:53842 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53846 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53860 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53868 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:36616 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:36622 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:36624 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:36634 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748: status=processing, progress=70.0% (beat #6)
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Keeping connection alive - 2025-11-12T20:10:46.886119
custom_backend-1  | INFO:     172.18.0.10:36644 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:56402 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:56412 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:56424 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:56426 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:56432 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53184 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53192 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53202 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53218 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:53232 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:35878 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:35894 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:35904 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:35918 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748: status=processing, progress=70.0% (beat #7)
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Keeping connection alive - 2025-11-12T20:11:16.887681
custom_backend-1  | INFO:     172.18.0.10:35934 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:48102 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:48118 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Audio merge completed successfully with browser-compatible encoding
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Final video created: 0.33 MB
custom_backend-1  | INFO:app.services.simple_video_composer:üßπ –í–∏–¥–∞–ª–µ–Ω–æ: temp_composition_1762978218.mp4 (2.5MB)
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Video composition completed successfully: output/presentations/presentation_5870f000-3c8e-4eee-a2db-a7223e0c4748.mp4
custom_backend-1  | INFO:app.services.simple_video_composer:üé¨ [SIMPLE_COMPOSER] Temporary directory cleaned up
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [VIDEO_COMPOSITION] Simple composition completed successfully
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748: processing‚Üíprocessing, 70.0%‚Üí90.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-11-12T20:11:23.478752
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 70.0% ‚Üí 90.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [SINGLE_SLIDE_PROCESSING] Final video composed: output/presentations/presentation_5870f000-3c8e-4eee-a2db-a7223e0c4748.mp4
custom_backend-1  | INFO:app.services.presentation_service:üßπ –í–∏–¥–∞–ª–µ–Ω–æ: avatar_slide_phishing-definition-slide_20251112_
200828.mp4 (0.2MB)
custom_backend-1  | INFO:app.services.presentation_service:üßπ –í–∏–¥–∞–ª–µ–Ω–æ: avatar_6914e8de8353e8e37c1f0f43.mp4 (3.0MB)
custom_backend-1  | INFO:app.services.presentation_service:Step 4: Creating thumbnail for job 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [THUMBNAIL_CREATION] Starting thumbnail creation for job 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.video_composer_service:Creating thumbnail from video
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [FFMPEG_EXECUTION] Executing FFmpeg command for: Thumbnail creation
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [FFMPEG_EXECUTION] Command: ffmpeg -i output/presentations/presentation_5870f000-3c8e-4eee-a2db-a7223e0c4748.mp4 -ss 5.0 -vframes 1 -q:v 2 -y output/presentations/thumbnail_5870f000-3c8e-4eee-a2db-a7223e0c4748.jpg
custom_backend-1  | INFO:     172.18.0.10:48132 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [FFMPEG_EXECUTION] Process completed with return code: 0custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [FFMPEG_EXECUTION] Stderr: ffmpeg version 7.1.2-0+deb13u1 Copyright (c) 2000-2025 the FFmpeg developers
custom_backend-1  |   built with gcc 14 (Debian 14.2.0-19)
custom_backend-1  |   configuration: --prefix=/usr --extra-version=0+deb13u1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 --enable-gpl --disable-stripping --disable-libmfx --disable-omx --enable-gnutls --enable-libaom --enable-libass --enable-libbs2b --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libglslang --enable-libgme --enable-libgsm --enable-libharfbuzz --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzimg --enable-openal --enable-opencl --enable-opengl --disable-sndio --enable-libvpl --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-ladspa --enable-libbluray --enable-libcaca --enable-libdvdnav --enable-libdvdread --enable-libjack --enable-libpulse --enable-librabbitmq --enable-librist --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libx264 --enable-libzmq --enable-libzvbi --enable-lv2 --enable-sdl2 --enable-libplacebo --enable-librav1e --enable-pocketsphinx --enable-librsvg --enable-libjxl --enable-shared
custom_backend-1  |   libavutil      59. 39.100 / 59. 39.100
custom_backend-1  |   libavcodec     61. 19.101 / 61. 19.101
custom_backend-1  |   libavformat    61.  7.100 / 61.  7.100
custom_backend-1  |   libavdevice    61.  3.100 / 61.  3.100
custom_backend-1  |   libavfilter    10.  4.100 / 10.  4.100
custom_backend-1  |   libswscale      8.  3.100 /  8.  3.100
custom_backend-1  |   libswresample   5.  3.100 /  5.  3.100
custom_backend-1  |   libpostproc    58.  3.100 / 58.  3.100
custom_backend-1  | Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'output/presentations/presentation_5870f000-3c8e-4eee-a2db-a7223e0c4748.mp4':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Duration: 00:00:08.19, start: 0.000000, bitrate: 341 kb/s
custom_backend-1  |   Stream #0:0[0x1](und): Video: h264 (Constrained Baseline) (avc1 / 0x31637661), yuv420p(progressive), 1920x1080 [SAR 1:1 DAR 16:9], 268 kb/s, 25 fps, 25 tbr, 12800 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 libx264
custom_backend-1  |   Stream #0:1[0x2](und): Audio: aac (LC) (mp4a / 0x6134706D), 24000 Hz, mono, fltp, 69 kb/s (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : SoundHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  | Stream mapping:
custom_backend-1  |   Stream #0:0 -> #0:0 (h264 (native) -> mjpeg (native))
custom_backend-1  | Press [q] to stop, [?] for help
custom_backend-1  | Output #0, image2, to 'output/presentations/thumbnail_5870f000-3c8e-4eee-a2db-a7223e0c4748.jpg':
custom_backend-1  |   Metadata:
custom_backend-1  |     major_brand     : isom
custom_backend-1  |     minor_version   : 512
custom_backend-1  |     compatible_brands: isomiso2avc1mp41
custom_backend-1  |     encoder         : Lavf61.7.100
custom_backend-1  |   Stream #0:0(und): Video: mjpeg, yuv420p(pc, progressive), 1920x1080 [SAR 1:1 DAR 16:9], q=2-31, 200 kb/s, 25 fps, 25 tbn (default)
custom_backend-1  |       Metadata:
custom_backend-1  |         handler_name    : VideoHandler
custom_backend-1  |         vendor_id       : [0][0][0][0]
custom_backend-1  |         encoder         : Lavc61.19.101 mjpeg
custom_backend-1  |       Side data:
custom_backend-1  |         cpb: bitrate max/min/avg: 0/0/200000 buffer size: 0 vbv_delay: N/A
custom_backend-1  | [image2 @ 0x61d8a4d86cc0] The specified filename 'output/presentations/thumbnail_5870f000-3c8e-4eee-a2db-a7223e0c4748.jpg' does not contain an image sequence pattern or a pattern is invalid.
custom_backend-1  | [image2 @ 0x61d8a4d86cc0] Use a pattern such as %03d for an image sequence or use the -update option (with -frames:v 1 if needed) to write a single image.
custom_backend-1  | [out#0/image2 @ 0x61d8a4d84d00] video:104KiB audio:0KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: unknown
custom_backend-1  | frame=    1 fps=0.0 q=2.0 Lsize=N/A time=00:00:00.04 bitrate=N/A speed=0.0407x
custom_backend-1  |
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [FFMPEG_EXECUTION] Thumbnail creation completed successfully
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [FFMPEG_EXECUTION] Output file: output/presentations/thumbnail_5870f000-3c8e-4eee-a2db-a7223e0c4748.jpg
custom_backend-1  | INFO:app.services.video_composer_service:üé¨ [FFMPEG_EXECUTION] Output file size: 106795 bytes
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [THUMBNAIL_CREATION] Thumbnail creation completed successfully for job 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [FINAL_COMPLETION] Starting final completion for job 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [FINAL_COMPLETION] Presentation 5870f000-3c8e-4eee-a2db-a7223e0c4748 processing completed successfully
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [FINAL_COMPLETION] Final video path: output/presentations/presentation_5870f000-3c8e-4eee-a2db-a7223e0c4748.mp4
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [FINAL_COMPLETION] Thumbnail path: output/presentations/thumbnail_5870f000-3c8e-4eee-a2db-a7223e0c4748.jpg
custom_backend-1  | INFO:app.services.presentation_service:üîç [ROOT_CAUSE_DIAGNOSTIC] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748 total processing time: 271.4 seconds
custom_backend-1  | INFO:app.services.presentation_service:üîç [ROOT_CAUSE_DIAGNOSTIC] Job start time: 2025-11-12 20:06:53.329828
custom_backend-1  | INFO:app.services.presentation_service:üîç [ROOT_CAUSE_DIAGNOSTIC] Job completion time: 2025-11-12 20:11:24.753042
custom_backend-1  | WARNING:app.services.presentation_service:üîç [ROOT_CAUSE_DIAGNOSTIC] LONG PROCESSING TIME DETECTED: 271.4s
custom_backend-1  | WARNING:app.services.presentation_service:üîç [ROOT_CAUSE_DIAGNOSTIC] This may cause frontend polling timeout!
custom_backend-1  | WARNING:app.services.presentation_service:üîç [ROOT_CAUSE_DIAGNOSTIC] Frontend likely stopped polling before backend completion
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [FINAL_COMPLETION] Updating job status to completed for job 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üîç [ROOT_CAUSE_DIAGNOSTIC] About to send FINAL 100% status to frontend...
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748: processing‚Üícompleted, 90.0%‚Üí100.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Timestamp: 2025-11-12T20:11:24.753611
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Status changed: processing ‚Üí completedcustom_backend-1  | INFO:app.services.presentation_service:üé¨ [JOB_STATUS_UPDATE] Progress updated: 90.0% ‚Üí 100.0%
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [FINAL_COMPLETION] Job status update completed successfully for job 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üîç [ROOT_CAUSE_DIAGNOSTIC] ‚úÖ FINAL 100% STATUS SENT TO FRONTEND!
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [FINAL_COMPLETION] Stopping heartbeat for job 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Stopped heartbeat for job 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [FINAL_COMPLETION] Heartbeat stopped successfully for job 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [FINAL_COMPLETION] Job 5870f000-3c8e-4eee-a2db-a7223e0c4748 marked as completed with all URLs set
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [FINAL_COMPLETION] Frontend should now receive completion status and trigger download
custom_backend-1  | INFO:app.services.presentation_service:üé¨ [FINAL_COMPLETION] *** COMPLETION PROCESS FINISHED FOR JOB 5870f000-3c8e-4eee-a2db-a7223e0c4748 ***
custom_backend-1  | INFO:app.services.presentation_service:üíì [HEARTBEAT] Heartbeat task cancelled for job 5870f000-3c8e-4eee-a2db-a7223e0c4748 after 7 beats
custom_backend-1  | INFO:     172.18.0.10:48134 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748 HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:48140 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748/video HTTP/1.1" 200 OK
custom_backend-1  | INFO:     172.18.0.10:48142 - "GET /api/custom/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748/video HTTP/1.1" 206 Partial Content
custom_backend-1  | INFO:     172.18.0.10:48152 - "GET /api/custom/design_templates HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:Video product created with metadata: 5870f000-3c8e-4eee-a2db-a7223e0c4748
custom_backend-1  | INFO:main:Video product created, skipping LLM parsing - using direct JSON metadata
custom_backend-1  | INFO:main:Video product detected - using direct JSON metadata without LLM parsing
custom_backend-1  | INFO:main:Video Product Content Type: dict
custom_backend-1  | INFO:main:Video Product Metadata: {"videoJobId": "5870f000-3c8e-4eee-a2db-a7223e0c4748", "videoUrl": "/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748/video", "thumbnailUrl": "/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748/thu
custom_backend-1  | INFO:main:Video product content prepared for DB storage
custom_backend-1  | INFO:main:üé¨ [VIDEO_PRODUCT_DEBUG] Selected template details:
custom_backend-1  | INFO:main:  - Template ID: 3
custom_backend-1  | INFO:main:  - Template Name: Video Product
custom_backend-1  | INFO:main:  - Microproduct Type: video_product
custom_backend-1  | INFO:main:  - Component Name: VideoProductDisplay
custom_backend-1  | INFO:main:üé¨ [VIDEO_PRODUCT_DEBUG] Derived types:
custom_backend-1  | INFO:main:  - derived_product_type: video_product
custom_backend-1  | INFO:main:  - derived_microproduct_type: Video Product
custom_backend-1  | INFO:main:Content prepared for DB storage (first 200 chars of JSON): {'videoJobId': '5870f000-3c8e-4eee-a2db-a7223e0c4748', 'videoUrl': '/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748/video', 'thumbnailUrl': '/presentations/5870f000-3c8e-4eee-a2db-a7223e0c4748/thu
custom_backend-1  | INFO:main:Re-parsed as VideoProductDisplay (raw dictionary).
custom_backend-1  | INFO:     172.18.0.10:48156 - "POST /api/custom/projects/add HTTP/1.1" 201 Created
custom_backend-1  | ERROR:asyncio:Task was destroyed but it is pending!
custom_backend-1  | task: <Task pending name='Task-664' coro=<ProfessionalPresentationService._schedule_job_cleanup() done, defined at /app/app/services/presentation_service.py:2898> wait_for=<Future pending cb=[<TaskWakeupMethWrapper object at 0x73193cc78d90>()]>>
custom_backend-1  | INFO:httpx:HTTP Request: GET http://api_server:8080/me "HTTP/1.1 200 OK"
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 303 - Raw details_data type: <class 'dict'>
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 303 - Already dict, after round_hours: {
custom_backend-1  |   "slides": [
custom_backend-1  |     {
custom_backend-1  |       "props": {
custom_backend-1  |         "title": "Add your text here",
custom_backend-1  |         "logoPath": "",
custom_backend-1  |         "pageNumber": "06",
custom_backend-1  |         "definitions": [
custom_backend-1  |           "Using data to access a victim's account and withdrawing money or making an online transaction, e.g. buying a product or service.",
custom_backend-1  |           "Using data to open fake bank accounts or credit cards in the name of the victim and using them to cash out illegal checks, etc.",
custom_backend-1  |           "Using the victim's computer systems to install viruses and worms and disseminating phishing emails further to their contacts.",
custom_backend-1  |           "Using data from some systems to gain access to high value organizational data such as banking information, employee credentials, social security numbers, etc."
custom_backend-1  |         ],
custom_backend-1  |         "rightImageAlt": "Add your text here",
custom_backend-1  |         "rightImagePath": "/static_design_images/presentation_c7d45edb-e5ce-41f8-8e9e-01d4571e98e8.mp4",
custom_backend-1  |         "profileImageAlt": "Add your text here",
custom_backend-1  |         "profileImagePath": "",
custom_backend-1  |         "rightImagePrompt": "Add your text here"
custom_backend-1  |       },
custom_backend-1  |       "slideId": "slide-1762941741300-n6w30oktf",
custom_backend-1  |       "metadata": {
custom_backend-1  |         "version": "1.0",
custom_backend-1  |         "createdAt": "2025-11-12T10:02:21.300Z",
custom_backend-1  |         "updatedAt": "2025-11-12T18:28:29.051Z"
custom_backend-1  |       },
custom_backend-1  |       "slideTitle": "Add your text here",
custom_backend-1  |       "templateId": "phishing-definition-slide",
custom_backend-1  |       "slideNumber": 17
custom_backend-1  |     }
custom_backend-1  |   ],
custom_backend-1  |   "lessonTitle": "Course on AI tools for teachers of the high school",
custom_backend-1  |   "hasVoiceover": true,
custom_backend-1  |   "currentSlideId": "slide-1762941741300-n6w30oktf",
custom_backend-1  |   "templateVersion": "v2",
custom_backend-1  |   "detectedLanguage": "en"
custom_backend-1  | }
custom_backend-1  | INFO:main:üìã [BACKEND VIEW] Project 303 - No contentBlocks in parsed_details or parsed_details is None
custom_backend-1  | INFO:main:üîç [DATA INTEGRITY] Project 303 - Preserved raw dict for VideoLessonPresentationDisplay to prevent slides‚ÜícontentBlocks corruption
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Sending slide-based response to frontend for Project 303:
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response component_name: VideoLessonPresentationDisplay
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] Response details type: <class 'dict'>
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has slides: True
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ Response dict has contentBlocks: False
custom_backend-1  | INFO:main:üìä [CRITICAL DEBUG] ‚úÖ FIXED: Slides array preserved with 1 slides
custom_backend-1  | INFO:     172.18.0.10:46544 - "GET /api/custom/projects/view/303 HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 63 avatars
custom_backend-1  | INFO:     172.18.0.10:46556 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
custom_backend-1  | INFO:httpx:HTTP Request: GET https://apis.elai.io/api/v1/avatars "HTTP/1.1 200 OK"
custom_backend-1  | INFO:app.services.video_generation_service:Successfully fetched 63 avatars
custom_backend-1  | INFO:     172.18.0.10:46566 - "GET /api/custom/video/avatars HTTP/1.1" 200 OK
